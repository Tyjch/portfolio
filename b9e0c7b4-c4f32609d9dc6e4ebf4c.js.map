{"version":3,"sources":["webpack:///./node_modules/react-flow-renderer/dist/ReactFlow.esm.js"],"names":["_marked","mark","selection_iterator","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray2","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray2","length","i","F","s","done","value","e","_e2","f","TypeError","err","normalCompletion","didErr","step","next","_e3","return","arr","len","arr2","_assign","assign","t","arguments","p","hasOwnProperty","apply","this","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","k","a","j","jl","obj","cc","out","tmp","NOTHING","DRAFTABLE","for","DRAFT_STATE","isDraft","isDraftable","proto","getPrototypeOf","target","key","has","ownKeys","Reflect","getOwnPropertyNames","concat","shallowCopy","base","invokeGetters","clone","create","forEach","desc","getOwnPropertyDescriptor","get","enumerable","defineProperty","writable","configurable","each","cb","isEnumerable","prop","thing","is","x","y","ImmerScope","parent","drafts","canAutoFreeze","patches","revoke","draft","usePatches","patchListener","inversePatches","leave","current","enter","descriptors","createProxy","clonePotentialDraft","state","assertUnrevoked","peek","source","finalizing","prepareCopy","copy","set","assigned","modified","markChanged","proxyProperty","scope","finalized","revoke$1","revoked","push","Error","JSON","stringify","markChangesSweep","hasArrayChanges","hasObjectChanges","keys","baseValue","undefined","state$1","descriptor","legacyProxy","freeze","willFinalize","result","isReplaced","markChangesRecursively","object","i$1","i$2","createProxy$1","ref","Proxy","revocable","arrayTraps","objectTraps","proxy","source$1","peek$1","markChanged$1","deleteProperty","owner","setPrototypeOf","fn","isNaN","parseInt","modernProxy","generatePatches","basePath","assign$1","delta","start","end","path","op","useRemove","replaceCount","path$1","generateArrayPatches","assignedValue","origValue","generateObjectPatches","applyPatches","patch","join","splice","configDefaults","useProxies","autoFreeze","process","onAssign","onDelete","onCopy","Immer","config","setUseProxies","produce","bind","recipe","this$1","defaultBase","self","args","hasError","Promise","then","processResult","error","createDraft","isManual","finishDraft","setAutoFreeze","baseDraft","finalize","isFrozen","finalizeTree","root","rootPath","needPatches","finalizeProperty","isDraftProp","immer","observable","symbolObservablePonyfill","window","global","module","randomString","Math","random","substring","split","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","index","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","unsubscribe","_defineProperty","ownKeys$1","enumerableOnly","filter","sym","_objectSpread2","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","_key","arg","reduce","b","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","createThunkMiddleware","extraArgument","thunk","Similar","list","lastItem","size","withExtraArgument","isEqual","val","delete","callback","thisArg","val1","val2","similar","mapOrSimilar","forceSimilar","Map","moveToMostRecentLru","lru","lruPath","isMatch","ii","lruLen","lruPathLen","removeCachedResult","removedLru","removedLruLen","currentLru","cacheItem","isObjectObject","isPlainObject$1","ctor","prot","debounce","func","wait","immediate","timeout","context","timestamp","later","last","Date","now","setTimeout","debounced","callNow","clear","clearTimeout","flush","debounce_1","StoreContext","useIsomorphicLayoutEffect","Context","useStoreState","mapState","equalityFn","mapStateRef","stateRef","mountedRef","subscriptionMapStateError","forceRender","checkMapState","newState","useStoreActions","mapActions","getActions","createStoreActionsHook","useStoreDispatch","createStoreDispatchHook","useStore","useStoreRehydrated","_useState","rehydrated","setRehydrated","persist","resolveRehydration","createStoreRehydratedHook","_extends","defaultStateResolvers","computed","fnOrStateResolvers","stateResolvers","thunk$1","deepCloneStateWithoutComputed","recursiveClone","acc","isPromise","get$2","cur","set$2","idx","createSimpleProduce","disableImmer","_current","newify","currentPath","finalValue","_draft","_result","parentPath","createReducer","actionReducersDict","customReducers","computedProperties","simpleProduce","reducerForActions","actionReducer","payload","runActionReducerAtPath","stateAfterActions","red","reducerForCustomReducers","bindComputedProperty","noopStorage","getItem","setItem","removeItem","getStorage","storageName","_","localStorage","sessionStorage","createStorageWrapper","storage","transformers","outTransformers","reverse","deserialize","data","simpleKey","substr","parse","isAsync","wrapped","transformed","in","serialize","resolvePersistTargets","whitelist","blacklist","targets","findIndex","createListenerMiddleware","references","internals","listenerActionMap","sourceAction","actionCreatorDict","actionCreator","createComputedPropertyBinder","definition","computedState","limit","cache","computedMeta","memoisedResultFn","FORCE_SIMILAR_INSTEAD_OF_MAP","memoizerific","newMap","fnResult","currentCache","argsLengthMinusOne","isMemoized","numArgs","shift","wasMemoized","storeState","isInReducer","inputs","resolver","createComputedPropertiesMiddleware","extractDataFromModel","model","initialState","injections","defaultState","actionCreators","actionThunks","listenerActionCreators","listenerDefinitions","persistenceConfig","recursiveExtractFromModel","meta","handleValueAsState","initialParentRef","actionDefinition","actionMeta","actionName","resolvedTargets","createActionCreator","thunkHandler","thunkDefinition","thunkMeta","helpers","getStoreActions","getStoreState","createThunkHandler","_actionCreator","startType","successType","failType","dispatchError","dispatchSuccess","resolved","catch","createThunkActionsCreator","persistDefinition","mergeStrategy","extractPersistConfig","listenerActionOrThunk","listenerMeta","targetResolver","targetTypes","targetType","listenerReg","bindListenerDefinitions","createStore$1","options","modelClone","_options","compose$1","_options$devTools","devTools","_options$disableImmer","_options$enhancers","enhancers","_options$initialState","_options$middleware","_options$mockActions","mockActions","_options$name","storeName","_options$reducerEnhan","reducerEnhancer","rootReducer","bindReplaceState","modelDef","ePRS","modelDefinition","mockedActions","persistKey","targetPath","persistor","createPersistor","persistMiddleware","createPersistMiddleware","clearPersistance","resolve","reject","all","createPersistenceClearer","replaceState","nextState","bindStoreInternals","_extractDataFromModel","createStoreInternals","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","easyPeasyMiddleware","bindActionCreators","actionsKey","rebindStore","removeKey","_resolveRehydration","persistInstance","applyRehydrationStrategy","originalState","rehydratedState","setAt","currentTarget","currentNext","asyncStateResolvers","dataPromise","resolvedData","rehydrateStateFromPersistIfNeeded","addModel","modelForKey","clearMockedActions","getListeners","getMockedActions","reconfigure","newModel","removeModel","StoreProvider","children","createElement","Provider","typedHooks","useStoreActions$1","useStoreState$1","useStore$1","fastDeepEqual","equal","RegExp","flags","valueOf","noop","Dispatch","parseTypenames","typenames","types","trim","get$3","c","set$3","on","typename","T","that","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","prefix","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElementNS","creatorFixed","fullname","creator","none","selector","querySelector","array","empty","selectorAll","querySelectorAll","matcher","matches","childMatcher","node","find","childFirst","firstElementChild","sparse","update","EnterNode","datum","_next","_parent","__data__","constant","bindIndex","group","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","names","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","parseTypenames$1","onRemove","__on","m","removeEventListener","onAdd","event","contextListener","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","groups","wrap","_context","prev","_groups","stop","child","contains","root$1","Selection","parents","_parents","selection","select","pointer","sourceEvent","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","noevent","preventDefault","stopImmediatePropagation","dragDisable","view","__noselect","MozUserSelect","yesdrag","noclick","define","factory","extend","Color","subgroups","subnode","subgroup","selectAll","arrayAll","selectChild","match","childFind","selectChildren","childrenFilter","enterGroup","updateGroup","exitGroup","previous","i0","i1","_enter","_exit","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","m1","min","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","nodes","_step","_iterator","attr","getAttributeNS","property","classed","text","html","insert","before","deep","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","l","toLowerCase","exec","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","max","round","h","Hsl","hslConvert","hsl2rgb","m2","channels","displayable","formatHsl","brighter","pow","darker","constant$1","gamma","nogamma","exponential","d","linear","interpolateRgb","rgbGamma","rgb$1","interpolateNumber","reA","reB","interpolateString","am","bm","bs","bi","lastIndex","q","one","zero","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","sqrt","atan2","atan","interpolateTransform","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","scale","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","interpolateTransformSvg","transform","baseVal","consolidate","matrix","cosh","exp","taskHead","taskTail","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","b0","b1","r0","r1","coshr0","u","sinh","duration","SQRT2","_1","_2","frame","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearInterval","setInterval","timeout$1","elapsed","emptyOn","emptyTween","schedule","id","timing","schedules","__transition","tween","tick","ease","init","get$4","set$4","interrupt","active","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","interpolate","attrRemove$1","attrRemoveNS$1","attrConstant$1","value1","string00","interpolate0","string1","string0","attrConstantNS$1","attrFunction$1","string10","attrFunctionNS$1","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","Selection$1","styleRemove$1","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","styleFunction$1","listener0","styleMaybeRemove","styleConstant$1","textFunction$1","textConstant$1","removeFunction","easeVarying","cancel","defaultTiming","constant$2","ZoomEvent","_ref3","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","identity$1","nopropagation","noevent$1","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","hasAttribute","viewBox","width","height","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","isInputDOMNode","includes","nodeName","getDimensions","offsetWidth","offsetHeight","clamp","getHandleBounds","nodeElement","parentBounds","handles","handle","bounds","dimensions","nodeIdAttr","handlePosition","nodeIdSplitted","handleId","position","storeModel","viewportBox","elements","el","isNode","edges","isEdge","selectedElements","selectedNodesBbox","d3Zoom","d3Selection","d3Initialised","minZoom","maxZoom","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","nodesSelectionActive","selectionActive","userSelectionRect","startX","startY","draw","connectionNodeId","connectionHandleType","connectionPosition","snapGrid","snapToGrid","nodesDraggable","nodesConnectable","elementsSelectable","reactFlowVersion","setOnConnect","onConnect","setOnConnectStart","onConnectStart","setOnConnectStop","onConnectStop","setOnConnectEnd","onConnectEnd","setElements","updateNodeDimensions","_a","matchingNode","__rf","handleBounds","updateNodePos","pos","_b","gridSizeX","gridSizeY","updateNodePosDiff","diff","_c","isDragging","setUserSelection","mousePos","updateUserSelection","negativeX","negativeY","nextRect","selectedNodes","getNodesInside","nextSelectedElements","getConnectedEdges","selectedElementsUpdated","unsetUserSelection","getRectOfNodes","setSelection","isActive","unsetNodesSelection","setSelectedElements","selectedElementsArr","updateTransform","setInitTransform","updatedTransform","updateSize","initD3","zoomPane","defaultPosition","defaultZoom","currentTranslateExtent","d3ZoomInstance","touchstarting","touchfirst","touchending","constrain","wheelDelta","touchable","scaleExtent","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","w","clean","__zooming","Gesture","taps","_len2","_key2","wheel","mouse","wheelidled","_len3","_key3","mousemoved","mouseupped","x0","y0","moved","_len4","_key4","changedTouches","k1","shiftKey","_len5","_key5","started","touches","identifier","touch0","touch1","_len6","_key6","l0","l1","dp","dl","_len7","_key7","hypot","collection","scaleBy","scaleTo","k0","translateBy","translateTo","_event","emit","clickDistance","clampedX","clampedY","clampedZoom","setMinZoom","setMaxZoom","setTranslateExtent","setConnectionPosition","setConnectionNodeId","setSnapToGrid","setSnapGrid","setInteractive","isInteractive","setNodesDraggable","setNodesConnectable","setElementsSelectable","fitView","padding","xZoom","yZoom","fittedTransform","zoomTo","zoomLevel","nextZoom","center","centerInverted","zoomedTransform","actions","amount","zoomIn","zoomOut","nodeEnv","element","onLoadProject","currentStore","tx","ty","tScale","snapX","snapY","pointToRendererPoint","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","boxToRect","box","currBox","partially","rBox","nBox","overlappingArea","nodeIds","sourceId","targetId","onLoadGetElements","parseElements","NodeRenderer","props","transformStyle","renderNodes","onlyRenderVisibleNodes","className","nodeType","NodeComponent","nodeTypes","default","console","warn","isSelected","some","isDraggable","draggable","isSelectable","selectable","isConnectable","connectable","isInitialized","xPos","yPos","onClick","onElementClick","onMouseEnter","onNodeMouseEnter","onMouseMove","onNodeMouseMove","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onNodeDragStart","onNodeDragStop","selected","sourcePosition","targetPosition","selectNodesOnDrag","isHidden","renderNode","displayName","Position","ArrowHeadType","BackgroundVariant","ConnectionLineType","NodeRenderer$1","EdgeText","label","labelStyle","labelShowBg","_d","labelBgStyle","_e","labelBgPadding","_f","labelBgBorderRadius","edgeRef","_g","edgeTextBbox","setEdgeTextBbox","textBbox","getBBox","rx","ry","getMarkerEnd","arrowHeadType","markerEndId","getCenter","sourceX","sourceY","targetX","targetY","xOffset","abs","centerX","yOffset","getBezierPath","Bottom","Top","centerY","_centerX","_centerY","leftAndRight","Left","Right","cX","cY","BezierEdge","markerEnd","Fragment","bottomLeftCorner","cornerX","cornerY","cornerSize","bottomRightCorner","rightBottomCorner","topLeftCorner","topRightCorner","rightTopCorner","getSmoothStepPath","borderRadius","offsetX","offsetY","cornerWidth","cornerHeight","firstCornerPath","secondCornerPath","leftTopCorner","leftBottomCorner","SmoothStepEdge","ConnectionLine","connectionLineStyle","connectionPositionX","connectionPositionY","connectionLineType","Bezier","CustomConnectionLineComponent","sourceNode","setSourceNode","hasHandleId","sourceIdSplitted","nodeId","nextSourceNode","sourceHandle","sourceHandleX","sourceHandleY","dAttr","Step","SmoothStep","Marker","markerWidth","markerHeight","orient","refX","refY","MarkerDefinitions","stroke","strokeLinecap","strokeLinejoin","strokeWidth","fill","points","getHandlePosition","getHandle","renderEdge","edge","sourceHandleId","targetHandleId","targetNode","edgeType","EdgeComponent","edgeTypes","targetHandle","sourceHandlePos","targetHandlePos","getEdgePositions","elm","animated","EdgeRenderer","tX","tY","arrowHeadColor","connectionLineComponent","renderConnectionLine","EdgeRenderer$1","getMousePosition","reactFlowNode","containerBounds","SelectionRect","UserSelection","selectionKeyPressed","onMouseDown","onMouseUp","unwrapExports","__esModule","createCommonjsModule","exports","emptyFunction","emptyFunctionWithReset","resetWarningCache","propTypes","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","number","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","factoryWithThrowingShims","classnames","hasOwn","classNames","classes","argType","inner","shims","findInArray","isFunction","isNum","num","int","dontSetMe","getPrefix_1","getPrefix","browserPrefixToKey","browserPrefixToStyle","prefixes","str","shouldCapitalize","toUpperCase","kebabToTitleCase","_default","domFns","_typeof","matchesSelector","matchesSelectorAndParentsTo","baseNode","addEvent","handler","inputOptions","_objectSpread","capture","attachEvent","removeEvent","detachEvent","outerHeight","computedStyle","borderTopWidth","borderBottomWidth","outerWidth","borderLeftWidth","borderRightWidth","innerHeight","paddingTop","paddingBottom","innerWidth","paddingLeft","paddingRight","offsetXYFromParent","evt","offsetParent","offsetParentRect","body","scrollLeft","scrollTop","createCSSTransform","controlPos","positionOffset","translation","getTranslation","_getPrefix","createSVGTransform","getTouch","targetTouches","getTouchIdentifier","addUserSelectStyles","doc","styleEl","getElementById","getElementsByTagName","addClassName","removeUserSelectStyles","removeClassName","getSelection","removeAllRanges","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","WeakMap","symbols","matchesSelectorFunc","method","unitSuffix","defaultX","defaultY","replace","positionFns","findDOMNode","getBoundPosition","right","bottom","cloneBounds","boundNode","ownerWindow","HTMLElement","nodeStyle","boundNodeStyle","offsetLeft","marginLeft","offsetTop","marginTop","marginRight","marginBottom","grid","pendingX","pendingY","canDragX","axis","canDragY","getControlPosition","touchIdentifier","draggableCore","touchObj","createCoreData","isStart","lastX","deltaX","lastY","createDraggableData","coreData","log_1","DraggableCore_1","React$1","_propTypes","_interopRequireDefault","_reactDom","_log","_slicedToArray","_arrayWithHoles","_arr","_n","_s","_i","_iterableToArrayLimit","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","_classCallCheck","instance","Constructor","_defineProperties","_setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","eventsFor","move","dragEventFor","DraggableCore","_React$Component","subClass","superClass","_inherits","protoProps","staticProps","_super","_this","dragging","allowAnyClick","thisNode","disabled","Node","setState","coreEvent","onStart","mounted","enableUserSelectHack","handleDrag","handleDragStop","_snapToGrid2","onDrag","MouseEvent","initMouseEvent","onStop","handleDragStart","onTouchStart","passive","nodeRef","cloneElement","Children","only","onTouchEnd","Component","Draggable_1","_DraggableCore","_classnames","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","_createClass","Draggable","dragged","uiData","slackX","slackY","_getBoundPosition2","newStateX","newStateY","Boolean","_this$props$position","prevPropsPosition","isElementSVG","_classNames","_this$props","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","draggableCoreProps","svgTransform","validPosition","transformOpts","onDragStart","onDragStop","defaultProps","cjs","default_1","DraggableCore_1$1","NodesSelection","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","selectedNode","innerStyle","_onStart","_onDrag","_onStop","useKeyPress","keyCode","keyPressed","setKeyPressed","downHandler","upHandler","viewChanged","prevTransform","eventTransform","eventToFlowTransform","useElementUpdater","propElements","stateElements","nextElements","propElement","existingElement","elementProps","propNode","nodeProps","propEdge","edgeProps","parseElement","ContentRect_1","ContentRect","styles","parseFloat","ResizeObservation_1","ResizeObservation","$$broadcastWidth","$$broadcastHeight","cr","broadcastWidth","broadcastHeight","ResizeObserverEntry_1","ResizeObserverEntry","contentRect","ResizeObserver_1","resizeObservers","ResizeObserver","$$observationTargets","$$activeTargets","$$skippedTargets","message","callbackGuard","$$callback","observe","targetGuard","findTargetIndex","startLoop","unobserve","checkStopLoop","disconnect","functionName","Element","animationFrameCancelToken","gatherActiveObservationsAtDepth","depth","ro","ot","calculateDepthForNode","broadcastActiveObservations","shallowestTargetDepth","entries","obs","entry","targetDepth","notificationIteration","errorEvent","ErrorEvent","runLoop","cancelAnimationFrame","install","ResizeObserver_2","GraphView","onMove","onMoveStart","onMoveEnd","onLoad","selectionKeyCode","onElementsRemove","deleteKeyCode","zoomOnScroll","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","isInitialised","rendererNode","_fitView","_zoomTo","resizeObserver","updateDimensions","onresize","useResizeHandler","deleteKeyPressed","elementsToRemove","connectedEdges","useGlobalKeyHandler","flowTransform","useD3Zoom","project","getElements","setTransform","onZoomPaneClick","onZoomPaneContextMenu","onZoomPaneScroll","onWheel","GraphView$1","BaseHandle","setPosition","isValidConnection","rest","isTarget","handleClasses","nodeIdWithHandleId","closest","recentHoveredHandle","handleType","checkElementBelowIsValid","connection","isValid","resetRecentHandle","elementBelow","elementFromPoint","isHoveringHandle","toggle","_onMouseDown","BaseHandle$1","NodeIdContext","Handle","Consumer","onConnectAction","Handle$1","DefaultNode","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","wrapNode","NodeWrapper","zIndex","pointerEvents","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onSelectNodeHandler","resizeObserver_1","nodeClasses","SelectionListener","onSelectionChange","StepEdge","StraightEdge","wrapEdge","EdgeWrapper","edgeClasses","edgeGroupStyle","onEdgeClick","edgeElement","Wrapper","easyPeasyStore","styleInject","css","insertAt","head","styleSheet","cssText","createTextNode","defaultNodeTypes","input","output","defaultEdgeTypes","straight","smoothstep","ReactFlow","_h","_j","_k","_l","_m","_o","_p","_q","_r","nodeTypesParsed","standardTypes","specialTypes","res","createNodeTypes","edgeTypesParsed","bezier","createEdgeTypes","reactFlowClasses","MiniMapNode","strokeColor","background","backgroundColor","MiniMapNode$1","MiniMap","rect2","nodeStrokeColor","nodeColor","nodeClassName","nodeBorderRadius","maskColor","containerWidth","containerHeight","mapClasses","elementWidth","elementHeight","nodeColorFunc","Function","nodeStrokeColorFunc","nodeClassNameFunc","hasNodes","bb","viewBB","boundingRect","scaledWidth","scaledHeight","viewScale","viewWidth","viewHeight","offset","fillRule","_extends$1","SvgPlus","_extends$2","_ref$1","SvgMinus","_extends$3","_ref$2","SvgFitview","_extends$4","_ref$3","SvgLock","_extends$5","_ref$4","SvgUnlock","Controls","showZoom","showFitView","showInteractive","onZoomIn","onZoomOut","onFitView","onInteractiveChange","defaultColors","Dots","Lines","Background","variant","gap","bgClasses","scaledGap","bgSvgTile","isLines","bgColor","createGridLinesPath","createGridDotsPath","encodeURIComponent","backgroundImage","backgroundPosition","index$2"],"mappings":"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","file":"b9e0c7b4-c4f32609d9dc6e4ebf4c.js","sourcesContent":["import \"core-js/modules/es.math.hypot\";\nimport _defineProperty2 from \"/Users/tylerchurchill/WebstormProjects/portfolio/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/tylerchurchill/WebstormProjects/portfolio/portfolio/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(selection_iterator);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray2(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray2(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray2(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray2(o, minLen); }\n\nfunction _arrayLikeToArray2(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { createContext, useContext, useRef, useReducer, useLayoutEffect, useEffect, useState, memo, useMemo, useCallback, createElement } from 'react';\nimport reactDom from 'react-dom';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n\nvar isArray = Array.isArray;\n\nfunction cc(obj) {\n  var out = \"\";\n  if (typeof obj === \"string\" || typeof obj === \"number\") return obj || \"\";\n  if (isArray(obj)) for (var k = 0, tmp; k < obj.length; k++) {\n    if ((tmp = cc(obj[k])) !== \"\") {\n      out += (out && \" \") + tmp;\n    }\n  } else for (var k in obj) {\n    if (obj.hasOwnProperty(k) && obj[k]) out += (out && \" \") + k;\n  }\n  return out;\n}\n\nvar obj;\nvar NOTHING = typeof Symbol !== \"undefined\" ? Symbol(\"immer-nothing\") : (obj = {}, obj[\"immer-nothing\"] = true, obj);\nvar DRAFTABLE = typeof Symbol !== \"undefined\" && Symbol.for ? Symbol.for(\"immer-draftable\") : \"__$immer_draftable\";\nvar DRAFT_STATE = typeof Symbol !== \"undefined\" && Symbol.for ? Symbol.for(\"immer-state\") : \"__$immer_state\";\n\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\n\nfunction isDraftable(value) {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n\n  if (Array.isArray(value)) {\n    return true;\n  }\n\n  var proto = Object.getPrototypeOf(value);\n\n  if (!proto || proto === Object.prototype) {\n    return true;\n  }\n\n  return !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE];\n}\n\nvar assign = Object.assign || function assign(target, value) {\n  for (var key in value) {\n    if (has(value, key)) {\n      target[key] = value[key];\n    }\n  }\n\n  return target;\n};\n\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : typeof Object.getOwnPropertySymbols !== \"undefined\" ? function (obj) {\n  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n} : Object.getOwnPropertyNames;\n\nfunction shallowCopy(base, invokeGetters) {\n  if (invokeGetters === void 0) invokeGetters = false;\n\n  if (Array.isArray(base)) {\n    return base.slice();\n  }\n\n  var clone = Object.create(Object.getPrototypeOf(base));\n  ownKeys(base).forEach(function (key) {\n    if (key === DRAFT_STATE) {\n      return; // Never copy over draft state.\n    }\n\n    var desc = Object.getOwnPropertyDescriptor(base, key);\n    var value = desc.value;\n\n    if (desc.get) {\n      if (invokeGetters) {\n        value = desc.get.call(base);\n      }\n    }\n\n    if (desc.enumerable) {\n      clone[key] = value;\n    } else if (invokeGetters) {\n      Object.defineProperty(clone, key, {\n        value: value,\n        writable: true,\n        configurable: true\n      });\n    }\n  });\n  return clone;\n}\n\nfunction each(value, cb) {\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      cb(i, value[i], value);\n    }\n  } else {\n    ownKeys(value).forEach(function (key) {\n      return cb(key, value[key], value);\n    });\n  }\n}\n\nfunction isEnumerable(base, prop) {\n  var desc = Object.getOwnPropertyDescriptor(base, prop);\n  return !!desc && desc.enumerable;\n}\n\nfunction has(thing, prop) {\n  return Object.prototype.hasOwnProperty.call(thing, prop);\n}\n\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n/** Each scope represents a `produce` call. */\n\n\nvar ImmerScope = function ImmerScope(parent) {\n  this.drafts = [];\n  this.parent = parent; // Whenever the modified draft contains a draft from another scope, we\n  // need to prevent auto-freezing so the unowned draft can be finalized.\n\n  this.canAutoFreeze = true; // To avoid prototype lookups:\n\n  this.patches = null;\n};\n\nImmerScope.prototype.usePatches = function usePatches(patchListener) {\n  if (patchListener) {\n    this.patches = [];\n    this.inversePatches = [];\n    this.patchListener = patchListener;\n  }\n};\n\nImmerScope.prototype.revoke = function revoke$1() {\n  this.leave();\n  this.drafts.forEach(revoke);\n  this.drafts = null; // Make draft-related methods throw.\n};\n\nImmerScope.prototype.leave = function leave() {\n  if (this === ImmerScope.current) {\n    ImmerScope.current = this.parent;\n  }\n};\n\nImmerScope.current = null;\n\nImmerScope.enter = function () {\n  return this.current = new ImmerScope(this.current);\n};\n\nfunction revoke(draft) {\n  draft[DRAFT_STATE].revoke();\n} // but share them all instead\n\n\nvar descriptors = {};\n\nfunction willFinalize(scope, result, isReplaced) {\n  scope.drafts.forEach(function (draft) {\n    draft[DRAFT_STATE].finalizing = true;\n  });\n\n  if (!isReplaced) {\n    if (scope.patches) {\n      markChangesRecursively(scope.drafts[0]);\n    } // This is faster when we don't care about which attributes changed.\n\n\n    markChangesSweep(scope.drafts);\n  } // When a child draft is returned, look for changes.\n  else if (isDraft(result) && result[DRAFT_STATE].scope === scope) {\n      markChangesSweep(scope.drafts);\n    }\n}\n\nfunction createProxy(base, parent) {\n  var isArray = Array.isArray(base);\n  var draft = clonePotentialDraft(base);\n  each(draft, function (prop) {\n    proxyProperty(draft, prop, isArray || isEnumerable(base, prop));\n  }); // See \"proxy.js\" for property documentation.\n\n  var scope = parent ? parent.scope : ImmerScope.current;\n  var state = {\n    scope: scope,\n    modified: false,\n    finalizing: false,\n    // es5 only\n    finalized: false,\n    assigned: {},\n    parent: parent,\n    base: base,\n    draft: draft,\n    copy: null,\n    revoke: revoke$1,\n    revoked: false // es5 only\n\n  };\n  createHiddenProperty(draft, DRAFT_STATE, state);\n  scope.drafts.push(draft);\n  return draft;\n}\n\nfunction revoke$1() {\n  this.revoked = true;\n}\n\nfunction source(state) {\n  return state.copy || state.base;\n} // Access a property without creating an Immer draft.\n\n\nfunction peek(draft, prop) {\n  var state = draft[DRAFT_STATE];\n\n  if (state && !state.finalizing) {\n    state.finalizing = true;\n    var value = draft[prop];\n    state.finalizing = false;\n    return value;\n  }\n\n  return draft[prop];\n}\n\nfunction get(state, prop) {\n  assertUnrevoked(state);\n  var value = peek(source(state), prop);\n\n  if (state.finalizing) {\n    return value;\n  } // Create a draft if the value is unmodified.\n\n\n  if (value === peek(state.base, prop) && isDraftable(value)) {\n    prepareCopy(state);\n    return state.copy[prop] = createProxy(value, state);\n  }\n\n  return value;\n}\n\nfunction set(state, prop, value) {\n  assertUnrevoked(state);\n  state.assigned[prop] = true;\n\n  if (!state.modified) {\n    if (is(value, peek(source(state), prop))) {\n      return;\n    }\n\n    markChanged(state);\n    prepareCopy(state);\n  }\n\n  state.copy[prop] = value;\n}\n\nfunction markChanged(state) {\n  if (!state.modified) {\n    state.modified = true;\n\n    if (state.parent) {\n      markChanged(state.parent);\n    }\n  }\n}\n\nfunction prepareCopy(state) {\n  if (!state.copy) {\n    state.copy = clonePotentialDraft(state.base);\n  }\n}\n\nfunction clonePotentialDraft(base) {\n  var state = base && base[DRAFT_STATE];\n\n  if (state) {\n    state.finalizing = true;\n    var draft = shallowCopy(state.draft, true);\n    state.finalizing = false;\n    return draft;\n  }\n\n  return shallowCopy(base);\n}\n\nfunction proxyProperty(draft, prop, enumerable) {\n  var desc = descriptors[prop];\n\n  if (desc) {\n    desc.enumerable = enumerable;\n  } else {\n    descriptors[prop] = desc = {\n      configurable: true,\n      enumerable: enumerable,\n      get: function get$1() {\n        return get(this[DRAFT_STATE], prop);\n      },\n      set: function set$1(value) {\n        set(this[DRAFT_STATE], prop, value);\n      }\n    };\n  }\n\n  Object.defineProperty(draft, prop, desc);\n}\n\nfunction assertUnrevoked(state) {\n  if (state.revoked === true) {\n    throw new Error(\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + JSON.stringify(source(state)));\n  }\n} // This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\n\nfunction markChangesSweep(drafts) {\n  // The natural order of drafts in the `scope` array is based on when they\n  // were accessed. By processing drafts in reverse natural order, we have a\n  // better chance of processing leaf nodes first. When a leaf node is known to\n  // have changed, we can avoid any traversal of its ancestor nodes.\n  for (var i = drafts.length - 1; i >= 0; i--) {\n    var state = drafts[i][DRAFT_STATE];\n\n    if (!state.modified) {\n      if (Array.isArray(state.base)) {\n        if (hasArrayChanges(state)) {\n          markChanged(state);\n        }\n      } else if (hasObjectChanges(state)) {\n        markChanged(state);\n      }\n    }\n  }\n}\n\nfunction markChangesRecursively(object) {\n  if (!object || typeof object !== \"object\") {\n    return;\n  }\n\n  var state = object[DRAFT_STATE];\n\n  if (!state) {\n    return;\n  }\n\n  var base = state.base;\n  var draft = state.draft;\n  var assigned = state.assigned;\n\n  if (!Array.isArray(object)) {\n    // Look for added keys.\n    Object.keys(draft).forEach(function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (base[key] === undefined && !has(base, key)) {\n        assigned[key] = true;\n        markChanged(state);\n      } else if (!assigned[key]) {\n        // Only untouched properties trigger recursion.\n        markChangesRecursively(draft[key]);\n      }\n    }); // Look for removed keys.\n\n    Object.keys(base).forEach(function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (draft[key] === undefined && !has(draft, key)) {\n        assigned[key] = false;\n        markChanged(state);\n      }\n    });\n  } else if (hasArrayChanges(state)) {\n    markChanged(state);\n    assigned.length = true;\n\n    if (draft.length < base.length) {\n      for (var i = draft.length; i < base.length; i++) {\n        assigned[i] = false;\n      }\n    } else {\n      for (var i$1 = base.length; i$1 < draft.length; i$1++) {\n        assigned[i$1] = true;\n      }\n    }\n\n    for (var i$2 = 0; i$2 < draft.length; i$2++) {\n      // Only untouched indices trigger recursion.\n      if (assigned[i$2] === undefined) {\n        markChangesRecursively(draft[i$2]);\n      }\n    }\n  }\n}\n\nfunction hasObjectChanges(state) {\n  var base = state.base;\n  var draft = state.draft; // Search for added keys and changed keys. Start at the back, because\n  // non-numeric keys are ordered by time of definition on the object.\n\n  var keys = Object.keys(draft);\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    var key = keys[i];\n    var baseValue = base[key]; // The `undefined` check is a fast path for pre-existing keys.\n\n    if (baseValue === undefined && !has(base, key)) {\n      return true;\n    } // Once a base key is deleted, future changes go undetected, because its\n    // descriptor is erased. This branch detects any missed changes.\n    else {\n        var value = draft[key];\n        var state$1 = value && value[DRAFT_STATE];\n\n        if (state$1 ? state$1.base !== baseValue : !is(value, baseValue)) {\n          return true;\n        }\n      }\n  } // At this point, no keys were added or changed.\n  // Compare key count to determine if keys were deleted.\n\n\n  return keys.length !== Object.keys(base).length;\n}\n\nfunction hasArrayChanges(state) {\n  var draft = state.draft;\n\n  if (draft.length !== state.base.length) {\n    return true;\n  } // See #116\n  // If we first shorten the length, our array interceptors will be removed.\n  // If after that new items are added, result in the same original length,\n  // those last items will have no intercepting property.\n  // So if there is no own descriptor on the last position, we know that items were removed and added\n  // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n  // the last one\n\n\n  var descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1); // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\n  if (descriptor && !descriptor.get) {\n    return true;\n  } // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\n\n  return false;\n}\n\nfunction createHiddenProperty(target, prop, value) {\n  Object.defineProperty(target, prop, {\n    value: value,\n    enumerable: false,\n    writable: true\n  });\n}\n\nvar legacyProxy = /*#__PURE__*/Object.freeze({\n  willFinalize: willFinalize,\n  createProxy: createProxy\n});\n\nfunction willFinalize$1() {}\n\nfunction createProxy$1(base, parent) {\n  var scope = parent ? parent.scope : ImmerScope.current;\n  var state = {\n    // Track which produce call this is associated with.\n    scope: scope,\n    // True for both shallow and deep changes.\n    modified: false,\n    // Used during finalization.\n    finalized: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned: {},\n    // The parent draft state.\n    parent: parent,\n    // The base state.\n    base: base,\n    // The base proxy.\n    draft: null,\n    // Any property proxies.\n    drafts: {},\n    // The base copy with any updated values.\n    copy: null,\n    // Called by the `produce` function.\n    revoke: null\n  };\n  var ref = Array.isArray(base) ? // [state] is used for arrays, to make sure the proxy is array-ish and not violate invariants,\n  // although state itself is an object\n  Proxy.revocable([state], arrayTraps) : Proxy.revocable(state, objectTraps);\n  var revoke = ref.revoke;\n  var proxy = ref.proxy;\n  state.draft = proxy;\n  state.revoke = revoke;\n  scope.drafts.push(proxy);\n  return proxy;\n}\n\nvar objectTraps = {\n  get: get$1,\n  has: function has(target, prop) {\n    return prop in source$1(target);\n  },\n  ownKeys: function ownKeys(target) {\n    return Reflect.ownKeys(source$1(target));\n  },\n  set: set$1,\n  deleteProperty: deleteProperty,\n  getOwnPropertyDescriptor: getOwnPropertyDescriptor,\n  defineProperty: function defineProperty() {\n    throw new Error(\"Object.defineProperty() cannot be used on an Immer draft\"); // prettier-ignore\n  },\n  getPrototypeOf: function getPrototypeOf(target) {\n    return Object.getPrototypeOf(target.base);\n  },\n  setPrototypeOf: function setPrototypeOf() {\n    throw new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\"); // prettier-ignore\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, function (key, fn) {\n  arrayTraps[key] = function () {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\n\narrayTraps.deleteProperty = function (state, prop) {\n  if (isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports deleting array indices\"); // prettier-ignore\n  }\n\n  return objectTraps.deleteProperty.call(this, state[0], prop);\n};\n\narrayTraps.set = function (state, prop, value) {\n  if (prop !== \"length\" && isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports setting array indices and the 'length' property\"); // prettier-ignore\n  }\n\n  return objectTraps.set.call(this, state[0], prop, value);\n}; // returns the object we should be reading the current value from, which is base, until some change has been made\n\n\nfunction source$1(state) {\n  return state.copy || state.base;\n} // Access a property without creating an Immer draft.\n\n\nfunction peek$1(draft, prop) {\n  var state = draft[DRAFT_STATE];\n  var desc = Reflect.getOwnPropertyDescriptor(state ? source$1(state) : draft, prop);\n  return desc && desc.value;\n}\n\nfunction get$1(state, prop) {\n  if (prop === DRAFT_STATE) {\n    return state;\n  }\n\n  var drafts = state.drafts; // Check for existing draft in unmodified state.\n\n  if (!state.modified && has(drafts, prop)) {\n    return drafts[prop];\n  }\n\n  var value = source$1(state)[prop];\n\n  if (state.finalized || !isDraftable(value)) {\n    return value;\n  } // Check for existing draft in modified state.\n\n\n  if (state.modified) {\n    // Assigned values are never drafted. This catches any drafts we created, too.\n    if (value !== peek$1(state.base, prop)) {\n      return value;\n    } // Store drafts on the copy (when one exists).\n\n\n    drafts = state.copy;\n  }\n\n  return drafts[prop] = createProxy$1(value, state);\n}\n\nfunction set$1(state, prop, value) {\n  if (!state.modified) {\n    var baseValue = peek$1(state.base, prop); // Optimize based on value's truthiness. Truthy values are guaranteed to\n    // never be undefined, so we can avoid the `in` operator. Lastly, truthy\n    // values may be drafts, but falsy values are never drafts.\n\n    var isUnchanged = value ? is(baseValue, value) || value === state.drafts[prop] : is(baseValue, value) && prop in state.base;\n\n    if (isUnchanged) {\n      return true;\n    }\n\n    markChanged$1(state);\n  }\n\n  state.assigned[prop] = true;\n  state.copy[prop] = value;\n  return true;\n}\n\nfunction deleteProperty(state, prop) {\n  // The `undefined` check is a fast path for pre-existing keys.\n  if (peek$1(state.base, prop) !== undefined || prop in state.base) {\n    state.assigned[prop] = false;\n    markChanged$1(state);\n  }\n\n  if (state.copy) {\n    delete state.copy[prop];\n  }\n\n  return true;\n} // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n// the same guarantee in ES5 mode.\n\n\nfunction getOwnPropertyDescriptor(state, prop) {\n  var owner = source$1(state);\n  var desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n\n  if (desc) {\n    desc.writable = true;\n    desc.configurable = !Array.isArray(owner) || prop !== \"length\";\n  }\n\n  return desc;\n}\n\nfunction markChanged$1(state) {\n  if (!state.modified) {\n    state.modified = true;\n    state.copy = assign(shallowCopy(state.base), state.drafts);\n    state.drafts = null;\n\n    if (state.parent) {\n      markChanged$1(state.parent);\n    }\n  }\n}\n\nvar modernProxy = /*#__PURE__*/Object.freeze({\n  willFinalize: willFinalize$1,\n  createProxy: createProxy$1\n});\n\nfunction generatePatches(state, basePath, patches, inversePatches) {\n  Array.isArray(state.base) ? generateArrayPatches(state, basePath, patches, inversePatches) : generateObjectPatches(state, basePath, patches, inversePatches);\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n  var assign, assign$1;\n  var base = state.base;\n  var copy = state.copy;\n  var assigned = state.assigned; // Reduce complexity by ensuring `base` is never longer.\n\n  if (copy.length < base.length) {\n    assign = [copy, base], base = assign[0], copy = assign[1];\n    assign$1 = [inversePatches, patches], patches = assign$1[0], inversePatches = assign$1[1];\n  }\n\n  var delta = copy.length - base.length; // Find the first replaced index.\n\n  var start = 0;\n\n  while (base[start] === copy[start] && start < base.length) {\n    ++start;\n  } // Find the last replaced index. Search from the end to optimize splice patches.\n\n\n  var end = base.length;\n\n  while (end > start && base[end - 1] === copy[end + delta - 1]) {\n    --end;\n  } // Process replaced indices.\n\n\n  for (var i = start; i < end; ++i) {\n    if (assigned[i] && copy[i] !== base[i]) {\n      var path = basePath.concat([i]);\n      patches.push({\n        op: \"replace\",\n        path: path,\n        value: copy[i]\n      });\n      inversePatches.push({\n        op: \"replace\",\n        path: path,\n        value: base[i]\n      });\n    }\n  }\n\n  var useRemove = end != base.length;\n  var replaceCount = patches.length; // Process added indices.\n\n  for (var i$1 = end + delta - 1; i$1 >= end; --i$1) {\n    var path$1 = basePath.concat([i$1]);\n    patches[replaceCount + i$1 - end] = {\n      op: \"add\",\n      path: path$1,\n      value: copy[i$1]\n    };\n\n    if (useRemove) {\n      inversePatches.push({\n        op: \"remove\",\n        path: path$1\n      });\n    }\n  } // One \"replace\" patch reverses all non-splicing \"add\" patches.\n\n\n  if (!useRemove) {\n    inversePatches.push({\n      op: \"replace\",\n      path: basePath.concat([\"length\"]),\n      value: base.length\n    });\n  }\n}\n\nfunction generateObjectPatches(state, basePath, patches, inversePatches) {\n  var base = state.base;\n  var copy = state.copy;\n  each(state.assigned, function (key, assignedValue) {\n    var origValue = base[key];\n    var value = copy[key];\n    var op = !assignedValue ? \"remove\" : key in base ? \"replace\" : \"add\";\n\n    if (origValue === value && op === \"replace\") {\n      return;\n    }\n\n    var path = basePath.concat(key);\n    patches.push(op === \"remove\" ? {\n      op: op,\n      path: path\n    } : {\n      op: op,\n      path: path,\n      value: value\n    });\n    inversePatches.push(op === \"add\" ? {\n      op: \"remove\",\n      path: path\n    } : op === \"remove\" ? {\n      op: \"add\",\n      path: path,\n      value: origValue\n    } : {\n      op: \"replace\",\n      path: path,\n      value: origValue\n    });\n  });\n}\n\nfunction applyPatches(draft, patches) {\n  for (var i = 0; i < patches.length; i++) {\n    var patch = patches[i];\n    var path = patch.path;\n\n    if (path.length === 0 && patch.op === \"replace\") {\n      draft = patch.value;\n    } else {\n      var base = draft;\n\n      for (var i$1 = 0; i$1 < path.length - 1; i$1++) {\n        base = base[path[i$1]];\n\n        if (!base || typeof base !== \"object\") {\n          throw new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\"));\n        } // prettier-ignore\n\n      }\n\n      var key = path[path.length - 1];\n\n      switch (patch.op) {\n        case \"replace\":\n          base[key] = patch.value;\n          break;\n\n        case \"add\":\n          if (Array.isArray(base)) {\n            // TODO: support \"foo/-\" paths for appending to an array\n            base.splice(key, 0, patch.value);\n          } else {\n            base[key] = patch.value;\n          }\n\n          break;\n\n        case \"remove\":\n          if (Array.isArray(base)) {\n            base.splice(key, 1);\n          } else {\n            delete base[key];\n          }\n\n          break;\n\n        default:\n          throw new Error(\"Unsupported patch operation: \" + patch.op);\n      }\n    }\n  }\n\n  return draft;\n}\n\nfunction verifyMinified() {}\n\nvar configDefaults = {\n  useProxies: typeof Proxy !== \"undefined\" && typeof Reflect !== \"undefined\",\n  autoFreeze: typeof process !== \"undefined\" ? \"production\" !== \"production\" : verifyMinified.name === \"verifyMinified\",\n  onAssign: null,\n  onDelete: null,\n  onCopy: null\n};\n\nvar Immer = function Immer(config) {\n  assign(this, configDefaults, config);\n  this.setUseProxies(this.useProxies);\n  this.produce = this.produce.bind(this);\n};\n\nImmer.prototype.produce = function produce(base, recipe, patchListener) {\n  var this$1 = this; // curried invocation\n\n  if (typeof base === \"function\" && typeof recipe !== \"function\") {\n    var defaultBase = recipe;\n    recipe = base;\n    var self = this;\n    return function curriedProduce(base) {\n      var this$1 = this;\n      if (base === void 0) base = defaultBase;\n      var args = [],\n          len = arguments.length - 1;\n\n      while (len-- > 0) {\n        args[len] = arguments[len + 1];\n      }\n\n      return self.produce(base, function (draft) {\n        return recipe.call.apply(recipe, [this$1, draft].concat(args));\n      }); // prettier-ignore\n    };\n  } // prettier-ignore\n\n\n  {\n    if (typeof recipe !== \"function\") {\n      throw new Error(\"The first or second argument to `produce` must be a function\");\n    }\n\n    if (patchListener !== undefined && typeof patchListener !== \"function\") {\n      throw new Error(\"The third argument to `produce` must be a function or undefined\");\n    }\n  }\n  var result; // Only plain objects, arrays, and \"immerable classes\" are drafted.\n\n  if (isDraftable(base)) {\n    var scope = ImmerScope.enter();\n    var proxy = this.createProxy(base);\n    var hasError = true;\n\n    try {\n      result = recipe(proxy);\n      hasError = false;\n    } finally {\n      // finally instead of catch + rethrow better preserves original stack\n      if (hasError) {\n        scope.revoke();\n      } else {\n        scope.leave();\n      }\n    }\n\n    if (result instanceof Promise) {\n      return result.then(function (result) {\n        scope.usePatches(patchListener);\n        return this$1.processResult(result, scope);\n      }, function (error) {\n        scope.revoke();\n        throw error;\n      });\n    }\n\n    scope.usePatches(patchListener);\n    return this.processResult(result, scope);\n  } else {\n    result = recipe(base);\n\n    if (result === undefined) {\n      return base;\n    }\n\n    return result !== NOTHING ? result : undefined;\n  }\n};\n\nImmer.prototype.createDraft = function createDraft(base) {\n  if (!isDraftable(base)) {\n    throw new Error(\"First argument to `createDraft` must be a plain object, an array, or an immerable object\"); // prettier-ignore\n  }\n\n  var scope = ImmerScope.enter();\n  var proxy = this.createProxy(base);\n  proxy[DRAFT_STATE].isManual = true;\n  scope.leave();\n  return proxy;\n};\n\nImmer.prototype.finishDraft = function finishDraft(draft, patchListener) {\n  var state = draft && draft[DRAFT_STATE];\n\n  if (!state || !state.isManual) {\n    throw new Error(\"First argument to `finishDraft` must be a draft returned by `createDraft`\"); // prettier-ignore\n  }\n\n  if (state.finalized) {\n    throw new Error(\"The given draft is already finalized\"); // prettier-ignore\n  }\n\n  var scope = state.scope;\n  scope.usePatches(patchListener);\n  return this.processResult(undefined, scope);\n};\n\nImmer.prototype.setAutoFreeze = function setAutoFreeze(value) {\n  this.autoFreeze = value;\n};\n\nImmer.prototype.setUseProxies = function setUseProxies(value) {\n  this.useProxies = value;\n  assign(this, value ? modernProxy : legacyProxy);\n};\n\nImmer.prototype.applyPatches = function applyPatches$1(base, patches) {\n  // Mutate the base state when a draft is passed.\n  if (isDraft(base)) {\n    return applyPatches(base, patches);\n  } // Otherwise, produce a copy of the base state.\n\n\n  return this.produce(base, function (draft) {\n    return applyPatches(draft, patches);\n  });\n};\n/** @internal */\n\n\nImmer.prototype.processResult = function processResult(result, scope) {\n  var baseDraft = scope.drafts[0];\n  var isReplaced = result !== undefined && result !== baseDraft;\n  this.willFinalize(scope, result, isReplaced);\n\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified) {\n      scope.revoke();\n      throw new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\"); // prettier-ignore\n    }\n\n    if (isDraftable(result)) {\n      // Finalize the result in case it contains (or is) a subset of the draft.\n      result = this.finalize(result, null, scope);\n    }\n\n    if (scope.patches) {\n      scope.patches.push({\n        op: \"replace\",\n        path: [],\n        value: result\n      });\n      scope.inversePatches.push({\n        op: \"replace\",\n        path: [],\n        value: baseDraft[DRAFT_STATE].base\n      });\n    }\n  } else {\n    // Finalize the base draft.\n    result = this.finalize(baseDraft, [], scope);\n  }\n\n  scope.revoke();\n\n  if (scope.patches) {\n    scope.patchListener(scope.patches, scope.inversePatches);\n  }\n\n  return result !== NOTHING ? result : undefined;\n};\n/**\n * @internal\n * Finalize a draft, returning either the unmodified base state or a modified\n * copy of the base state.\n */\n\n\nImmer.prototype.finalize = function finalize(draft, path, scope) {\n  var this$1 = this;\n  var state = draft[DRAFT_STATE];\n\n  if (!state) {\n    if (Object.isFrozen(draft)) {\n      return draft;\n    }\n\n    return this.finalizeTree(draft, null, scope);\n  } // Never finalize drafts owned by another scope.\n\n\n  if (state.scope !== scope) {\n    return draft;\n  }\n\n  if (!state.modified) {\n    return state.base;\n  }\n\n  if (!state.finalized) {\n    state.finalized = true;\n    this.finalizeTree(state.draft, path, scope);\n\n    if (this.onDelete) {\n      // The `assigned` object is unreliable with ES5 drafts.\n      if (this.useProxies) {\n        var assigned = state.assigned;\n\n        for (var prop in assigned) {\n          if (!assigned[prop]) {\n            this.onDelete(state, prop);\n          }\n        }\n      } else {\n        var base = state.base;\n        var copy = state.copy;\n        each(base, function (prop) {\n          if (!has(copy, prop)) {\n            this$1.onDelete(state, prop);\n          }\n        });\n      }\n    }\n\n    if (this.onCopy) {\n      this.onCopy(state);\n    } // At this point, all descendants of `state.copy` have been finalized,\n    // so we can be sure that `scope.canAutoFreeze` is accurate.\n\n\n    if (this.autoFreeze && scope.canAutoFreeze) {\n      Object.freeze(state.copy);\n    }\n\n    if (path && scope.patches) {\n      generatePatches(state, path, scope.patches, scope.inversePatches);\n    }\n  }\n\n  return state.copy;\n};\n/**\n * @internal\n * Finalize all drafts in the given state tree.\n */\n\n\nImmer.prototype.finalizeTree = function finalizeTree(root, rootPath, scope) {\n  var this$1 = this;\n  var state = root[DRAFT_STATE];\n\n  if (state) {\n    if (!this.useProxies) {\n      // Create the final copy, with added keys and without deleted keys.\n      state.copy = shallowCopy(state.draft, true);\n    }\n\n    root = state.copy;\n  }\n\n  var needPatches = !!rootPath && !!scope.patches;\n\n  var finalizeProperty = function finalizeProperty(prop, value, parent) {\n    if (value === parent) {\n      throw Error(\"Immer forbids circular references\");\n    } // In the `finalizeTree` method, only the `root` object may be a draft.\n\n\n    var isDraftProp = !!state && parent === root;\n\n    if (isDraft(value)) {\n      var path = isDraftProp && needPatches && !state.assigned[prop] ? rootPath.concat(prop) : null; // Drafts owned by `scope` are finalized here.\n\n      value = this$1.finalize(value, path, scope); // Drafts from another scope must prevent auto-freezing.\n\n      if (isDraft(value)) {\n        scope.canAutoFreeze = false;\n      } // Preserve non-enumerable properties.\n\n\n      if (Array.isArray(parent) || isEnumerable(parent, prop)) {\n        parent[prop] = value;\n      } else {\n        Object.defineProperty(parent, prop, {\n          value: value\n        });\n      } // Unchanged drafts are never passed to the `onAssign` hook.\n\n\n      if (isDraftProp && value === state.base[prop]) {\n        return;\n      }\n    } // Unchanged draft properties are ignored.\n    else if (isDraftProp && is(value, state.base[prop])) {\n        return;\n      } // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n      else if (isDraftable(value) && !Object.isFrozen(value)) {\n          each(value, finalizeProperty);\n        }\n\n    if (isDraftProp && this$1.onAssign) {\n      this$1.onAssign(state, prop, value);\n    }\n  };\n\n  each(root, finalizeProperty);\n  return root;\n};\n\nvar immer = new Immer();\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\n\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\n\nvar setUseProxies = immer.setUseProxies.bind(immer);\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\n\nvar applyPatches$1 = immer.applyPatches.bind(immer);\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\n\nvar createDraft = immer.createDraft.bind(immer);\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\n\nvar finishDraft = immer.finishDraft.bind(immer);\n\nfunction symbolObservablePonyfill(root) {\n  var result;\n  var Symbol = root.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      result = Symbol.observable;\n    } else {\n      result = Symbol('observable');\n      Symbol.observable = result;\n    }\n  } else {\n    result = '@@observable';\n  }\n\n  return result;\n}\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = symbolObservablePonyfill(root);\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[result] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[result] = observable, _ref2;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nfunction createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nfunction Similar() {\n  this.list = [];\n  this.lastItem = undefined;\n  this.size = 0;\n  return this;\n}\n\nSimilar.prototype.get = function (key) {\n  var index;\n\n  if (this.lastItem && this.isEqual(this.lastItem.key, key)) {\n    return this.lastItem.val;\n  }\n\n  index = this.indexOf(key);\n\n  if (index >= 0) {\n    this.lastItem = this.list[index];\n    return this.list[index].val;\n  }\n\n  return undefined;\n};\n\nSimilar.prototype.set = function (key, val) {\n  var index;\n\n  if (this.lastItem && this.isEqual(this.lastItem.key, key)) {\n    this.lastItem.val = val;\n    return this;\n  }\n\n  index = this.indexOf(key);\n\n  if (index >= 0) {\n    this.lastItem = this.list[index];\n    this.list[index].val = val;\n    return this;\n  }\n\n  this.lastItem = {\n    key: key,\n    val: val\n  };\n  this.list.push(this.lastItem);\n  this.size++;\n  return this;\n};\n\nSimilar.prototype.delete = function (key) {\n  var index;\n\n  if (this.lastItem && this.isEqual(this.lastItem.key, key)) {\n    this.lastItem = undefined;\n  }\n\n  index = this.indexOf(key);\n\n  if (index >= 0) {\n    this.size--;\n    return this.list.splice(index, 1)[0];\n  }\n\n  return undefined;\n}; // important that has() doesn't use get() in case an existing key has a falsy value, in which case has() would return false\n\n\nSimilar.prototype.has = function (key) {\n  var index;\n\n  if (this.lastItem && this.isEqual(this.lastItem.key, key)) {\n    return true;\n  }\n\n  index = this.indexOf(key);\n\n  if (index >= 0) {\n    this.lastItem = this.list[index];\n    return true;\n  }\n\n  return false;\n};\n\nSimilar.prototype.forEach = function (callback, thisArg) {\n  var i;\n\n  for (i = 0; i < this.size; i++) {\n    callback.call(thisArg || this, this.list[i].val, this.list[i].key, this);\n  }\n};\n\nSimilar.prototype.indexOf = function (key) {\n  var i;\n\n  for (i = 0; i < this.size; i++) {\n    if (this.isEqual(this.list[i].key, key)) {\n      return i;\n    }\n  }\n\n  return -1;\n}; // check if the numbers are equal, or whether they are both precisely NaN (isNaN returns true for all non-numbers)\n\n\nSimilar.prototype.isEqual = function (val1, val2) {\n  return val1 === val2 || val1 !== val1 && val2 !== val2;\n};\n\nvar similar = Similar;\n\nvar mapOrSimilar = function mapOrSimilar(forceSimilar) {\n  if (typeof Map !== 'function' || forceSimilar) {\n    var Similar = similar;\n    return new Similar();\n  } else {\n    return new Map();\n  }\n};\n\nvar memoizerific = function memoizerific(limit) {\n  var cache = new mapOrSimilar(process.env.FORCE_SIMILAR_INSTEAD_OF_MAP === 'true'),\n      lru = [];\n  return function (fn) {\n    var memoizerific = function memoizerific() {\n      var currentCache = cache,\n          newMap,\n          fnResult,\n          argsLengthMinusOne = arguments.length - 1,\n          lruPath = Array(argsLengthMinusOne + 1),\n          isMemoized = true,\n          i;\n\n      if ((memoizerific.numArgs || memoizerific.numArgs === 0) && memoizerific.numArgs !== argsLengthMinusOne + 1) {\n        throw new Error('Memoizerific functions should always be called with the same number of arguments');\n      } // loop through each argument to traverse the map tree\n\n\n      for (i = 0; i < argsLengthMinusOne; i++) {\n        lruPath[i] = {\n          cacheItem: currentCache,\n          arg: arguments[i]\n        }; // climb through the hierarchical map tree until the second-last argument has been found, or an argument is missing.\n        // if all arguments up to the second-last have been found, this will potentially be a cache hit (determined later)\n\n        if (currentCache.has(arguments[i])) {\n          currentCache = currentCache.get(arguments[i]);\n          continue;\n        }\n\n        isMemoized = false; // make maps until last value\n\n        newMap = new mapOrSimilar(process.env.FORCE_SIMILAR_INSTEAD_OF_MAP === 'true');\n        currentCache.set(arguments[i], newMap);\n        currentCache = newMap;\n      } // we are at the last arg, check if it is really memoized\n\n\n      if (isMemoized) {\n        if (currentCache.has(arguments[argsLengthMinusOne])) {\n          fnResult = currentCache.get(arguments[argsLengthMinusOne]);\n        } else {\n          isMemoized = false;\n        }\n      } // if the result wasn't memoized, compute it and cache it\n\n\n      if (!isMemoized) {\n        fnResult = fn.apply(null, arguments);\n        currentCache.set(arguments[argsLengthMinusOne], fnResult);\n      } // if there is a cache limit, purge any extra results\n\n\n      if (limit > 0) {\n        lruPath[argsLengthMinusOne] = {\n          cacheItem: currentCache,\n          arg: arguments[argsLengthMinusOne]\n        };\n\n        if (isMemoized) {\n          moveToMostRecentLru(lru, lruPath);\n        } else {\n          lru.push(lruPath);\n        }\n\n        if (lru.length > limit) {\n          removeCachedResult(lru.shift());\n        }\n      }\n\n      memoizerific.wasMemoized = isMemoized;\n      memoizerific.numArgs = argsLengthMinusOne + 1;\n      return fnResult;\n    };\n\n    memoizerific.limit = limit;\n    memoizerific.wasMemoized = false;\n    memoizerific.cache = cache;\n    memoizerific.lru = lru;\n    return memoizerific;\n  };\n}; // move current args to most recent position\n\n\nfunction moveToMostRecentLru(lru, lruPath) {\n  var lruLen = lru.length,\n      lruPathLen = lruPath.length,\n      isMatch,\n      i,\n      ii;\n\n  for (i = 0; i < lruLen; i++) {\n    isMatch = true;\n\n    for (ii = 0; ii < lruPathLen; ii++) {\n      if (!isEqual(lru[i][ii].arg, lruPath[ii].arg)) {\n        isMatch = false;\n        break;\n      }\n    }\n\n    if (isMatch) {\n      break;\n    }\n  }\n\n  lru.push(lru.splice(i, 1)[0]);\n} // remove least recently used cache item and all dead branches\n\n\nfunction removeCachedResult(removedLru) {\n  var removedLruLen = removedLru.length,\n      currentLru = removedLru[removedLruLen - 1],\n      tmp,\n      i;\n  currentLru.cacheItem.delete(currentLru.arg); // walk down the tree removing dead branches (size 0) along the way\n\n  for (i = removedLruLen - 2; i >= 0; i--) {\n    currentLru = removedLru[i];\n    tmp = currentLru.cacheItem.get(currentLru.arg);\n\n    if (!tmp || !tmp.size) {\n      currentLru.cacheItem.delete(currentLru.arg);\n    } else {\n      break;\n    }\n  }\n} // check if the numbers are equal, or whether they are both precisely NaN (isNaN returns true for all non-numbers)\n\n\nfunction isEqual(val1, val2) {\n  return val1 === val2 || val1 !== val1 && val2 !== val2;\n}\n/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\nfunction isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n}\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\nfunction isObjectObject(o) {\n  return isObject(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject$1(o) {\n  var ctor, prot;\n  if (isObjectObject(o) === false) return false; // If has modified constructor\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false; // If has modified prototype\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false; // If constructor does not have an Object-specific method\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\n\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n} // Adds compatibility for ES modules\n\n\ndebounce.debounce = debounce;\nvar debounce_1 = debounce;\nvar StoreContext = createContext(); // To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction createStoreStateHook(Context) {\n  return function useStoreState(mapState, equalityFn) {\n    var store = useContext(Context);\n    var mapStateRef = useRef(mapState);\n    var stateRef = useRef();\n    var mountedRef = useRef(true);\n    var subscriptionMapStateError = useRef();\n\n    var _useReducer = useReducer(function (s) {\n      return s + 1;\n    }, 0),\n        forceRender = _useReducer[1];\n\n    if (subscriptionMapStateError.current || mapStateRef.current !== mapState || stateRef.current === undefined) {\n      try {\n        stateRef.current = mapState(store.getState());\n      } catch (err) {\n        throw subscriptionMapStateError.current || err;\n      }\n    }\n\n    useIsomorphicLayoutEffect(function () {\n      mapStateRef.current = mapState;\n      subscriptionMapStateError.current = undefined;\n    });\n    useIsomorphicLayoutEffect(function () {\n      var checkMapState = function checkMapState() {\n        try {\n          var newState = mapStateRef.current(store.getState());\n          var isStateEqual = typeof equalityFn === 'function' ? equalityFn(stateRef.current, newState) : stateRef.current === newState;\n\n          if (isStateEqual) {\n            return;\n          }\n\n          stateRef.current = newState;\n        } catch (err) {\n          // see https://github.com/reduxjs/react-redux/issues/1179\n          // There is a possibility mapState will fail due to stale state or\n          // props, therefore we will just track the error and force our\n          // component to update. It should then receive the updated state\n          subscriptionMapStateError.current = err;\n        }\n\n        if (mountedRef.current) {\n          forceRender({});\n        }\n      };\n\n      var unsubscribe = store.subscribe(checkMapState);\n      checkMapState();\n      return function () {\n        mountedRef.current = false;\n        unsubscribe();\n      };\n    }, []);\n    return stateRef.current;\n  };\n}\n\nvar useStoreState = createStoreStateHook(StoreContext);\n\nfunction createStoreActionsHook(Context) {\n  return function useStoreActions(mapActions) {\n    var store = useContext(Context);\n    return mapActions(store.getActions());\n  };\n}\n\nvar useStoreActions = createStoreActionsHook(StoreContext);\n\nfunction createStoreDispatchHook(Context) {\n  return function useStoreDispatch() {\n    var store = useContext(Context);\n    return store.dispatch;\n  };\n}\n\nvar useStoreDispatch = createStoreDispatchHook(StoreContext);\n\nfunction useStore() {\n  return useContext(StoreContext);\n}\n\nfunction createStoreRehydratedHook(Context) {\n  return function useStoreRehydrated() {\n    var store = useContext(Context);\n\n    var _useState = useState(false),\n        rehydrated = _useState[0],\n        setRehydrated = _useState[1];\n\n    useEffect(function () {\n      store.persist.resolveRehydration().then(function () {\n        return setRehydrated(true);\n      });\n    }, []);\n    return rehydrated;\n  };\n}\n\nvar useStoreRehydrated = createStoreRehydratedHook(StoreContext);\n\nfunction createTypedHooks() {\n  return {\n    useStoreActions: useStoreActions,\n    useStoreDispatch: useStoreDispatch,\n    useStoreState: useStoreState,\n    useStoreRehydrated: useStoreRehydrated,\n    useStore: useStore\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar actionSymbol = 'a';\nvar actionOnSymbol = 'aO';\nvar computedSymbol = 'c';\nvar persistSymbol = 'p';\nvar reducerSymbol = 'r';\nvar thunkOnSymbol = 'tO';\nvar thunkSymbol = 't';\n\nvar action = function action(fn) {\n  fn[actionSymbol] = {};\n  return fn;\n};\n\nvar defaultStateResolvers = [function (state) {\n  return state;\n}];\n\nvar computed = function computed(fnOrStateResolvers, fn) {\n  if (typeof fn === 'function') {\n    fn[computedSymbol] = {\n      stateResolvers: fnOrStateResolvers\n    };\n    return fn;\n  }\n\n  fnOrStateResolvers[computedSymbol] = {\n    stateResolvers: defaultStateResolvers\n  };\n  return fnOrStateResolvers;\n};\n\nvar thunk$1 = function thunk(fn) {\n  fn[thunkSymbol] = {};\n  return fn;\n};\n\nvar deepCloneStateWithoutComputed = function deepCloneStateWithoutComputed(source) {\n  var recursiveClone = function recursiveClone(current) {\n    var next = Object.keys(current).reduce(function (acc, key) {\n      if (Object.getOwnPropertyDescriptor(current, key).get == null) {\n        acc[key] = current[key];\n      }\n\n      return acc;\n    }, {});\n    Object.keys(next).forEach(function (key) {\n      if (isPlainObject$1(next[key])) {\n        next[key] = recursiveClone(next[key]);\n      }\n    });\n    return next;\n  };\n\n  return recursiveClone(source);\n};\n\nvar isPromise = function isPromise(x) {\n  return x != null && typeof x === 'object' && typeof x.then === 'function';\n};\n\nfunction get$2(path, target) {\n  return path.reduce(function (acc, cur) {\n    return isPlainObject$1(acc) ? acc[cur] : undefined;\n  }, target);\n}\n\nfunction newify(currentPath, currentState, finalValue) {\n  if (currentPath.length === 0) {\n    return finalValue;\n  }\n\n  var newState = _extends({}, currentState);\n\n  var key = currentPath[0];\n\n  if (currentPath.length === 1) {\n    newState[key] = finalValue;\n  } else {\n    newState[key] = newify(currentPath.slice(1), newState[key], finalValue);\n  }\n\n  return newState;\n}\n\nvar set$2 = function set(path, target, value) {\n  if (path.length === 0) {\n    if (typeof value === 'object') {\n      Object.keys(target).forEach(function (key) {\n        delete target[key];\n      });\n      Object.keys(value).forEach(function (key) {\n        target[key] = value[key];\n      });\n    }\n\n    return;\n  }\n\n  path.reduce(function (acc, cur, idx) {\n    if (idx + 1 === path.length) {\n      acc[cur] = value;\n    } else {\n      acc[cur] = acc[cur] || {};\n    }\n\n    return acc[cur];\n  }, target);\n};\n\nfunction createSimpleProduce(disableImmer) {\n  if (disableImmer === void 0) {\n    disableImmer = false;\n  }\n\n  return function simpleProduce(path, state, fn) {\n    if (disableImmer) {\n      var _current = get$2(path, state);\n\n      var next = fn(_current);\n\n      if (_current !== next) {\n        return newify(path, state, next);\n      }\n\n      return state;\n    }\n\n    if (path.length === 0) {\n      var _draft = createDraft(state);\n\n      var _result = fn(_draft);\n\n      if (_result) {\n        return isDraft(_result) ? finishDraft(_result) : _result;\n      }\n\n      return finishDraft(_draft);\n    }\n\n    var parentPath = path.slice(0, path.length - 1);\n    var draft = createDraft(state);\n    var parent = get$2(parentPath, state);\n    var current = get$2(path, draft);\n    var result = fn(current);\n\n    if (result) {\n      parent[path[path.length - 1]] = result;\n    }\n\n    return finishDraft(draft);\n  };\n}\n\nfunction createReducer(disableImmer, actionReducersDict, customReducers, computedProperties) {\n  var simpleProduce = createSimpleProduce(disableImmer);\n\n  var runActionReducerAtPath = function runActionReducerAtPath(state, action, actionReducer, path) {\n    return simpleProduce(path, state, function (draft) {\n      return actionReducer(draft, action.payload);\n    });\n  };\n\n  var reducerForActions = function reducerForActions(state, action) {\n    var actionReducer = actionReducersDict[action.type];\n\n    if (actionReducer) {\n      var actionMeta = actionReducer[actionSymbol] || actionReducer[actionOnSymbol];\n      return runActionReducerAtPath(state, action, actionReducer, actionMeta.parent);\n    }\n\n    return state;\n  };\n\n  var reducerForCustomReducers = function reducerForCustomReducers(state, action) {\n    return customReducers.reduce(function (acc, _ref) {\n      var parentPath = _ref.parentPath,\n          key = _ref.key,\n          red = _ref.reducer;\n      return simpleProduce(parentPath, acc, function (draft) {\n        draft[key] = red(draft[key], action);\n        return draft;\n      });\n    }, state);\n  };\n\n  var rootReducer = function rootReducer(state, action) {\n    var stateAfterActions = reducerForActions(state, action);\n    var next = customReducers.length > 0 ? reducerForCustomReducers(stateAfterActions, action) : stateAfterActions;\n\n    if (state !== next) {\n      computedProperties.forEach(function (_ref2) {\n        var parentPath = _ref2.parentPath,\n            bindComputedProperty = _ref2.bindComputedProperty;\n        bindComputedProperty(get$2(parentPath, next));\n      });\n    }\n\n    return next;\n  };\n\n  return rootReducer;\n}\n\nvar noopStorage = {\n  getItem: function getItem() {\n    return undefined;\n  },\n  setItem: function setItem() {\n    return undefined;\n  },\n  removeItem: function removeItem() {\n    return undefined;\n  }\n};\n\nfunction getStorage(storageName) {\n  try {\n    if (typeof window !== 'undefined' && typeof window[storageName] !== 'undefined') {\n      return window[storageName];\n    }\n\n    return noopStorage;\n  } catch (_) {\n    return noopStorage;\n  }\n}\n\nvar localStorage = getStorage('localStorage');\nvar sessionStorage = getStorage('sessionStorage');\n\nfunction createStorageWrapper(storage, transformers) {\n  if (storage === void 0) {\n    storage = sessionStorage;\n  }\n\n  if (transformers === void 0) {\n    transformers = [];\n  }\n\n  if (typeof storage === 'string') {\n    if (storage === 'localStorage') {\n      storage = localStorage;\n    } else if (storage === 'sessionStorage') {\n      storage = sessionStorage;\n    } else {\n      storage = noopStorage;\n    }\n  }\n\n  var outTransformers = transformers.reverse();\n\n  var serialize = function serialize(data, key) {\n    var simpleKey = key.substr(key.indexOf('@') + 1);\n    var transformed = transformers.reduce(function (acc, cur) {\n      return cur.in(acc, simpleKey);\n    }, data);\n    return storage === localStorage || storage === sessionStorage ? JSON.stringify({\n      data: transformed\n    }) : transformed;\n  };\n\n  var deserialize = function deserialize(data, key) {\n    var simpleKey = key.substr(key.indexOf('@') + 1);\n    var result = storage === localStorage || storage === sessionStorage ? JSON.parse(data).data : data;\n    return outTransformers.reduce(function (acc, cur) {\n      return cur.out(acc, simpleKey);\n    }, result);\n  };\n\n  var isAsync = isPromise(storage.getItem('_'));\n  return {\n    isAsync: isAsync,\n    getItem: function getItem(key) {\n      if (isAsync) {\n        return storage.getItem(key).then(function (wrapped) {\n          return wrapped != null ? deserialize(wrapped, key) : undefined;\n        });\n      }\n\n      var wrapped = storage.getItem(key);\n      return wrapped != null ? deserialize(wrapped, key) : undefined;\n    },\n    setItem: function setItem(key, data) {\n      return storage.setItem(key, serialize(data, key));\n    },\n    removeItem: function removeItem(key) {\n      return storage.removeItem(key);\n    }\n  };\n}\n\nfunction extractPersistConfig(path, persistDefinition) {\n  if (persistDefinition === void 0) {\n    persistDefinition = {};\n  }\n\n  return {\n    path: path,\n    config: {\n      blacklist: persistDefinition.blacklist || [],\n      mergeStrategy: persistDefinition.mergeStrategy || 'merge',\n      storage: createStorageWrapper(persistDefinition.storage, persistDefinition.transformers),\n      whitelist: persistDefinition.whitelist || []\n    }\n  };\n}\n\nfunction resolvePersistTargets(target, whitelist, blacklist) {\n  var targets = Object.keys(target);\n\n  if (whitelist.length > 0) {\n    targets = targets.reduce(function (acc, cur) {\n      if (whitelist.findIndex(function (x) {\n        return x === cur;\n      }) !== -1) {\n        return [].concat(acc, [cur]);\n      }\n\n      return acc;\n    }, []);\n  }\n\n  if (blacklist.length > 0) {\n    targets = targets.reduce(function (acc, cur) {\n      if (blacklist.findIndex(function (x) {\n        return x === cur;\n      }) !== -1) {\n        return acc;\n      }\n\n      return [].concat(acc, [cur]);\n    }, []);\n  }\n\n  return targets;\n}\n\nfunction createPersistor(persistKey, references) {\n  return debounce_1(function () {\n    references.internals.persistenceConfig.forEach(function (_ref) {\n      var path = _ref.path,\n          config = _ref.config;\n      var storage = config.storage,\n          whitelist = config.whitelist,\n          blacklist = config.blacklist;\n      var state = references.getState();\n      var persistRoot = deepCloneStateWithoutComputed(get$2(path, state));\n      var targets = resolvePersistTargets(persistRoot, whitelist, blacklist);\n      targets.forEach(function (key) {\n        var targetPath = [].concat(path, [key]);\n        storage.setItem(persistKey(targetPath), get$2(targetPath, state));\n      });\n    });\n  }, 1000);\n}\n\nfunction createPersistMiddleware(persistor, references) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        var state = next(action);\n\n        if (action && action.type !== '@action.ePRS' && references.internals.persistenceConfig.length > 0) {\n          persistor(state);\n        }\n\n        return state;\n      };\n    };\n  };\n}\n\nfunction createPersistenceClearer(persistKey, references) {\n  return function () {\n    return new Promise(function (resolve, reject) {\n      references.internals.persistenceConfig.forEach(function (_ref2) {\n        var path = _ref2.path,\n            config = _ref2.config;\n        var storage = config.storage,\n            whitelist = config.whitelist,\n            blacklist = config.blacklist;\n        var persistRoot = get$2(path, references.getState());\n        var targets = resolvePersistTargets(persistRoot, whitelist, blacklist);\n\n        if (targets.length > 0) {\n          Promise.all(targets.map(function (key) {\n            var targetPath = [].concat(path, [key]);\n            return storage.removeItem(persistKey(targetPath));\n          })).then(function () {\n            return resolve();\n          }, reject);\n        } else {\n          resolve();\n        }\n      });\n    });\n  };\n}\n\nfunction rehydrateStateFromPersistIfNeeded(persistKey, replaceState, references) {\n  // If we have any persist configs we will attemp to perform a state rehydration\n  var resolveRehydration = Promise.resolve();\n\n  if (references.internals.persistenceConfig.length > 0) {\n    references.internals.persistenceConfig.forEach(function (persistInstance) {\n      var path = persistInstance.path,\n          config = persistInstance.config;\n      var blacklist = config.blacklist,\n          mergeStrategy = config.mergeStrategy,\n          storage = config.storage,\n          whitelist = config.whitelist;\n      var state = references.internals.defaultState;\n      var persistRoot = deepCloneStateWithoutComputed(get$2(path, state));\n      var targets = resolvePersistTargets(persistRoot, whitelist, blacklist);\n\n      var applyRehydrationStrategy = function applyRehydrationStrategy(originalState, rehydratedState) {\n        if (mergeStrategy === 'overwrite') {\n          set$2(path, originalState, rehydratedState);\n        } else if (mergeStrategy === 'merge') {\n          var target = get$2(path, originalState);\n          Object.keys(rehydratedState).forEach(function (key) {\n            target[key] = rehydratedState[key];\n          });\n        } else if (mergeStrategy === 'mergeDeep') {\n          var _target = get$2(path, originalState);\n\n          var setAt = function setAt(currentTarget, currentNext) {\n            Object.keys(currentNext).forEach(function (key) {\n              var data = currentNext[key];\n\n              if (isPlainObject$1(data)) {\n                if (!isPlainObject$1(currentTarget[key])) {\n                  currentTarget[key] = {};\n                }\n\n                setAt(currentTarget[key], data);\n              } else {\n                currentTarget[key] = data;\n              }\n            });\n          };\n\n          setAt(_target, rehydratedState);\n        }\n      };\n\n      if (storage.isAsync) {\n        var asyncStateResolvers = targets.reduce(function (acc, key) {\n          var targetPath = [].concat(path, [key]);\n          var dataPromise = storage.getItem(persistKey(targetPath));\n\n          if (isPromise(dataPromise)) {\n            acc.push({\n              key: key,\n              dataPromise: dataPromise\n            });\n          }\n\n          return acc;\n        }, []);\n\n        if (asyncStateResolvers.length > 0) {\n          resolveRehydration = Promise.all(asyncStateResolvers.map(function (x) {\n            return x.dataPromise;\n          })).then(function (resolvedData) {\n            var next = resolvedData.reduce(function (acc, cur, idx) {\n              var key = asyncStateResolvers[idx].key;\n\n              if (cur !== undefined) {\n                acc[key] = cur;\n              }\n\n              return acc;\n            }, {});\n\n            if (Object.keys(next).length === 0) {\n              return;\n            }\n\n            applyRehydrationStrategy(state, next);\n            replaceState(state);\n          });\n        }\n      } else {\n        var next = targets.reduce(function (acc, key) {\n          var targetPath = [].concat(path, [key]);\n          var data = storage.getItem(persistKey(targetPath));\n\n          if (data !== undefined) {\n            acc[key] = data;\n          }\n\n          return acc;\n        }, {});\n        applyRehydrationStrategy(state, next);\n        replaceState(state);\n      }\n    });\n  }\n\n  return resolveRehydration;\n}\n\nfunction createActionCreator(actionDefinition, meta, references) {\n  var prefix = actionDefinition[actionSymbol] ? '@action' : '@actionOn';\n  var type = prefix + \".\" + meta.path.join('.');\n  var actionMeta = actionDefinition[actionSymbol] || actionDefinition[actionOnSymbol];\n  actionMeta.actionName = meta.key;\n  actionMeta.type = type;\n  actionMeta.parent = meta.parent;\n  actionMeta.path = meta.path;\n\n  var actionCreator = function actionCreator(payload) {\n    var action = {\n      type: type,\n      payload: payload\n    };\n\n    if (actionDefinition[actionOnSymbol] && actionMeta.resolvedTargets) {\n      payload.resolvedTargets = [].concat(actionMeta.resolvedTargets);\n    }\n\n    var result = references.dispatch(action);\n    return result;\n  };\n\n  actionCreator.type = type;\n  return actionCreator;\n}\n\nfunction createThunkHandler(thunkDefinition, meta, references, injections, actionCreators) {\n  var thunkMeta = thunkDefinition[thunkSymbol] || thunkDefinition[thunkOnSymbol];\n  return function (payload) {\n    var helpers = {\n      dispatch: references.dispatch,\n      getState: function getState() {\n        return get$2(meta.parent, references.getState());\n      },\n      getStoreActions: function getStoreActions() {\n        return actionCreators;\n      },\n      getStoreState: references.getState,\n      injections: injections,\n      meta: meta\n    };\n\n    if (thunkDefinition[thunkOnSymbol] && thunkMeta.resolvedTargets) {\n      payload.resolvedTargets = [].concat(thunkMeta.resolvedTargets);\n    }\n\n    return thunkDefinition(get$2(meta.parent, actionCreators), payload, helpers);\n  };\n}\n\nfunction createThunkActionsCreator(thunkDefinition, meta, references, thunkHandler) {\n  var prefix = thunkDefinition[thunkSymbol] ? '@thunk' : '@thunkOn';\n  var type = prefix + \".\" + meta.path.join('.');\n  var startType = type + \"(start)\";\n  var successType = type + \"(success)\";\n  var failType = type + \"(fail)\";\n  var thunkMeta = thunkDefinition[thunkSymbol] || thunkDefinition[thunkOnSymbol];\n  thunkMeta.type = type;\n  thunkMeta.actionName = meta.key;\n  thunkMeta.parent = meta.parent;\n  thunkMeta.path = meta.path;\n\n  var actionCreator = function actionCreator(payload) {\n    var dispatchError = function dispatchError(err) {\n      references.dispatch({\n        type: failType,\n        payload: payload,\n        error: err\n      });\n      references.dispatch({\n        type: type,\n        payload: payload,\n        error: err\n      });\n    };\n\n    var dispatchSuccess = function dispatchSuccess(result) {\n      references.dispatch({\n        type: successType,\n        payload: payload,\n        result: result\n      });\n      references.dispatch({\n        type: type,\n        payload: payload,\n        result: result\n      });\n    };\n\n    references.dispatch({\n      type: startType,\n      payload: payload\n    });\n\n    try {\n      var result = references.dispatch(function () {\n        return thunkHandler(payload);\n      });\n\n      if (isPromise(result)) {\n        return result.then(function (resolved) {\n          dispatchSuccess(resolved);\n          return resolved;\n        }).catch(function (err) {\n          dispatchError(err);\n          throw err;\n        });\n      }\n\n      dispatchSuccess(result);\n      return result;\n    } catch (err) {\n      dispatchError(err);\n      throw err;\n    }\n  };\n\n  actionCreator.type = type;\n  actionCreator.startType = startType;\n  actionCreator.successType = successType;\n  actionCreator.failType = failType;\n  return actionCreator;\n}\n\nfunction createListenerMiddleware(references) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        var result = next(action);\n\n        if (action && references.internals.listenerActionMap[action.type] && references.internals.listenerActionMap[action.type].length > 0) {\n          var sourceAction = references.internals.actionCreatorDict[action.type];\n          references.internals.listenerActionMap[action.type].forEach(function (actionCreator) {\n            actionCreator({\n              type: sourceAction ? sourceAction.type : action.type,\n              payload: action.payload,\n              error: action.error,\n              result: action.result\n            });\n          });\n        }\n\n        return result;\n      };\n    };\n  };\n}\n\nfunction bindListenerDefinitions(listenerDefinitions, actionCreators, actionCreatorDict, listenerActionMap) {\n  listenerDefinitions.forEach(function (listenerActionOrThunk) {\n    var listenerMeta = listenerActionOrThunk[actionOnSymbol] || listenerActionOrThunk[thunkOnSymbol];\n    var targets = listenerMeta.targetResolver(get$2(listenerMeta.parent, actionCreators), actionCreators);\n    var targetTypes = (Array.isArray(targets) ? targets : [targets]).reduce(function (acc, target) {\n      if (typeof target === 'function' && target.type && actionCreatorDict[target.type]) {\n        acc.push(target.type);\n      } else if (typeof target === 'string') {\n        acc.push(target);\n      }\n\n      return acc;\n    }, []);\n    listenerMeta.resolvedTargets = targetTypes;\n    targetTypes.forEach(function (targetType) {\n      var listenerReg = listenerActionMap[targetType] || [];\n      listenerReg.push(actionCreatorDict[listenerMeta.type]);\n      listenerActionMap[targetType] = listenerReg;\n    });\n  });\n}\n\nfunction createComputedPropertyBinder(parentPath, key, definition, computedState, references) {\n  var computedMeta = definition[computedSymbol];\n  var memoisedResultFn = memoizerific(1)(definition);\n  return function createComputedProperty(o) {\n    Object.defineProperty(o, key, {\n      configurable: true,\n      enumerable: true,\n      get: function get$1() {\n        var storeState;\n\n        if (computedState.isInReducer) {\n          storeState = computedState.currentState;\n        } else if (references.getState == null) {\n          return undefined;\n        } else {\n          try {\n            storeState = references.getState();\n          } catch (err) {\n            return undefined;\n          }\n        }\n\n        var state = get$2(parentPath, storeState);\n        var inputs = computedMeta.stateResolvers.map(function (resolver) {\n          return resolver(state, storeState);\n        });\n        return memoisedResultFn.apply(void 0, inputs);\n      }\n    });\n  };\n}\n\nfunction createComputedPropertiesMiddleware(references) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        references.internals.computedState.currentState = store.getState();\n        references.internals.computedState.isInReducer = true;\n        return next(action);\n      };\n    };\n  };\n}\n\nfunction extractDataFromModel(model, initialState, injections, references) {\n  var defaultState = initialState;\n  var actionCreatorDict = {};\n  var actionCreators = {};\n  var actionReducersDict = {};\n  var actionThunks = {};\n  var computedProperties = [];\n  var customReducers = [];\n  var listenerActionCreators = {};\n  var listenerActionMap = {};\n  var listenerDefinitions = [];\n  var persistenceConfig = [];\n  var computedState = {\n    isInReducer: false,\n    currentState: defaultState\n  };\n\n  var recursiveExtractFromModel = function recursiveExtractFromModel(current, parentPath) {\n    return Object.keys(current).forEach(function (key) {\n      var value = current[key];\n      var path = [].concat(parentPath, [key]);\n      var meta = {\n        parent: parentPath,\n        path: path,\n        key: key\n      };\n\n      var handleValueAsState = function handleValueAsState() {\n        var initialParentRef = get$2(parentPath, initialState);\n\n        if (initialParentRef && key in initialParentRef) {\n          set$2(path, defaultState, initialParentRef[key]);\n        } else {\n          set$2(path, defaultState, value);\n        }\n      };\n\n      if (key === persistSymbol) {\n        persistenceConfig.push(extractPersistConfig(parentPath, value));\n        return;\n      }\n\n      if (typeof value === 'function') {\n        if (value[actionSymbol] || value[actionOnSymbol]) {\n          var actionReducer = value;\n          var actionCreator = createActionCreator(value, meta, references);\n          actionCreatorDict[actionCreator.type] = actionCreator;\n          actionReducersDict[actionCreator.type] = actionReducer;\n\n          if (meta.key !== 'ePRS') {\n            if (value[actionOnSymbol]) {\n              listenerDefinitions.push(value);\n              set$2(path, listenerActionCreators, actionCreator);\n            } else {\n              set$2(path, actionCreators, actionCreator);\n            }\n          }\n        } else if (value[thunkSymbol] || value[thunkOnSymbol]) {\n          var thunkHandler = createThunkHandler(value, meta, references, injections, actionCreators);\n\n          var _actionCreator = createThunkActionsCreator(value, meta, references, thunkHandler);\n\n          set$2(path, actionThunks, thunkHandler);\n          actionCreatorDict[_actionCreator.type] = _actionCreator;\n\n          if (value[thunkOnSymbol]) {\n            listenerDefinitions.push(value);\n            set$2(path, listenerActionCreators, _actionCreator);\n          } else {\n            set$2(path, actionCreators, _actionCreator);\n          }\n        } else if (value[computedSymbol]) {\n          var parent = get$2(parentPath, defaultState);\n          var bindComputedProperty = createComputedPropertyBinder(parentPath, key, value, computedState, references);\n          bindComputedProperty(parent);\n          computedProperties.push({\n            key: key,\n            parentPath: parentPath,\n            bindComputedProperty: bindComputedProperty\n          });\n        } else if (value[reducerSymbol]) {\n          customReducers.push({\n            key: key,\n            parentPath: parentPath,\n            reducer: value\n          });\n        } else {\n          handleValueAsState();\n        }\n      } else if (isPlainObject$1(value)) {\n        var existing = get$2(path, defaultState);\n\n        if (existing == null) {\n          set$2(path, defaultState, {});\n        }\n\n        recursiveExtractFromModel(value, path);\n      } else {\n        handleValueAsState();\n      }\n    });\n  };\n\n  recursiveExtractFromModel(model, []);\n  bindListenerDefinitions(listenerDefinitions, actionCreators, actionCreatorDict, listenerActionMap);\n  return {\n    actionCreatorDict: actionCreatorDict,\n    actionCreators: actionCreators,\n    actionReducersDict: actionReducersDict,\n    computedProperties: computedProperties,\n    customReducers: customReducers,\n    computedState: computedState,\n    defaultState: defaultState,\n    listenerActionCreators: listenerActionCreators,\n    listenerActionMap: listenerActionMap,\n    persistenceConfig: persistenceConfig\n  };\n}\n\nfunction createStoreInternals(_ref) {\n  var disableImmer = _ref.disableImmer,\n      initialState = _ref.initialState,\n      injections = _ref.injections,\n      model = _ref.model,\n      reducerEnhancer = _ref.reducerEnhancer,\n      references = _ref.references;\n\n  var _extractDataFromModel = extractDataFromModel(model, initialState, injections, references),\n      actionCreatorDict = _extractDataFromModel.actionCreatorDict,\n      actionCreators = _extractDataFromModel.actionCreators,\n      actionReducersDict = _extractDataFromModel.actionReducersDict,\n      computedState = _extractDataFromModel.computedState,\n      computedProperties = _extractDataFromModel.computedProperties,\n      customReducers = _extractDataFromModel.customReducers,\n      defaultState = _extractDataFromModel.defaultState,\n      listenerActionCreators = _extractDataFromModel.listenerActionCreators,\n      listenerActionMap = _extractDataFromModel.listenerActionMap,\n      persistenceConfig = _extractDataFromModel.persistenceConfig;\n\n  var rootReducer = createReducer(disableImmer, actionReducersDict, customReducers, computedProperties);\n  return {\n    actionCreatorDict: actionCreatorDict,\n    actionCreators: actionCreators,\n    computedProperties: computedProperties,\n    computedState: computedState,\n    defaultState: defaultState,\n    listenerActionCreators: listenerActionCreators,\n    listenerActionMap: listenerActionMap,\n    persistenceConfig: persistenceConfig,\n    reducer: reducerEnhancer(rootReducer)\n  };\n}\n\nfunction createStore$1(model, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var modelClone = deepCloneStateWithoutComputed(model);\n  var _options = options,\n      compose$1 = _options.compose,\n      _options$devTools = _options.devTools,\n      devTools = _options$devTools === void 0 ? true : _options$devTools,\n      _options$disableImmer = _options.disableImmer,\n      disableImmer = _options$disableImmer === void 0 ? false : _options$disableImmer,\n      _options$enhancers = _options.enhancers,\n      enhancers = _options$enhancers === void 0 ? [] : _options$enhancers,\n      _options$initialState = _options.initialState,\n      initialState = _options$initialState === void 0 ? {} : _options$initialState,\n      injections = _options.injections,\n      _options$middleware = _options.middleware,\n      middleware = _options$middleware === void 0 ? [] : _options$middleware,\n      _options$mockActions = _options.mockActions,\n      mockActions = _options$mockActions === void 0 ? false : _options$mockActions,\n      _options$name = _options.name,\n      storeName = _options$name === void 0 ? \"EasyPeasyStore\" : _options$name,\n      _options$reducerEnhan = _options.reducerEnhancer,\n      reducerEnhancer = _options$reducerEnhan === void 0 ? function (rootReducer) {\n    return rootReducer;\n  } : _options$reducerEnhan;\n\n  var bindReplaceState = function bindReplaceState(modelDef) {\n    return _extends({}, modelDef, {\n      ePRS: action(function (_, payload) {\n        return payload;\n      })\n    });\n  };\n\n  var references = {};\n  var modelDefinition = bindReplaceState(modelClone);\n  var mockedActions = [];\n\n  var persistKey = function persistKey(targetPath) {\n    return \"[\" + storeName + \"]@\" + targetPath.join('.');\n  };\n\n  var persistor = createPersistor(persistKey, references);\n  var persistMiddleware = createPersistMiddleware(persistor, references);\n  var clearPersistance = createPersistenceClearer(persistKey, references);\n\n  var replaceState = function replaceState(nextState) {\n    return references.internals.actionCreatorDict['@action.ePRS'](nextState);\n  };\n\n  var bindStoreInternals = function bindStoreInternals(state) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    references.internals = createStoreInternals({\n      disableImmer: disableImmer,\n      initialState: state,\n      injections: injections,\n      model: modelDefinition,\n      reducerEnhancer: reducerEnhancer,\n      references: references\n    });\n  };\n\n  var mockActionsMiddleware = function mockActionsMiddleware() {\n    return function () {\n      return function (action) {\n        if (action != null) {\n          mockedActions.push(action);\n        }\n\n        return undefined;\n      };\n    };\n  };\n\n  var composeEnhancers = compose$1 || (devTools && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: storeName\n  }) : compose);\n  bindStoreInternals(initialState);\n  var easyPeasyMiddleware = [createComputedPropertiesMiddleware(references), thunk].concat(middleware, [createListenerMiddleware(references), persistMiddleware]);\n\n  if (mockActions) {\n    easyPeasyMiddleware.push(mockActionsMiddleware);\n  }\n\n  var store = createStore(references.internals.reducer, references.internals.defaultState, composeEnhancers.apply(void 0, [applyMiddleware.apply(void 0, easyPeasyMiddleware)].concat(enhancers)));\n  store.subscribe(function () {\n    references.internals.computedState.isInReducer = false;\n  });\n  references.dispatch = store.dispatch;\n  references.getState = store.getState;\n\n  var bindActionCreators = function bindActionCreators() {\n    Object.keys(store.dispatch).forEach(function (actionsKey) {\n      delete store.dispatch[actionsKey];\n    });\n    Object.keys(references.internals.actionCreators).forEach(function (key) {\n      store.dispatch[key] = references.internals.actionCreators[key];\n    });\n  };\n\n  bindActionCreators();\n\n  var rebindStore = function rebindStore(removeKey) {\n    var currentState = store.getState();\n\n    if (removeKey) {\n      delete currentState[removeKey];\n    }\n\n    bindStoreInternals(currentState);\n    store.replaceReducer(references.internals.reducer);\n    replaceState(references.internals.defaultState);\n    bindActionCreators();\n  };\n\n  var _resolveRehydration = rehydrateStateFromPersistIfNeeded(persistKey, replaceState, references);\n\n  return Object.assign(store, {\n    addModel: function addModel(key, modelForKey) {\n      if (modelDefinition[key] && \"production\" !== 'production') {\n        // eslint-disable-next-line no-console\n        console.warn(\"easy-peasy: The store model already contains a model definition for \\\"\" + key + \"\\\"\");\n        store.removeModel(key);\n      }\n\n      modelDefinition[key] = modelForKey;\n      rebindStore();\n    },\n    clearMockedActions: function clearMockedActions() {\n      mockedActions = [];\n    },\n    getActions: function getActions() {\n      return references.internals.actionCreators;\n    },\n    getListeners: function getListeners() {\n      return references.internals.listenerActionCreators;\n    },\n    getMockedActions: function getMockedActions() {\n      return [].concat(mockedActions);\n    },\n    persist: {\n      clear: clearPersistance,\n      flush: function flush() {\n        return persistor.flush();\n      },\n      resolveRehydration: function resolveRehydration() {\n        return _resolveRehydration;\n      }\n    },\n    reconfigure: function reconfigure(newModel) {\n      modelDefinition = bindReplaceState(newModel);\n      rebindStore();\n    },\n    removeModel: function removeModel(key) {\n      if (!modelDefinition[key]) {\n        return;\n      }\n\n      delete modelDefinition[key];\n      rebindStore(key);\n    }\n  });\n}\n\nfunction StoreProvider(_ref) {\n  var children = _ref.children,\n      store = _ref.store;\n  return React.createElement(StoreContext.Provider, {\n    value: store\n  }, children);\n}\n/**\n * The auto freeze feature of immer doesn't seem to work in our testing. We have\n * explicitly disabled it to avoid perf issues.\n */\n\n\nsetAutoFreeze(false);\nvar typedHooks = createTypedHooks();\nvar useStoreActions$1 = typedHooks.useStoreActions;\nvar useStoreDispatch$1 = typedHooks.useStoreDispatch;\nvar useStoreState$1 = typedHooks.useStoreState;\nvar useStore$1 = typedHooks.useStore; // do not edit .js files directly - edit src/index.jst\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};\n\nvar noop = {\n  value: function value() {}\n};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n        i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function on(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length; // If no callback was specified, return the callback of the given type and name.\n\n    if (arguments.length < 2) {\n      while (++i < n) {\n        if ((t = (typename = T[i]).type) && (t = get$3(_[t], typename.name))) return t;\n      }\n\n      return;\n    } // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n\n\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set$3(_[t], typename.name, callback);else if (callback == null) for (t in _) {\n        _[t] = set$3(_[t], typename.name, null);\n      }\n    }\n\n    return this;\n  },\n  copy: function copy() {\n    var copy = {},\n        _ = this._;\n\n    for (var t in _) {\n      copy[t] = _[t].slice();\n    }\n\n    return new Dispatch(copy);\n  },\n  call: function call(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) {\n      args[i] = arguments[i + 2];\n    }\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) {\n      t[i].value.apply(that, args);\n    }\n  },\n  apply: function apply(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) {\n      t[i].value.apply(that, args);\n    }\n  }\n};\n\nfunction get$3(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set$3(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n\n  if (callback != null) type.push({\n    name: name,\n    value: callback\n  });\n  return type;\n}\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nfunction namespace(name) {\n  var prefix = name += \"\",\n      i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {\n    space: namespaces[prefix],\n    local: name\n  } : name; // eslint-disable-line no-prototype-builtins\n}\n\nfunction creatorInherit(name) {\n  return function () {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml ? document.createElement(name) : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function () {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\n\nfunction none() {}\n\nfunction selector(selector) {\n  return selector == null ? none : function () {\n    return this.querySelector(selector);\n  };\n}\n\nfunction selection_select(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n\nfunction array(x) {\n  return typeof x === \"object\" && \"length\" in x ? x // Array, TypedArray, NodeList, array-like\n  : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nfunction empty() {\n  return [];\n}\n\nfunction selectorAll(selector) {\n  return selector == null ? empty : function () {\n    return this.querySelectorAll(selector);\n  };\n}\n\nfunction arrayAll(select) {\n  return function () {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nfunction selection_selectAll(select) {\n  if (typeof select === \"function\") select = arrayAll(select);else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n\nfunction matcher(selector) {\n  return function () {\n    return this.matches(selector);\n  };\n}\n\nfunction childMatcher(selector) {\n  return function (node) {\n    return node.matches(selector);\n  };\n}\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function () {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function () {\n    return filter.call(this.children, match);\n  };\n}\n\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n\nfunction selection_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n\nfunction sparse(update) {\n  return new Array(update.length);\n}\n\nfunction selection_enter() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function appendChild(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function insertBefore(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function querySelector(selector) {\n    return this._parent.querySelector(selector);\n  },\n  querySelectorAll: function querySelectorAll(selector) {\n    return this._parent.querySelectorAll(selector);\n  }\n};\n\nfunction constant(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length; // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  } // Put any non-null nodes that dont fit into exit.\n\n\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map(),\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue; // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  } // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n\n\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  } // Add any remaining nodes that were not bound to data to exit.\n\n\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nfunction selection_data(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key); // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength) {\n          ;\n        }\n\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\nfunction selection_exit() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(),\n      update = this,\n      exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove();else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n\nfunction selection_merge(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction selection_sort(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n\nfunction selection_nodes() {\n  return Array.from(this);\n}\n\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n\nfunction selection_size() {\n  var size = 0;\n\n  var _iterator = _createForOfIteratorHelper(this),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var node = _step.value;\n      ++size;\n    } // eslint-disable-line no-unused-vars\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return size;\n}\n\nfunction selection_empty() {\n  return !this.node();\n}\n\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function () {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function () {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === \"function\" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));\n}\n\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || // node is a Node\n  node.document && node // node is a Window\n  || node.defaultView; // node is a Document\n}\n\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function () {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n  };\n}\n\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === \"function\" ? styleFunction : styleConstant)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function () {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function () {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];else this[name] = v;\n  };\n}\n\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function add(name) {\n    var i = this._names.indexOf(name);\n\n    if (i < 0) {\n      this._names.push(name);\n\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function remove(name) {\n    var i = this._names.indexOf(name);\n\n    if (i >= 0) {\n      this._names.splice(i, 1);\n\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function contains(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node),\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    list.add(names[i]);\n  }\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node),\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    list.remove(names[i]);\n  }\n}\n\nfunction classedTrue(names) {\n  return function () {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function () {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function () {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()),\n        i = -1,\n        n = names.length;\n\n    while (++i < n) {\n      if (!list.contains(names[i])) return false;\n    }\n\n    return true;\n  }\n\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction : textConstant)(value)) : this.node().textContent;\n}\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function () {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nfunction selection_raise() {\n  return this.each(raise);\n}\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nfunction selection_lower() {\n  return this.each(lower);\n}\n\nfunction selection_append(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function () {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n\nfunction constantNull() {\n  return null;\n}\n\nfunction selection_insert(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function () {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nfunction selection_remove() {\n  return this.each(remove);\n}\n\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false),\n      parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true),\n      parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\n\nfunction contextListener(listener) {\n  return function (event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames$1(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n        i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\n\nfunction onRemove(typename) {\n  return function () {\n    var on = this.__on;\n    if (!on) return;\n\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n\n    if (++i) on.length = i;else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function () {\n    var on = this.__on,\n        o,\n        listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {\n      type: typename.type,\n      name: typename.name,\n      value: value,\n      listener: listener,\n      options: options\n    };\n    if (!on) this.__on = [o];else on.push(o);\n  };\n}\n\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames$1(typename + \"\"),\n      i,\n      n = typenames.length,\n      t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n\n  for (i = 0; i < n; ++i) {\n    this.each(on(typenames[i], value, options));\n  }\n\n  return this;\n}\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\n\nfunction selection_iterator() {\n  var groups, j, m, group, i, n, node;\n  return _regeneratorRuntime.wrap(function selection_iterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          groups = this._groups, j = 0, m = groups.length;\n\n        case 1:\n          if (!(j < m)) {\n            _context.next = 13;\n            break;\n          }\n\n          group = groups[j], i = 0, n = group.length;\n\n        case 3:\n          if (!(i < n)) {\n            _context.next = 10;\n            break;\n          }\n\n          if (!(node = group[i])) {\n            _context.next = 7;\n            break;\n          }\n\n          _context.next = 7;\n          return node;\n\n        case 7:\n          ++i;\n          _context.next = 3;\n          break;\n\n        case 10:\n          ++j;\n          _context.next = 1;\n          break;\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}\n\nvar root$1 = [null];\n\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root$1);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = _defineProperty2({\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n}, Symbol.iterator, selection_iterator);\n\nfunction select(selector) {\n  return typeof selector === \"string\" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root$1);\n}\n\nfunction sourceEvent(event) {\n  var sourceEvent;\n\n  while (sourceEvent = event.sourceEvent) {\n    event = sourceEvent;\n  }\n\n  return event;\n}\n\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n\n  return [event.pageX, event.pageY];\n}\n\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction dragDisable(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nfunction yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function () {\n      selection.on(\"click.drag\", null);\n    }, 0);\n  }\n\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) {\n    prototype[key] = definition[key];\n  }\n\n  return prototype;\n}\n\nfunction Color() {}\n\nvar _darker = 0.7;\n\nvar _brighter = 1 / _darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  copy: function copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable: function displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n  : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n  : l === 4 ? rgba(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n  : null // invalid hex\n  ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n  : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function rgb() {\n    return this;\n  },\n  displayable: function displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity;\n  a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl: function formatHsl() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + (this.s || 0) * 100 + \"%, \" + (this.l || 0) * 100 + \"%\" + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\nvar constant$1 = function constant$1(x) {\n  return function () {\n    return x;\n  };\n};\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\n\nvar interpolateRgb = function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function (t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) {\n      s[(o = q[i]).i] = o.x(t);\n    }\n\n    return s.join(\"\");\n  });\n}\n\nvar degrees = 180 / Math.PI;\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar svgNode;\n/* eslint-disable no-undef */\n\nfunction parseCss(value) {\n  var m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({\n        i: i - 4,\n        x: interpolateNumber(xa, xb)\n      }, {\n        i: i - 2,\n        x: interpolateNumber(ya, yb)\n      });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360;else if (b - a > 180) a += 360; // shortest path\n\n      q.push({\n        i: s.push(pop(s) + \"rotate(\", null, degParen) - 2,\n        x: interpolateNumber(a, b)\n      });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({\n        i: s.push(pop(s) + \"skewX(\", null, degParen) - 2,\n        x: interpolateNumber(a, b)\n      });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: interpolateNumber(xa, xb)\n      }, {\n        i: i - 2,\n        x: interpolateNumber(ya, yb)\n      });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function (a, b) {\n    var s = [],\n        // string constants and placeholders\n    q = []; // number interpolators\n\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n\n    return function (t) {\n      var i = -1,\n          n = q.length,\n          o;\n\n      while (++i < n) {\n        s[(o = q[i]).i] = o.x(t);\n      }\n\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nvar interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0],\n        uy0 = p0[1],\n        w0 = p0[2],\n        ux1 = p1[0],\n        uy1 = p1[1],\n        w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S; // Special case for u0  u1.\n\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n\n      i = function i(t) {\n        return [ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(rho * t * S)];\n      };\n    } // General case.\n    else {\n        var d1 = Math.sqrt(d2),\n            b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n            b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n            r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n            r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n        S = (r1 - r0) / rho;\n\n        i = function i(t) {\n          var s = t * S,\n              coshr0 = cosh(r0),\n              u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n          return [ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / cosh(rho * s + r0)];\n        };\n      }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n    return i;\n  }\n\n  zoom.rho = function (_) {\n    var _1 = Math.max(1e-3, +_),\n        _2 = _1 * _1,\n        _4 = _2 * _2;\n\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n}(Math.SQRT2, 2, 4);\n\nvar frame = 0,\n    // is an animation frame pending?\ntimeout = 0,\n    // is a timeout pending?\ninterval = 0,\n    // are any timers active?\npokeDelay = 1000,\n    // how frequently we check for clock skew\ntaskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) {\n  setTimeout(f, 17);\n};\n\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function restart(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;else taskHead = this;\n      taskTail = this;\n    }\n\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function stop() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\n\nfunction timerFlush() {\n  now(); // Get the current time, if not already set.\n\n  ++frame; // Pretend weve set an alarm, if we havent already.\n\n  var t = taskHead,\n      e;\n\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(),\n      delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0,\n      t1 = taskHead,\n      t2,\n      time = Infinity;\n\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n\nfunction timeout$1(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart(function (elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\n\nfunction schedule(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index,\n    // For context during callback.\n    group: group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nfunction init(node, id) {\n  var schedule = get$4(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nfunction set$4(node, id) {\n  var schedule = get$4(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nfunction get$4(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween; // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time); // If the elapsed delay is less than our first sleep, start immediately.\n\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o; // If the state is not SCHEDULED, then we previously errored on start.\n\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue; // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n\n      if (o.state === STARTED) return timeout$1(start); // Interrupt the active transition, if any.\n\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } // Cancel any pre-empted transitions.\n      else if (+i < id) {\n          o.state = ENDED;\n          o.timer.stop();\n          o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n          delete schedules[i];\n        }\n    } // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n\n\n    timeout$1(function () {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    }); // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n\n    self.state = STARTED; // Initialize the tween, deleting null tween.\n\n    tween = new Array(n = self.tween.length);\n\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    } // Dispatch the end event.\n\n\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n\n    for (var i in schedules) {\n      return;\n    } // eslint-disable-line no-unused-vars\n\n\n    delete node.__transition;\n  }\n}\n\nfunction interrupt(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n  if (!schedules) return;\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) {\n      empty = false;\n      continue;\n    }\n\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n\nfunction selection_interrupt(name) {\n  return this.each(function () {\n    interrupt(this, name);\n  });\n}\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function () {\n    var schedule = set$4(this, id),\n        tween = schedule.tween; // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    var schedule = set$4(this, id),\n        tween = schedule.tween; // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n\n      for (var t = {\n        name: name,\n        value: value\n      }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction transition_tween(name, value) {\n  var id = this._id;\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get$4(this.node(), id).tween;\n\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nfunction tweenValue(transition, name, value) {\n  var id = transition._id;\n  transition.each(function () {\n    var schedule = set$4(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function (node) {\n    return get$4(node, id).value[name];\n  };\n}\n\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\n\nfunction attrRemove$1(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS$1(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant$1(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS$1(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction$1(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n        value1 = value(this),\n        string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS$1(fullname, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n        value1 = value(this),\n        string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction transition_attr(name, value) {\n  var fullname = namespace(name),\n      i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS$1 : attrRemove$1)(fullname) : (fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, i, value));\n}\n\nfunction attrInterpolate(name, i) {\n  return function (t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function (t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n\nfunction delayFunction(id, value) {\n  return function () {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function () {\n    init(this, id).delay = value;\n  };\n}\n\nfunction transition_delay(value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id, value)) : get$4(this.node(), id).delay;\n}\n\nfunction durationFunction(id, value) {\n  return function () {\n    set$4(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function () {\n    set$4(this, id).duration = value;\n  };\n}\n\nfunction transition_duration(value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id, value)) : get$4(this.node(), id).duration;\n}\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    set$4(this, id).ease = value;\n  };\n}\n\nfunction transition_ease(value) {\n  var id = this._id;\n  return arguments.length ? this.each(easeConstant(id, value)) : get$4(this.node(), id).ease;\n}\n\nfunction easeVarying(id, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error();\n    set$4(this, id).ease = v;\n  };\n}\n\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\") throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\n\nfunction transition_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n\nfunction transition_merge(transition) {\n  if (transition._id !== this._id) throw new Error();\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0,\n      on1,\n      sit = start(name) ? init : set$4;\n  return function () {\n    var schedule = sit(this, id),\n        on = schedule.on; // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n    schedule.on = on1;\n  };\n}\n\nfunction transition_on(name, listener) {\n  var id = this._id;\n  return arguments.length < 2 ? get$4(this.node(), id).on.on(name) : this.each(onFunction(id, name, listener));\n}\n\nfunction removeFunction(id) {\n  return function () {\n    var parent = this.parentNode;\n\n    for (var i in this.__transition) {\n      if (+i !== id) return;\n    }\n\n    if (parent) parent.removeChild(this);\n  };\n}\n\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n\nfunction transition_select(select) {\n  var name = this._name,\n      id = this._id;\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get$4(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n\nfunction transition_selectAll(select) {\n  var name = this._name,\n      id = this._id;\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get$4(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n\nvar Selection$1 = selection.prototype.constructor;\n\nfunction transition_selection() {\n  return new Selection$1(this._groups, this._parents);\n}\n\nfunction styleNull(name, interpolate) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = styleValue(this, name),\n        string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove$1(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant$1(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction$1(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = styleValue(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0,\n      on1,\n      listener0,\n      key = \"style.\" + name,\n      event = \"end.\" + key,\n      remove;\n  return function () {\n    var schedule = set$4(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove$1(name)) : undefined; // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule.on = on1;\n  };\n}\n\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove$1(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction$1(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant$1(name, i, value), priority).on(\"end.style.\" + name, null);\n}\n\nfunction styleInterpolate(name, i, priority) {\n  return function (t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n\nfunction textConstant$1(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction$1(value) {\n  return function () {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction$1(tweenValue(this, \"text\", value)) : textConstant$1(value == null ? \"\" : value + \"\"));\n}\n\nfunction textInterpolate(i) {\n  return function (t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, textTween(value));\n}\n\nfunction transition_transition() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get$4(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n\nfunction transition_end() {\n  var on0,\n      on1,\n      that = this,\n      id = that._id,\n      size = that.size();\n  return new Promise(function (resolve, reject) {\n    var cancel = {\n      value: reject\n    },\n        end = {\n      value: function value() {\n        if (--size === 0) resolve();\n      }\n    };\n    that.each(function () {\n      var schedule = set$4(this, id),\n          on = schedule.on; // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n\n        on1._.cancel.push(cancel);\n\n        on1._.interrupt.push(cancel);\n\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    }); // The selection was empty, resolve end immediately\n\n    if (size === 0) resolve();\n  });\n}\n\nvar id = 0;\n\nfunction Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nfunction transition(name) {\n  return selection().transition(name);\n}\n\nfunction newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\nTransition.prototype = transition.prototype = _defineProperty2({\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end\n}, Symbol.iterator, selection_prototype[Symbol.iterator]);\n\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(\"transition \".concat(id, \" not found\"));\n    }\n  }\n\n  return timing;\n}\n\nfunction selection_transition(name) {\n  var id, timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n\nvar constant$2 = function constant$2(x) {\n  return function () {\n    return x;\n  };\n};\n\nfunction ZoomEvent(type, _ref3) {\n  var sourceEvent = _ref3.sourceEvent,\n      target = _ref3.target,\n      transform = _ref3.transform,\n      dispatch = _ref3.dispatch;\n  Object.defineProperties(this, {\n    type: {\n      value: type,\n      enumerable: true,\n      configurable: true\n    },\n    sourceEvent: {\n      value: sourceEvent,\n      enumerable: true,\n      configurable: true\n    },\n    target: {\n      value: target,\n      enumerable: true,\n      configurable: true\n    },\n    transform: {\n      value: transform,\n      enumerable: true,\n      configurable: true\n    },\n    _: {\n      value: dispatch\n    }\n  });\n}\n\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function scale(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function translate(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function apply(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function applyX(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function applyY(y) {\n    return y * this.k + this.y;\n  },\n  invert: function invert(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function invertX(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function invertY(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function rescaleX(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function rescaleY(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function toString() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity$1 = new Transform(1, 0, 0);\n\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n} // Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\n\n\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity$1;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1), dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1));\n}\n\nfunction zoom() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function (collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function () {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function (selection, k, p, event) {\n    zoom.scaleTo(selection, function () {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function (selection, k, p, event) {\n    zoom.transform(selection, function () {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function (selection, x, y, event) {\n    zoom.transform(selection, function () {\n      return constrain(this.__zoom.translate(typeof x === \"function\" ? x.apply(this, arguments) : x, typeof y === \"function\" ? y.apply(this, arguments) : y), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function (selection, x, y, p, event) {\n    zoom.transform(selection, function () {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity$1.translate(p0[0], p0[1]).scale(t.k).translate(typeof x === \"function\" ? -x.apply(this, arguments) : -x, typeof y === \"function\" ? -y.apply(this, arguments) : -y), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k,\n        y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition.on(\"start.zoom\", function () {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function () {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function () {\n      var that = this,\n          args = arguments,\n          g = gesture(that, args).event(event),\n          e = extent.apply(that, args),\n          p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n          w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n          a = that.__zoom,\n          b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n          i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function (t) {\n        if (t === 1) t = b; // Avoid rounding error on end.\n        else {\n            var l = i(t),\n                k = w / l[2];\n            t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n          }\n        g.zoom(null, t);\n      };\n    });\n  }\n\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function event(_event) {\n      if (_event) this.sourceEvent = _event;\n      return this;\n    },\n    start: function start() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n\n      return this;\n    },\n    zoom: function zoom(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function end() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n\n      return this;\n    },\n    emit: function emit(type) {\n      var d = select(this.that).datum();\n      listeners.call(type, this.that, new ZoomEvent(type, {\n        sourceEvent: this.sourceEvent,\n        target: zoom,\n        type: type,\n        transform: this.that.__zoom,\n        dispatch: listeners\n      }), d);\n    }\n  };\n\n  function wheeled(event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event); // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n\n      clearTimeout(g.wheel);\n    } // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return; // Otherwise, capture the mouse point and location at the start.\n      else {\n          g.mouse = [p, t.invert(p)];\n          interrupt(this);\n          g.start();\n        }\n\n    noevent$1(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        currentTarget = event.currentTarget,\n        x0 = event.clientX,\n        y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent$1(event);\n\n      if (!g.moved) {\n        var dx = event.clientX - x0,\n            dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n\n      g.event(event).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event.view, g.moved);\n      noevent$1(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent$1(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event) {\n    for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      args[_key5 - 1] = arguments[_key5];\n    }\n\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started,\n        i,\n        t,\n        p;\n    nopropagation(event);\n\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function () {\n        touchstarting = null;\n      }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event) {\n    if (!this.__zooming) return;\n\n    for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n      args[_key6 - 1] = arguments[_key6];\n    }\n\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length,\n        i,\n        t,\n        p,\n        l;\n    noevent$1(event);\n\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n\n    t = g.that.__zoom;\n\n    if (g.touch1) {\n      var p0 = g.touch0[0],\n          l0 = g.touch0[1],\n          p1 = g.touch1[0],\n          l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event) {\n    for (var _len7 = arguments.length, args = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n      args[_key7 - 1] = arguments[_key7];\n    }\n\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length,\n        i,\n        t;\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, touchDelay);\n\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);else {\n      g.end(); // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n\n      if (g.taps === 2) {\n        t = pointer(t, this);\n\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function (_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant$2(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$2(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$2(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function (_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$2([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function (_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function (_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function (_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function (_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function (_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n\nvar isInputDOMNode = function isInputDOMNode(e) {\n  var target = e.target;\n  return e && target && ['INPUT', 'SELECT', 'TEXTAREA', 'BUTTON'].includes(target.nodeName);\n};\n\nvar getDimensions = function getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n};\n\nvar clamp = function clamp(val, min, max) {\n  if (min === void 0) {\n    min = 0;\n  }\n\n  if (max === void 0) {\n    max = 1;\n  }\n\n  return Math.min(Math.max(val, min), max);\n};\n\nvar getHandleBounds = function getHandleBounds(selector, nodeElement, parentBounds, k) {\n  var handles = nodeElement.querySelectorAll(selector);\n\n  if (!handles || !handles.length) {\n    return null;\n  }\n\n  var handlesArray = Array.from(handles);\n  return handlesArray.map(function (handle) {\n    var bounds = handle.getBoundingClientRect();\n    var dimensions = getDimensions(handle);\n    var nodeIdAttr = handle.getAttribute('data-nodeid');\n    var handlePosition = handle.getAttribute('data-handlepos');\n    var nodeIdSplitted = nodeIdAttr ? nodeIdAttr.split('__') : null;\n    var handleId = null;\n\n    if (nodeIdSplitted) {\n      handleId = nodeIdSplitted.length ? nodeIdSplitted[1] : nodeIdSplitted;\n    }\n\n    return _assign({\n      id: handleId,\n      position: handlePosition,\n      x: (bounds.left - parentBounds.left) * (1 / k),\n      y: (bounds.top - parentBounds.top) * (1 / k)\n    }, dimensions);\n  });\n};\n\nvar storeModel = {\n  width: 0,\n  height: 0,\n  viewportBox: computed(function (state) {\n    return {\n      x: 0,\n      y: 0,\n      width: state.width,\n      height: state.height\n    };\n  }),\n  transform: [0, 0, 1],\n  elements: [],\n  nodes: computed(function (state) {\n    return state.elements.filter(function (el) {\n      return isNode(el);\n    });\n  }),\n  edges: computed(function (state) {\n    return state.elements.filter(function (el) {\n      return isEdge(el);\n    });\n  }),\n  selectedElements: null,\n  selectedNodesBbox: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  d3Zoom: null,\n  d3Selection: null,\n  d3Initialised: false,\n  minZoom: 0.5,\n  maxZoom: 2,\n  translateExtent: [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]],\n  nodesSelectionActive: false,\n  selectionActive: false,\n  userSelectionRect: {\n    startX: 0,\n    startY: 0,\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    draw: false\n  },\n  connectionNodeId: null,\n  connectionHandleType: 'source',\n  connectionPosition: {\n    x: 0,\n    y: 0\n  },\n  snapGrid: [15, 15],\n  snapToGrid: false,\n  nodesDraggable: true,\n  nodesConnectable: true,\n  elementsSelectable: true,\n  reactFlowVersion: \"6.0.3\",\n  setOnConnect: action(function (state, onConnect) {\n    state.onConnect = onConnect;\n  }),\n  setOnConnectStart: action(function (state, onConnectStart) {\n    state.onConnectStart = onConnectStart;\n  }),\n  setOnConnectStop: action(function (state, onConnectStop) {\n    state.onConnectStop = onConnectStop;\n  }),\n  setOnConnectEnd: action(function (state, onConnectEnd) {\n    state.onConnectEnd = onConnectEnd;\n  }),\n  setElements: action(function (state, elements) {\n    state.elements = elements;\n  }),\n  updateNodeDimensions: action(function (state, _a) {\n    var id = _a.id,\n        nodeElement = _a.nodeElement;\n    var dimensions = getDimensions(nodeElement);\n    var matchingNode = state.nodes.find(function (n) {\n      return n.id === id;\n    }); // only update when size change\n\n    if (!matchingNode || matchingNode.__rf.width === dimensions.width && matchingNode.__rf.height === dimensions.height) {\n      return;\n    }\n\n    var bounds = nodeElement.getBoundingClientRect();\n    var handleBounds = {\n      source: getHandleBounds('.source', nodeElement, bounds, state.transform[2]),\n      target: getHandleBounds('.target', nodeElement, bounds, state.transform[2])\n    };\n    state.elements.forEach(function (n) {\n      if (n.id === id && isNode(n)) {\n        n.__rf.width = dimensions.width;\n        n.__rf.height = dimensions.height;\n        n.__rf.handleBounds = handleBounds;\n      }\n    });\n  }),\n  updateNodePos: action(function (state, _a) {\n    var id = _a.id,\n        pos = _a.pos;\n    var position = pos;\n\n    if (state.snapToGrid) {\n      var _b = state.snapGrid,\n          gridSizeX = _b[0],\n          gridSizeY = _b[1];\n      position = {\n        x: gridSizeX * Math.round(pos.x / gridSizeX),\n        y: gridSizeY * Math.round(pos.y / gridSizeY)\n      };\n    }\n\n    state.elements.forEach(function (n) {\n      if (n.id === id && isNode(n)) {\n        n.__rf.position = position;\n      }\n    });\n  }),\n  updateNodePosDiff: action(function (state, _a) {\n    var id = _a.id,\n        _b = _a.diff,\n        diff = _b === void 0 ? null : _b,\n        _c = _a.isDragging,\n        isDragging = _c === void 0 ? true : _c;\n    state.elements.forEach(function (n) {\n      if (n.id === id && isNode(n)) {\n        if (diff) {\n          n.__rf.position = {\n            x: n.__rf.position.x + diff.x,\n            y: n.__rf.position.y + diff.y\n          };\n        }\n\n        n.__rf.isDragging = isDragging;\n      }\n    });\n  }),\n  setUserSelection: action(function (state, mousePos) {\n    state.userSelectionRect = {\n      width: 0,\n      height: 0,\n      startX: mousePos.x,\n      startY: mousePos.y,\n      x: mousePos.x,\n      y: mousePos.y,\n      draw: true\n    };\n    state.selectionActive = true;\n  }),\n  updateUserSelection: action(function (state, mousePos) {\n    var startX = state.userSelectionRect.startX || 0;\n    var startY = state.userSelectionRect.startY || 0;\n    var negativeX = mousePos.x < startX;\n    var negativeY = mousePos.y < startY;\n\n    var nextRect = _assign(_assign({}, state.userSelectionRect), {\n      x: negativeX ? mousePos.x : state.userSelectionRect.x,\n      y: negativeY ? mousePos.y : state.userSelectionRect.y,\n      width: negativeX ? startX - mousePos.x : mousePos.x - startX,\n      height: negativeY ? startY - mousePos.y : mousePos.y - startY\n    });\n\n    var selectedNodes = getNodesInside(state.nodes, nextRect, state.transform);\n    var selectedEdges = getConnectedEdges(selectedNodes, state.edges);\n\n    var nextSelectedElements = __spreadArrays(selectedNodes, selectedEdges);\n\n    var selectedElementsUpdated = !fastDeepEqual(nextSelectedElements, state.selectedElements);\n    state.userSelectionRect = nextRect;\n\n    if (selectedElementsUpdated) {\n      state.selectedElements = nextSelectedElements.length > 0 ? nextSelectedElements : null;\n    }\n  }),\n  unsetUserSelection: action(function (state) {\n    var _a;\n\n    var selectedNodes = (_a = state.selectedElements) === null || _a === void 0 ? void 0 : _a.filter(isNode);\n\n    if (!selectedNodes) {\n      state.selectionActive = false;\n      state.userSelectionRect.draw = false;\n      state.nodesSelectionActive = false;\n      state.selectedElements = null;\n      return;\n    }\n\n    var selectedNodesBbox = getRectOfNodes(selectedNodes);\n    state.nodesSelectionActive = true;\n    state.selectedNodesBbox = selectedNodesBbox;\n    state.userSelectionRect.draw = false;\n    state.selectionActive = false;\n  }),\n  setSelection: action(function (state, isActive) {\n    state.selectionActive = isActive;\n  }),\n  unsetNodesSelection: action(function (state) {\n    state.nodesSelectionActive = false;\n    state.selectedElements = null;\n  }),\n  setSelectedElements: action(function (state, elements) {\n    var selectedElementsArr = Array.isArray(elements) ? elements : [elements];\n    var selectedElementsUpdated = !fastDeepEqual(selectedElementsArr, state.selectedElements);\n    var selectedElements = selectedElementsUpdated ? selectedElementsArr : state.selectedElements;\n    state.selectedElements = selectedElements;\n  }),\n  updateTransform: action(function (state, transform) {\n    state.transform[0] = transform.x;\n    state.transform[1] = transform.y;\n    state.transform[2] = transform.k;\n  }),\n  setInitTransform: action(function (state, transform) {\n    state.transform[0] = transform.x;\n    state.transform[1] = transform.y;\n    state.transform[2] = transform.k;\n\n    if (state.d3Selection) {\n      var updatedTransform = identity$1.translate(transform.x, transform.y).scale(transform.k); // we need to sync the d3 zoom transform with the updated transform\n\n      state.d3Selection.property('__zoom', updatedTransform);\n    }\n  }),\n  updateSize: action(function (state, size) {\n    // when parent has no size we use these default values\n    // so that the calculations don't throw any errors\n    state.width = size.width || 500;\n    state.height = size.height || 500;\n  }),\n  initD3: action(function (state, _a) {\n    var zoomPane = _a.zoomPane,\n        defaultPosition = _a.defaultPosition,\n        defaultZoom = _a.defaultZoom,\n        translateExtent = _a.translateExtent;\n    var currentTranslateExtent = typeof translateExtent !== 'undefined' ? translateExtent : state.translateExtent;\n    var d3ZoomInstance = zoom().scaleExtent([state.minZoom, state.maxZoom]).translateExtent(currentTranslateExtent);\n    var selection = select(zoomPane).call(d3ZoomInstance);\n    var clampedX = clamp(defaultPosition[0], currentTranslateExtent[0][0], currentTranslateExtent[1][0]);\n    var clampedY = clamp(defaultPosition[1], currentTranslateExtent[0][1], currentTranslateExtent[1][1]);\n    var clampedZoom = clamp(defaultZoom, state.minZoom, state.maxZoom);\n    var updatedTransform = identity$1.translate(clampedX, clampedY).scale(clampedZoom);\n    selection.property('__zoom', updatedTransform);\n    state.transform[0] = clampedX;\n    state.transform[1] = clampedY;\n    state.transform[2] = clampedZoom;\n    state.d3Zoom = d3ZoomInstance;\n    state.d3Selection = selection;\n    state.d3Initialised = true;\n  }),\n  setMinZoom: action(function (state, minZoom) {\n    state.minZoom = minZoom;\n\n    if (state.d3Zoom) {\n      state.d3Zoom.scaleExtent([minZoom, state.maxZoom]);\n    }\n  }),\n  setMaxZoom: action(function (state, maxZoom) {\n    state.minZoom = maxZoom;\n\n    if (state.d3Zoom) {\n      state.d3Zoom.scaleExtent([state.minZoom, maxZoom]);\n    }\n  }),\n  setTranslateExtent: action(function (state, translateExtent) {\n    state.translateExtent = translateExtent;\n\n    if (state.d3Zoom) {\n      state.d3Zoom.translateExtent(translateExtent);\n    }\n  }),\n  setConnectionPosition: action(function (state, position) {\n    state.connectionPosition = position;\n  }),\n  setConnectionNodeId: action(function (state, _a) {\n    var connectionNodeId = _a.connectionNodeId,\n        connectionHandleType = _a.connectionHandleType;\n    state.connectionNodeId = connectionNodeId;\n    state.connectionHandleType = connectionHandleType;\n  }),\n  setSnapToGrid: action(function (state, snapToGrid) {\n    state.snapToGrid = snapToGrid;\n  }),\n  setSnapGrid: action(function (state, snapGrid) {\n    state.snapGrid[0] = snapGrid[0];\n    state.snapGrid[1] = snapGrid[1];\n  }),\n  setInteractive: action(function (state, isInteractive) {\n    state.nodesDraggable = isInteractive;\n    state.nodesConnectable = isInteractive;\n    state.elementsSelectable = isInteractive;\n  }),\n  setNodesDraggable: action(function (state, nodesDraggable) {\n    state.nodesDraggable = nodesDraggable;\n  }),\n  setNodesConnectable: action(function (state, nodesConnectable) {\n    state.nodesConnectable = nodesConnectable;\n  }),\n  setElementsSelectable: action(function (state, elementsSelectable) {\n    state.elementsSelectable = elementsSelectable;\n  }),\n  fitView: action(function (state, payload) {\n    if (payload === void 0) {\n      payload = {\n        padding: 0.1\n      };\n    }\n\n    var padding = payload.padding;\n    var nodes = state.nodes,\n        width = state.width,\n        height = state.height,\n        d3Selection = state.d3Selection,\n        minZoom = state.minZoom,\n        maxZoom = state.maxZoom;\n\n    if (!d3Selection || !nodes.length) {\n      return;\n    }\n\n    var bounds = getRectOfNodes(nodes);\n    var xZoom = width / (bounds.width * (1 + padding));\n    var yZoom = height / (bounds.height * (1 + padding));\n    var zoom = Math.min(xZoom, yZoom);\n    var clampedZoom = clamp(zoom, minZoom, maxZoom);\n    var boundsCenterX = bounds.x + bounds.width / 2;\n    var boundsCenterY = bounds.y + bounds.height / 2;\n    var transform = [width / 2 - boundsCenterX * clampedZoom, height / 2 - boundsCenterY * clampedZoom];\n    var fittedTransform = identity$1.translate(transform[0], transform[1]).scale(clampedZoom); // we need to sync the d3 zoom transform with the fitted transform\n\n    d3Selection.property('__zoom', fittedTransform);\n    state.transform[0] = fittedTransform.x;\n    state.transform[1] = fittedTransform.y;\n    state.transform[2] = fittedTransform.k;\n  }),\n  zoomTo: action(function (state, zoomLevel) {\n    var d3Selection = state.d3Selection,\n        transform = state.transform,\n        minZoom = state.minZoom,\n        maxZoom = state.maxZoom;\n    var nextZoom = clamp(zoomLevel, minZoom, maxZoom);\n\n    if (d3Selection) {\n      // we want to zoom in and out to the center of the zoom pane\n      var center = [state.width / 2, state.height / 2];\n      var centerInverted = [(center[0] - transform[0]) / transform[2], (center[1] - transform[1]) / transform[2]];\n      var x = center[0] - centerInverted[0] * nextZoom;\n      var y = center[1] - centerInverted[1] * nextZoom;\n      var zoomedTransform = identity$1.translate(x, y).scale(nextZoom); // we need to sync the d3 zoom transform with the zoomed transform\n\n      d3Selection.property('__zoom', zoomedTransform);\n      state.transform[0] = zoomedTransform.x;\n      state.transform[1] = zoomedTransform.y;\n      state.transform[2] = zoomedTransform.k;\n    }\n  }),\n  zoom: thunk$1(function (actions, amount, helpers) {\n    var transform = helpers.getState().transform;\n    var nextZoom = transform[2] + amount;\n    actions.zoomTo(nextZoom);\n  }),\n  zoomIn: thunk$1(function (actions) {\n    actions.zoom(0.2);\n  }),\n  zoomOut: thunk$1(function (actions) {\n    actions.zoom(-0.2);\n  })\n};\nvar nodeEnv = \"production\";\nvar store = createStore$1(storeModel, {\n  devTools: nodeEnv === 'development'\n});\n\nvar isEdge = function isEdge(element) {\n  return 'id' in element && 'source' in element && 'target' in element;\n};\n\nvar isNode = function isNode(element) {\n  return 'id' in element && !('source' in element) && !('target' in element);\n};\n\nvar getOutgoers = function getOutgoers(node, elements) {\n  if (!isNode(node)) {\n    return [];\n  }\n\n  var outgoerIds = elements.filter(function (e) {\n    return isEdge(e) && e.source === node.id;\n  }).map(function (e) {\n    return e.target;\n  });\n  return elements.filter(function (e) {\n    return outgoerIds.includes(e.id);\n  });\n};\n\nvar getIncomers = function getIncomers(node, elements) {\n  if (!isNode(node)) {\n    return [];\n  }\n\n  var incomersIds = elements.filter(function (e) {\n    return isEdge(e) && e.target === node.id;\n  }).map(function (e) {\n    return e.source;\n  });\n  return elements.filter(function (e) {\n    return incomersIds.includes(e.id);\n  });\n};\n\nvar removeElements = function removeElements(elementsToRemove, elements) {\n  var nodeIdsToRemove = elementsToRemove.map(function (n) {\n    return n.id;\n  });\n  return elements.filter(function (element) {\n    var edgeElement = element;\n    return !(nodeIdsToRemove.includes(element.id) || nodeIdsToRemove.includes(edgeElement.target) || nodeIdsToRemove.includes(edgeElement.source));\n  });\n};\n\nvar getEdgeId = function getEdgeId(_a) {\n  var source = _a.source,\n      target = _a.target;\n  return \"reactflow__edge-\" + source + \"-\" + target;\n};\n\nvar addEdge = function addEdge(edgeParams, elements) {\n  if (!edgeParams.source || !edgeParams.target) {\n    throw new Error(\"Can't create edge. An edge needs a source and a target.\");\n  } // make sure that there is node with the target and one with the source id\n\n\n  [edgeParams.source, edgeParams.target].forEach(function (id) {\n    var nodeId = id.includes('__') ? id.split('__')[0] : id;\n\n    if (!elements.find(function (e) {\n      return isNode(e) && e.id === nodeId;\n    })) {\n      throw new Error(\"Can't create edge. Node with id=\" + nodeId + \" does not exist.\");\n    }\n  });\n\n  if (isEdge(edgeParams)) {\n    return elements.concat(_assign({}, edgeParams));\n  }\n\n  var edge = _assign(_assign({}, edgeParams), {\n    id: getEdgeId(edgeParams)\n  });\n\n  return elements.concat(edge);\n};\n\nvar pointToRendererPoint = function pointToRendererPoint(_a, _b, snapToGrid, _c) {\n  var x = _a.x,\n      y = _a.y;\n  var tx = _b[0],\n      ty = _b[1],\n      tScale = _b[2];\n  var snapX = _c[0],\n      snapY = _c[1];\n  var position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n\n  return position;\n};\n\nvar onLoadProject = function onLoadProject(currentStore) {\n  return function (position) {\n    var _a = currentStore.getState(),\n        transform = _a.transform,\n        snapToGrid = _a.snapToGrid,\n        snapGrid = _a.snapGrid;\n\n    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n  };\n};\n\nvar parseElement = function parseElement(element) {\n  if (!element.id) {\n    throw new Error('All nodes and edges need to have an id.');\n  }\n\n  if (isEdge(element)) {\n    return _assign(_assign({}, element), {\n      source: element.source.toString(),\n      target: element.target.toString(),\n      id: element.id.toString(),\n      type: element.type || 'default'\n    });\n  }\n\n  return _assign(_assign({}, element), {\n    id: element.id.toString(),\n    type: element.type || 'default',\n    __rf: {\n      position: element.position,\n      width: null,\n      height: null,\n      handleBounds: {},\n      isDragging: false\n    }\n  });\n};\n\nvar getBoundsOfBoxes = function getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n};\n\nvar rectToBox = function rectToBox(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height;\n  return {\n    x: x,\n    y: y,\n    x2: x + width,\n    y2: y + height\n  };\n};\n\nvar boxToRect = function boxToRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      x2 = _a.x2,\n      y2 = _a.y2;\n  return {\n    x: x,\n    y: y,\n    width: x2 - x,\n    height: y2 - y\n  };\n};\n\nvar getBoundsofRects = function getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n};\n\nvar getRectOfNodes = function getRectOfNodes(nodes) {\n  var box = nodes.reduce(function (currBox, _a) {\n    var _b = _a.__rf,\n        _c = _b === void 0 ? {} : _b,\n        position = _c.position,\n        width = _c.width,\n        height = _c.height;\n\n    return getBoundsOfBoxes(currBox, rectToBox(_assign(_assign({}, position), {\n      width: width,\n      height: height\n    })));\n  }, {\n    x: Infinity,\n    y: Infinity,\n    x2: -Infinity,\n    y2: -Infinity\n  });\n  return boxToRect(box);\n};\n\nvar getNodesInside = function getNodesInside(nodes, rect, _a, partially) {\n  var _b = _a === void 0 ? [0, 0, 1] : _a,\n      tx = _b[0],\n      ty = _b[1],\n      tScale = _b[2];\n\n  if (partially === void 0) {\n    partially = false;\n  }\n\n  var rBox = rectToBox({\n    x: (rect.x - tx) / tScale,\n    y: (rect.y - ty) / tScale,\n    width: rect.width / tScale,\n    height: rect.height / tScale\n  });\n  return nodes.filter(function (_a) {\n    var _b = _a.__rf,\n        position = _b.position,\n        width = _b.width,\n        height = _b.height,\n        isDragging = _b.isDragging;\n    var nBox = rectToBox(_assign(_assign({}, position), {\n      width: width,\n      height: height\n    }));\n    var xOverlap = Math.max(0, Math.min(rBox.x2, nBox.x2) - Math.max(rBox.x, nBox.x));\n    var yOverlap = Math.max(0, Math.min(rBox.y2, nBox.y2) - Math.max(rBox.y, nBox.y));\n    var overlappingArea = xOverlap * yOverlap;\n\n    if (width === null || height === null || isDragging) {\n      // at the beginnning all nodes have width & height === 0\n      return true;\n    }\n\n    if (partially) {\n      return overlappingArea > 0;\n    }\n\n    var area = width * height;\n    return overlappingArea >= area;\n  });\n};\n\nvar getConnectedEdges = function getConnectedEdges(nodes, edges) {\n  var nodeIds = nodes.map(function (n) {\n    return n.id;\n  });\n  return edges.filter(function (e) {\n    var sourceId = e.source.split('__')[0];\n    var targetId = e.target.split('__')[0];\n    return nodeIds.includes(sourceId) || nodeIds.includes(targetId);\n  });\n};\n\nvar parseElements = function parseElements(nodes, edges) {\n  return __spreadArrays(nodes.map(function (node) {\n    var n = _assign({}, node);\n\n    delete n.__rf;\n    return n;\n  }), edges.map(function (e) {\n    return _assign({}, e);\n  }));\n};\n\nvar onLoadGetElements = function onLoadGetElements(currentStore) {\n  return function () {\n    var _a = currentStore.getState(),\n        _b = _a.nodes,\n        nodes = _b === void 0 ? [] : _b,\n        _c = _a.edges,\n        edges = _c === void 0 ? [] : _c;\n\n    return parseElements(nodes, edges);\n  };\n};\n\nfunction renderNode(node, props, transform, selectedElements, nodesDraggable, nodesConnectable, elementsSelectable) {\n  var nodeType = node.type || 'default';\n  var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes.default;\n\n  if (!props.nodeTypes[nodeType]) {\n    console.warn(\"Node type \\\"\" + nodeType + \"\\\" not found. Using fallback type \\\"default\\\".\");\n  }\n\n  var isSelected = selectedElements ? selectedElements.some(function (_a) {\n    var id = _a.id;\n    return id === node.id;\n  }) : false;\n  var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\n  var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\n  var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\n  var isInitialized = node.__rf.width !== null && node.__rf.height !== null;\n  return React.createElement(NodeComponent, {\n    key: node.id,\n    id: node.id,\n    type: nodeType,\n    data: node.data,\n    xPos: node.__rf.position.x,\n    yPos: node.__rf.position.y,\n    isDragging: node.__rf.isDragging,\n    onClick: props.onElementClick,\n    onMouseEnter: props.onNodeMouseEnter,\n    onMouseMove: props.onNodeMouseMove,\n    onMouseLeave: props.onNodeMouseLeave,\n    onContextMenu: props.onNodeContextMenu,\n    onNodeDragStart: props.onNodeDragStart,\n    onNodeDragStop: props.onNodeDragStop,\n    transform: transform,\n    selected: isSelected,\n    style: node.style,\n    className: node.className,\n    isDraggable: isDraggable,\n    isSelectable: isSelectable,\n    isConnectable: isConnectable,\n    sourcePosition: node.sourcePosition,\n    targetPosition: node.targetPosition,\n    selectNodesOnDrag: props.selectNodesOnDrag,\n    isHidden: node.isHidden,\n    isInitialized: isInitialized,\n    snapGrid: props.snapGrid,\n    snapToGrid: props.snapToGrid\n  });\n}\n\nvar NodeRenderer = function NodeRenderer(props) {\n  var nodes = useStoreState$1(function (s) {\n    return s.nodes;\n  });\n  var transform = useStoreState$1(function (s) {\n    return s.transform;\n  });\n  var selectedElements = useStoreState$1(function (s) {\n    return s.selectedElements;\n  });\n  var viewportBox = useStoreState$1(function (s) {\n    return s.viewportBox;\n  });\n  var nodesDraggable = useStoreState$1(function (s) {\n    return s.nodesDraggable;\n  });\n  var nodesConnectable = useStoreState$1(function (s) {\n    return s.nodesConnectable;\n  });\n  var elementsSelectable = useStoreState$1(function (s) {\n    return s.elementsSelectable;\n  });\n  var transformStyle = {\n    transform: \"translate(\" + transform[0] + \"px,\" + transform[1] + \"px) scale(\" + transform[2] + \")\"\n  };\n  var renderNodes = props.onlyRenderVisibleNodes ? getNodesInside(nodes, viewportBox, transform, true) : nodes;\n  return React.createElement(\"div\", {\n    className: \"react-flow__nodes\",\n    style: transformStyle\n  }, renderNodes.map(function (node) {\n    return renderNode(node, props, transform, selectedElements, nodesDraggable, nodesConnectable, elementsSelectable);\n  }));\n};\n\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\nvar EdgeText = memo(function (_a) {\n  var x = _a.x,\n      y = _a.y,\n      label = _a.label,\n      _b = _a.labelStyle,\n      labelStyle = _b === void 0 ? {} : _b,\n      _c = _a.labelShowBg,\n      labelShowBg = _c === void 0 ? true : _c,\n      _d = _a.labelBgStyle,\n      labelBgStyle = _d === void 0 ? {} : _d,\n      _e = _a.labelBgPadding,\n      labelBgPadding = _e === void 0 ? [2, 4] : _e,\n      _f = _a.labelBgBorderRadius,\n      labelBgBorderRadius = _f === void 0 ? 2 : _f;\n  var edgeRef = useRef(null);\n\n  var _g = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }),\n      edgeTextBbox = _g[0],\n      setEdgeTextBbox = _g[1];\n\n  useEffect(function () {\n    if (edgeRef.current) {\n      var textBbox = edgeRef.current.getBBox();\n      setEdgeTextBbox({\n        x: textBbox.x,\n        y: textBbox.y,\n        width: textBbox.width,\n        height: textBbox.height\n      });\n    }\n  }, []);\n\n  if (typeof label === 'undefined' || !label) {\n    return null;\n  }\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\" + (x - edgeTextBbox.width / 2) + \" \" + (y - edgeTextBbox.height / 2) + \")\"\n  }, labelShowBg && React.createElement(\"rect\", {\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\n    x: -labelBgPadding[0],\n    y: -labelBgPadding[1],\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\n    className: \"react-flow__edge-textbg\",\n    style: labelBgStyle,\n    rx: labelBgBorderRadius,\n    ry: labelBgBorderRadius\n  }), React.createElement(\"text\", {\n    className: \"react-flow__edge-text\",\n    y: edgeTextBbox.height / 2,\n    dy: \"0.3em\",\n    ref: edgeRef,\n    style: labelStyle\n  }, label));\n});\n\nvar getMarkerEnd = function getMarkerEnd(arrowHeadType, markerEndId) {\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\n    return \"url(#\" + markerEndId + \")\";\n  }\n\n  return typeof arrowHeadType !== 'undefined' ? \"url(#react-flow__\" + arrowHeadType + \")\" : 'none';\n};\n\nvar getCenter = function getCenter(_a) {\n  var sourceX = _a.sourceX,\n      sourceY = _a.sourceY,\n      targetX = _a.targetX,\n      targetY = _a.targetY;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n};\n\nvar Position;\n\n(function (Position) {\n  Position[\"Left\"] = \"left\";\n  Position[\"Top\"] = \"top\";\n  Position[\"Right\"] = \"right\";\n  Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nvar ArrowHeadType;\n\n(function (ArrowHeadType) {\n  ArrowHeadType[\"Arrow\"] = \"arrow\";\n  ArrowHeadType[\"ArrowClosed\"] = \"arrowclosed\";\n})(ArrowHeadType || (ArrowHeadType = {}));\n\nvar BackgroundVariant;\n\n(function (BackgroundVariant) {\n  BackgroundVariant[\"Lines\"] = \"lines\";\n  BackgroundVariant[\"Dots\"] = \"dots\";\n})(BackgroundVariant || (BackgroundVariant = {}));\n\nvar ConnectionLineType;\n\n(function (ConnectionLineType) {\n  ConnectionLineType[\"Bezier\"] = \"default\";\n  ConnectionLineType[\"Straight\"] = \"straight\";\n  ConnectionLineType[\"Step\"] = \"step\";\n  ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n})(ConnectionLineType || (ConnectionLineType = {}));\n\nfunction getBezierPath(_a) {\n  var sourceX = _a.sourceX,\n      sourceY = _a.sourceY,\n      _b = _a.sourcePosition,\n      sourcePosition = _b === void 0 ? Position.Bottom : _b,\n      targetX = _a.targetX,\n      targetY = _a.targetY,\n      _c = _a.targetPosition,\n      targetPosition = _c === void 0 ? Position.Top : _c,\n      centerX = _a.centerX,\n      centerY = _a.centerY;\n\n  var _d = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      _centerX = _d[0],\n      _centerY = _d[1];\n\n  var leftAndRight = [Position.Left, Position.Right];\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY;\n  var path = \"M\" + sourceX + \",\" + sourceY + \" C\" + sourceX + \",\" + cY + \" \" + targetX + \",\" + cY + \" \" + targetX + \",\" + targetY;\n\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    path = \"M\" + sourceX + \",\" + sourceY + \" C\" + cX + \",\" + sourceY + \" \" + cX + \",\" + targetY + \" \" + targetX + \",\" + targetY;\n  } else if (leftAndRight.includes(targetPosition)) {\n    path = \"M\" + sourceX + \",\" + sourceY + \" C\" + sourceX + \",\" + targetY + \" \" + sourceX + \",\" + targetY + \" \" + targetX + \",\" + targetY;\n  } else if (leftAndRight.includes(sourcePosition)) {\n    path = \"M\" + sourceX + \",\" + sourceY + \" C\" + targetX + \",\" + sourceY + \" \" + targetX + \",\" + sourceY + \" \" + targetX + \",\" + targetY;\n  }\n\n  return path;\n}\n\nvar BezierEdge = memo(function (_a) {\n  var sourceX = _a.sourceX,\n      sourceY = _a.sourceY,\n      targetX = _a.targetX,\n      targetY = _a.targetY,\n      _b = _a.sourcePosition,\n      sourcePosition = _b === void 0 ? Position.Bottom : _b,\n      _c = _a.targetPosition,\n      targetPosition = _c === void 0 ? Position.Top : _c,\n      label = _a.label,\n      labelStyle = _a.labelStyle,\n      labelShowBg = _a.labelShowBg,\n      labelBgStyle = _a.labelBgStyle,\n      labelBgPadding = _a.labelBgPadding,\n      labelBgBorderRadius = _a.labelBgBorderRadius,\n      style = _a.style,\n      arrowHeadType = _a.arrowHeadType,\n      markerEndId = _a.markerEndId;\n\n  var _d = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      centerX = _d[0],\n      centerY = _d[1];\n\n  var path = getBezierPath({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  });\n  var text = label ? React.createElement(EdgeText, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  var markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\n  return React.createElement(React.Fragment, null, React.createElement(\"path\", {\n    style: style,\n    d: path,\n    className: \"react-flow__edge-path\",\n    markerEnd: markerEnd\n  }), text);\n}); // These are some helper methods for drawing the round corners\n// The name indicates the direction of the path. \"bottomLeftCorner\" goes\n// from bottom to the left and \"leftBottomCorner\" goes from left to the bottom.\n// We have to consider the direction of the paths because of the animated lines.\n\nvar bottomLeftCorner = function bottomLeftCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + cornerX + \",\" + (cornerY - cornerSize) + \"Q \" + cornerX + \",\" + cornerY + \" \" + (cornerX + cornerSize) + \",\" + cornerY;\n};\n\nvar leftBottomCorner = function leftBottomCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + (cornerX + cornerSize) + \",\" + cornerY + \"Q \" + cornerX + \",\" + cornerY + \" \" + cornerX + \",\" + (cornerY - cornerSize);\n};\n\nvar bottomRightCorner = function bottomRightCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + cornerX + \",\" + (cornerY - cornerSize) + \"Q \" + cornerX + \",\" + cornerY + \" \" + (cornerX - cornerSize) + \",\" + cornerY;\n};\n\nvar rightBottomCorner = function rightBottomCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + (cornerX - cornerSize) + \",\" + cornerY + \"Q \" + cornerX + \",\" + cornerY + \" \" + cornerX + \",\" + (cornerY - cornerSize);\n};\n\nvar leftTopCorner = function leftTopCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + (cornerX + cornerSize) + \",\" + cornerY + \"Q \" + cornerX + \",\" + cornerY + \" \" + cornerX + \",\" + (cornerY + cornerSize);\n};\n\nvar topLeftCorner = function topLeftCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + cornerX + \",\" + (cornerY + cornerSize) + \"Q \" + cornerX + \",\" + cornerY + \" \" + (cornerX + cornerSize) + \",\" + cornerY;\n};\n\nvar topRightCorner = function topRightCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + cornerX + \",\" + (cornerY + cornerSize) + \"Q \" + cornerX + \",\" + cornerY + \" \" + (cornerX - cornerSize) + \",\" + cornerY;\n};\n\nvar rightTopCorner = function rightTopCorner(cornerX, cornerY, cornerSize) {\n  return \"L \" + (cornerX - cornerSize) + \",\" + cornerY + \"Q \" + cornerX + \",\" + cornerY + \" \" + cornerX + \",\" + (cornerY + cornerSize);\n};\n\nfunction getSmoothStepPath(_a) {\n  var sourceX = _a.sourceX,\n      sourceY = _a.sourceY,\n      _b = _a.sourcePosition,\n      sourcePosition = _b === void 0 ? Position.Bottom : _b,\n      targetX = _a.targetX,\n      targetY = _a.targetY,\n      _c = _a.targetPosition,\n      targetPosition = _c === void 0 ? Position.Top : _c,\n      _d = _a.borderRadius,\n      borderRadius = _d === void 0 ? 5 : _d,\n      centerX = _a.centerX,\n      centerY = _a.centerY;\n\n  var _e = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      _centerX = _e[0],\n      _centerY = _e[1],\n      offsetX = _e[2],\n      offsetY = _e[3];\n\n  var cornerWidth = Math.min(borderRadius, Math.abs(targetX - sourceX));\n  var cornerHeight = Math.min(borderRadius, Math.abs(targetY - sourceY));\n  var cornerSize = Math.min(cornerWidth, cornerHeight, offsetX, offsetY);\n  var leftAndRight = [Position.Left, Position.Right];\n  var firstCornerPath = null;\n  var secondCornerPath = null;\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY; // default case: source and target positions are top or bottom\n\n  if (sourceX <= targetX) {\n    firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, cY, cornerSize) : topLeftCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY <= targetY ? rightTopCorner(targetX, cY, cornerSize) : rightBottomCorner(targetX, cY, cornerSize);\n  } else {\n    firstCornerPath = sourceY < targetY ? bottomRightCorner(sourceX, cY, cornerSize) : topRightCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY < targetY ? leftTopCorner(targetX, cY, cornerSize) : leftBottomCorner(targetX, cY, cornerSize);\n  }\n\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(cX, sourceY, cornerSize) : rightBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomLeftCorner(cX, targetY, cornerSize) : topLeftCorner(cX, targetY, cornerSize);\n    }\n  } else if (leftAndRight.includes(sourcePosition) && !leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(targetX, sourceY, cornerSize) : rightBottomCorner(targetX, sourceY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  } else if (!leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, targetY, cornerSize) : topLeftCorner(sourceX, targetY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  }\n\n  return \"M \" + sourceX + \",\" + sourceY + firstCornerPath + secondCornerPath + \"L \" + targetX + \",\" + targetY;\n}\n\nvar SmoothStepEdge = memo(function (_a) {\n  var sourceX = _a.sourceX,\n      sourceY = _a.sourceY,\n      targetX = _a.targetX,\n      targetY = _a.targetY,\n      label = _a.label,\n      labelStyle = _a.labelStyle,\n      labelShowBg = _a.labelShowBg,\n      labelBgStyle = _a.labelBgStyle,\n      labelBgPadding = _a.labelBgPadding,\n      labelBgBorderRadius = _a.labelBgBorderRadius,\n      style = _a.style,\n      _b = _a.sourcePosition,\n      sourcePosition = _b === void 0 ? Position.Bottom : _b,\n      _c = _a.targetPosition,\n      targetPosition = _c === void 0 ? Position.Top : _c,\n      arrowHeadType = _a.arrowHeadType,\n      markerEndId = _a.markerEndId,\n      _d = _a.borderRadius,\n      borderRadius = _d === void 0 ? 5 : _d;\n\n  var _e = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      centerX = _e[0],\n      centerY = _e[1];\n\n  var path = getSmoothStepPath({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    borderRadius: borderRadius\n  });\n  var markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\n  var text = label ? React.createElement(EdgeText, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  return React.createElement(React.Fragment, null, React.createElement(\"path\", {\n    style: style,\n    className: \"react-flow__edge-path\",\n    d: path,\n    markerEnd: markerEnd\n  }), text);\n});\n\nvar ConnectionLine = function ConnectionLine(_a) {\n  var connectionNodeId = _a.connectionNodeId,\n      connectionHandleType = _a.connectionHandleType,\n      connectionLineStyle = _a.connectionLineStyle,\n      connectionPositionX = _a.connectionPositionX,\n      connectionPositionY = _a.connectionPositionY,\n      _b = _a.connectionLineType,\n      connectionLineType = _b === void 0 ? ConnectionLineType.Bezier : _b,\n      _c = _a.nodes,\n      nodes = _c === void 0 ? [] : _c,\n      transform = _a.transform,\n      isConnectable = _a.isConnectable,\n      CustomConnectionLineComponent = _a.CustomConnectionLineComponent;\n\n  var _d = useState(null),\n      sourceNode = _d[0],\n      setSourceNode = _d[1];\n\n  var hasHandleId = connectionNodeId.includes('__');\n  var sourceIdSplitted = connectionNodeId.split('__');\n  var nodeId = sourceIdSplitted[0];\n  var handleId = hasHandleId ? sourceIdSplitted[1] : null;\n  useEffect(function () {\n    var nextSourceNode = nodes.find(function (n) {\n      return n.id === nodeId;\n    }) || null;\n    setSourceNode(nextSourceNode);\n  }, []);\n\n  if (!sourceNode || !isConnectable) {\n    return null;\n  }\n\n  var sourceHandle = handleId ? sourceNode.__rf.handleBounds[connectionHandleType].find(function (d) {\n    return d.id === handleId;\n  }) : sourceNode.__rf.handleBounds[connectionHandleType][0];\n  var sourceHandleX = sourceHandle ? sourceHandle.x + sourceHandle.width / 2 : sourceNode.__rf.width / 2;\n  var sourceHandleY = sourceHandle ? sourceHandle.y + sourceHandle.height / 2 : sourceNode.__rf.height;\n  var sourceX = sourceNode.__rf.position.x + sourceHandleX;\n  var sourceY = sourceNode.__rf.position.y + sourceHandleY;\n  var targetX = (connectionPositionX - transform[0]) / transform[2];\n  var targetY = (connectionPositionY - transform[1]) / transform[2];\n  var isRightOrLeft = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) === Position.Left || (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) === Position.Right;\n  var targetPosition = isRightOrLeft ? Position.Left : Position.Top;\n\n  if (CustomConnectionLineComponent) {\n    return React.createElement(\"g\", {\n      className: \"react-flow__connection\"\n    }, React.createElement(CustomConnectionLineComponent, {\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition,\n      connectionLineType: connectionLineType,\n      connectionLineStyle: connectionLineStyle\n    }));\n  }\n\n  var dAttr = '';\n\n  if (connectionLineType === ConnectionLineType.Bezier) {\n    dAttr = getBezierPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition\n    });\n  } else if (connectionLineType === ConnectionLineType.Step) {\n    dAttr = getSmoothStepPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition,\n      borderRadius: 0\n    });\n  } else if (connectionLineType === ConnectionLineType.SmoothStep) {\n    dAttr = getSmoothStepPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition\n    });\n  } else {\n    dAttr = \"M\" + sourceX + \",\" + sourceY + \" \" + targetX + \",\" + targetY;\n  }\n\n  return React.createElement(\"g\", {\n    className: \"react-flow__connection\"\n  }, React.createElement(\"path\", {\n    d: dAttr,\n    className: \"react-flow__connection-path\",\n    style: connectionLineStyle\n  }));\n};\n\nvar Marker = function Marker(_a) {\n  var id = _a.id,\n      children = _a.children;\n  return React.createElement(\"marker\", {\n    className: \"react-flow__arrowhead\",\n    id: id,\n    markerWidth: \"12.5\",\n    markerHeight: \"12.5\",\n    viewBox: \"-10 -10 20 20\",\n    orient: \"auto\",\n    refX: \"0\",\n    refY: \"0\"\n  }, children);\n};\n\nvar MarkerDefinitions = function MarkerDefinitions(_a) {\n  var color = _a.color;\n  return React.createElement(\"defs\", null, React.createElement(Marker, {\n    id: \"react-flow__arrowclosed\"\n  }, React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"1\",\n    fill: color,\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\n  })), React.createElement(Marker, {\n    id: \"react-flow__arrow\"\n  }, React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"1.5\",\n    fill: \"none\",\n    points: \"-5,-4 0,0 -5,4\"\n  })));\n};\n\nMarkerDefinitions.displayName = 'MarkerDefinitions';\n\nfunction getHandlePosition(position, node, handle) {\n  if (handle === void 0) {\n    handle = null;\n  }\n\n  if (!handle) {\n    switch (position) {\n      case Position.Top:\n        return {\n          x: node.__rf.width / 2,\n          y: 0\n        };\n\n      case Position.Right:\n        return {\n          x: node.__rf.width,\n          y: node.__rf.height / 2\n        };\n\n      case Position.Bottom:\n        return {\n          x: node.__rf.width / 2,\n          y: node.__rf.height\n        };\n\n      case Position.Left:\n        return {\n          x: 0,\n          y: node.__rf.height / 2\n        };\n    }\n  }\n\n  switch (position) {\n    case Position.Top:\n      return {\n        x: handle.x + handle.width / 2,\n        y: handle.y\n      };\n\n    case Position.Right:\n      return {\n        x: handle.x + handle.width,\n        y: handle.y + handle.height / 2\n      };\n\n    case Position.Bottom:\n      return {\n        x: handle.x + handle.width / 2,\n        y: handle.y + handle.height\n      };\n\n    case Position.Left:\n      return {\n        x: handle.x,\n        y: handle.y + handle.height / 2\n      };\n  }\n}\n\nfunction getHandle(bounds, handleId) {\n  var handle = null;\n\n  if (!bounds) {\n    return null;\n  } // there is no handleId when there are no multiple handles/ handles with ids\n  // so we just pick the first one\n\n\n  if (bounds.length === 1 || !handleId) {\n    handle = bounds[0];\n  } else if (handleId) {\n    handle = bounds.find(function (d) {\n      return d.id === handleId;\n    });\n  }\n\n  return handle;\n}\n\nfunction getEdgePositions(sourceNode, sourceHandle, sourcePosition, targetNode, targetHandle, targetPosition) {\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNode, sourceHandle);\n  var sourceX = sourceNode.__rf.position.x + sourceHandlePos.x;\n  var sourceY = sourceNode.__rf.position.y + sourceHandlePos.y;\n  var targetHandlePos = getHandlePosition(targetPosition, targetNode, targetHandle);\n  var targetX = targetNode.__rf.position.x + targetHandlePos.x;\n  var targetY = targetNode.__rf.position.y + targetHandlePos.y;\n  return {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  };\n}\n\nfunction renderEdge(edge, props, nodes, selectedElements, elementsSelectable) {\n  var _a = edge.source.split('__'),\n      sourceId = _a[0],\n      sourceHandleId = _a[1];\n\n  var _b = edge.target.split('__'),\n      targetId = _b[0],\n      targetHandleId = _b[1];\n\n  var sourceNode = nodes.find(function (n) {\n    return n.id === sourceId;\n  });\n  var targetNode = nodes.find(function (n) {\n    return n.id === targetId;\n  });\n\n  if (!sourceNode) {\n    throw new Error(\"couldn't create edge for source id: \" + sourceId);\n  }\n\n  if (!targetNode) {\n    throw new Error(\"couldn't create edge for target id: \" + targetId);\n  }\n\n  if (!sourceNode.__rf.width || !sourceNode.__rf.height) {\n    return null;\n  }\n\n  var edgeType = edge.type || 'default';\n  var EdgeComponent = props.edgeTypes[edgeType] || props.edgeTypes.default;\n  var sourceHandle = getHandle(sourceNode.__rf.handleBounds.source, sourceHandleId);\n  var targetHandle = getHandle(targetNode.__rf.handleBounds.target, targetHandleId);\n  var sourcePosition = sourceHandle ? sourceHandle.position : Position.Bottom;\n  var targetPosition = targetHandle ? targetHandle.position : Position.Top;\n\n  var _c = getEdgePositions(sourceNode, sourceHandle, sourcePosition, targetNode, targetHandle, targetPosition),\n      sourceX = _c.sourceX,\n      sourceY = _c.sourceY,\n      targetX = _c.targetX,\n      targetY = _c.targetY;\n\n  var isSelected = selectedElements ? selectedElements.some(function (elm) {\n    return isEdge(elm) && elm.id === edge.id;\n  }) : false;\n  return React.createElement(EdgeComponent, {\n    key: edge.id,\n    id: edge.id,\n    className: edge.className,\n    type: edge.type,\n    data: edge.data,\n    onClick: props.onElementClick,\n    selected: isSelected,\n    animated: edge.animated,\n    label: edge.label,\n    labelStyle: edge.labelStyle,\n    labelShowBg: edge.labelShowBg,\n    labelBgStyle: edge.labelBgStyle,\n    labelBgPadding: edge.labelBgPadding,\n    labelBgBorderRadius: edge.labelBgBorderRadius,\n    style: edge.style,\n    arrowHeadType: edge.arrowHeadType,\n    source: edge.source,\n    target: edge.target,\n    sourceHandleId: sourceHandleId,\n    targetHandleId: targetHandleId,\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY,\n    sourcePosition: sourcePosition,\n    targetPosition: targetPosition,\n    elementsSelectable: elementsSelectable,\n    markerEndId: props.markerEndId,\n    isHidden: edge.isHidden\n  });\n}\n\nvar EdgeRenderer = function EdgeRenderer(props) {\n  var _a = useStoreState$1(function (state) {\n    return state.transform;\n  }),\n      tX = _a[0],\n      tY = _a[1],\n      tScale = _a[2];\n\n  var edges = useStoreState$1(function (state) {\n    return state.edges;\n  });\n  var nodes = useStoreState$1(function (state) {\n    return state.nodes;\n  });\n  var connectionNodeId = useStoreState$1(function (state) {\n    return state.connectionNodeId;\n  });\n  var connectionHandleType = useStoreState$1(function (state) {\n    return state.connectionHandleType;\n  });\n  var connectionPosition = useStoreState$1(function (state) {\n    return state.connectionPosition;\n  });\n  var selectedElements = useStoreState$1(function (state) {\n    return state.selectedElements;\n  });\n  var nodesConnectable = useStoreState$1(function (state) {\n    return state.nodesConnectable;\n  });\n  var elementsSelectable = useStoreState$1(function (state) {\n    return state.elementsSelectable;\n  });\n  var width = useStoreState$1(function (state) {\n    return state.width;\n  });\n  var height = useStoreState$1(function (state) {\n    return state.height;\n  });\n  var connectionLineType = props.connectionLineType,\n      arrowHeadColor = props.arrowHeadColor,\n      connectionLineStyle = props.connectionLineStyle,\n      connectionLineComponent = props.connectionLineComponent;\n\n  if (!width) {\n    return null;\n  }\n\n  var transformStyle = \"translate(\" + tX + \",\" + tY + \") scale(\" + tScale + \")\";\n  var renderConnectionLine = connectionNodeId && connectionHandleType;\n  return React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    className: \"react-flow__edges\"\n  }, React.createElement(MarkerDefinitions, {\n    color: arrowHeadColor\n  }), React.createElement(\"g\", {\n    transform: transformStyle\n  }, edges.map(function (edge) {\n    return renderEdge(edge, props, nodes, selectedElements, elementsSelectable);\n  }), renderConnectionLine && React.createElement(ConnectionLine, {\n    nodes: nodes,\n    connectionNodeId: connectionNodeId,\n    connectionHandleType: connectionHandleType,\n    connectionPositionX: connectionPosition.x,\n    connectionPositionY: connectionPosition.y,\n    transform: [tX, tY, tScale],\n    connectionLineStyle: connectionLineStyle,\n    connectionLineType: connectionLineType,\n    isConnectable: nodesConnectable,\n    CustomConnectionLineComponent: connectionLineComponent\n  })));\n};\n\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n/**\r\n * The user selection rectangle gets displayed when a user drags the mouse while pressing shift\r\n */\n\nfunction getMousePosition(event) {\n  var reactFlowNode = document.querySelector('.react-flow');\n\n  if (!reactFlowNode) {\n    return;\n  }\n\n  var containerBounds = reactFlowNode.getBoundingClientRect();\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\n\nvar SelectionRect = function SelectionRect() {\n  var userSelectionRect = useStoreState$1(function (state) {\n    return state.userSelectionRect;\n  });\n\n  if (!userSelectionRect.draw) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"react-flow__selection\",\n    style: {\n      width: userSelectionRect.width,\n      height: userSelectionRect.height,\n      transform: \"translate(\" + userSelectionRect.x + \"px, \" + userSelectionRect.y + \"px)\"\n    }\n  });\n};\n\nvar UserSelection = memo(function (_a) {\n  var selectionKeyPressed = _a.selectionKeyPressed;\n  var selectionActive = useStoreState$1(function (state) {\n    return state.selectionActive;\n  });\n  var elementsSelectable = useStoreState$1(function (state) {\n    return state.elementsSelectable;\n  });\n  var setUserSelection = useStoreActions$1(function (actions) {\n    return actions.setUserSelection;\n  });\n  var updateUserSelection = useStoreActions$1(function (actions) {\n    return actions.updateUserSelection;\n  });\n  var unsetUserSelection = useStoreActions$1(function (actions) {\n    return actions.unsetUserSelection;\n  });\n  var renderUserSelectionPane = selectionActive || selectionKeyPressed;\n\n  if (!elementsSelectable || !renderUserSelectionPane) {\n    return null;\n  }\n\n  var onMouseDown = function onMouseDown(event) {\n    var mousePos = getMousePosition(event);\n\n    if (!mousePos) {\n      return;\n    }\n\n    setUserSelection(mousePos);\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    if (!selectionKeyPressed || !selectionActive) {\n      return;\n    }\n\n    var mousePos = getMousePosition(event);\n\n    if (!mousePos) {\n      return;\n    }\n\n    updateUserSelection(mousePos);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    return unsetUserSelection();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"react-flow__selectionpane\",\n    onMouseDown: onMouseDown,\n    onMouseMove: onMouseMove,\n    onMouseUp: onMouseUp\n  }, React.createElement(SelectionRect, null));\n});\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function factoryWithThrowingShims() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret_1) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  } // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\nvar propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n});\nvar classnames = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg) && arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        } else if (argType === 'object') {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\nvar shims = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.findInArray = findInArray;\n  exports.isFunction = isFunction;\n  exports.isNum = isNum;\n  exports.int = int;\n  exports.dontSetMe = dontSetMe; // @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\n\n  function findInArray(array\n  /*: Array<any> | TouchList*/\n  , callback\n  /*: Function*/\n  )\n  /*: any*/\n  {\n    for (var i = 0, length = array.length; i < length; i++) {\n      if (callback.apply(callback, [array[i], i, array])) return array[i];\n    }\n  }\n\n  function isFunction(func\n  /*: any*/\n  )\n  /*: boolean %checks*/\n  {\n    return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n  }\n\n  function isNum(num\n  /*: any*/\n  )\n  /*: boolean %checks*/\n  {\n    return typeof num === 'number' && !isNaN(num);\n  }\n\n  function int(a\n  /*: string*/\n  )\n  /*: number*/\n  {\n    return parseInt(a, 10);\n  }\n\n  function dontSetMe(props\n  /*: Object*/\n  , propName\n  /*: string*/\n  , componentName\n  /*: string*/\n  ) {\n    if (props[propName]) {\n      return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n    }\n  }\n});\nunwrapExports(shims);\nvar shims_1 = shims.findInArray;\nvar shims_2 = shims.isFunction;\nvar shims_3 = shims.isNum;\nvar shims_4 = shims.dontSetMe;\nvar getPrefix_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getPrefix = getPrefix;\n  exports.browserPrefixToKey = browserPrefixToKey;\n  exports.browserPrefixToStyle = browserPrefixToStyle;\n  exports.default = void 0;\n  var prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\n  function getPrefix()\n  /*: string*/\n  {\n    var prop\n    /*: string*/\n    = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform'; // Checking specifically for 'window.document' is for pseudo-browser server-side\n    // environments that define 'window' as the global context.\n    // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)\n\n    if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';\n    var style = window.document.documentElement.style;\n    if (prop in style) return '';\n\n    for (var i = 0; i < prefixes.length; i++) {\n      if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n    }\n\n    return '';\n  }\n\n  function browserPrefixToKey(prop\n  /*: string*/\n  , prefix\n  /*: string*/\n  )\n  /*: string*/\n  {\n    return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n  }\n\n  function browserPrefixToStyle(prop\n  /*: string*/\n  , prefix\n  /*: string*/\n  )\n  /*: string*/\n  {\n    return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n  }\n\n  function kebabToTitleCase(str\n  /*: string*/\n  )\n  /*: string*/\n  {\n    var out = '';\n    var shouldCapitalize = true;\n\n    for (var i = 0; i < str.length; i++) {\n      if (shouldCapitalize) {\n        out += str[i].toUpperCase();\n        shouldCapitalize = false;\n      } else if (str[i] === '-') {\n        shouldCapitalize = true;\n      } else {\n        out += str[i];\n      }\n    }\n\n    return out;\n  } // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n  // Note that you may have to re-test for certain things; for instance, Chrome 50\n  // can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\n  var _default = getPrefix();\n\n  exports.default = _default;\n});\nunwrapExports(getPrefix_1);\nvar getPrefix_2 = getPrefix_1.getPrefix;\nvar getPrefix_3 = getPrefix_1.browserPrefixToKey;\nvar getPrefix_4 = getPrefix_1.browserPrefixToStyle;\nvar domFns = createCommonjsModule(function (module, exports) {\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.matchesSelector = matchesSelector;\n  exports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\n  exports.addEvent = addEvent;\n  exports.removeEvent = removeEvent;\n  exports.outerHeight = outerHeight;\n  exports.outerWidth = outerWidth;\n  exports.innerHeight = innerHeight;\n  exports.innerWidth = innerWidth;\n  exports.offsetXYFromParent = offsetXYFromParent;\n  exports.createCSSTransform = createCSSTransform;\n  exports.createSVGTransform = createSVGTransform;\n  exports.getTranslation = getTranslation;\n  exports.getTouch = getTouch;\n  exports.getTouchIdentifier = getTouchIdentifier;\n  exports.addUserSelectStyles = addUserSelectStyles;\n  exports.removeUserSelectStyles = removeUserSelectStyles;\n  exports.addClassName = addClassName;\n  exports.removeClassName = removeClassName;\n\n  var _getPrefix = _interopRequireWildcard(getPrefix_1);\n\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== \"function\") return null;\n    var cache = new WeakMap();\n\n    _getRequireWildcardCache = function _getRequireWildcardCache() {\n      return cache;\n    };\n\n    return cache;\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n      return {\n        default: obj\n      };\n    }\n\n    var cache = _getRequireWildcardCache();\n\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n\n    newObj.default = obj;\n\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n\n    return newObj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var matchesSelectorFunc = '';\n\n  function matchesSelector(el\n  /*: Node*/\n  , selector\n  /*: string*/\n  )\n  /*: boolean*/\n  {\n    if (!matchesSelectorFunc) {\n      matchesSelectorFunc = (0, shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n        // $FlowIgnore: Doesn't think elements are indexable\n        return (0, shims.isFunction)(el[method]);\n      });\n    } // Might not be found entirely (not an Element?) - in that case, bail\n    // $FlowIgnore: Doesn't think elements are indexable\n\n\n    if (!(0, shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n    return el[matchesSelectorFunc](selector);\n  } // Works up the tree to the draggable itself attempting to match selector.\n\n\n  function matchesSelectorAndParentsTo(el\n  /*: Node*/\n  , selector\n  /*: string*/\n  , baseNode\n  /*: Node*/\n  )\n  /*: boolean*/\n  {\n    var node = el;\n\n    do {\n      if (matchesSelector(node, selector)) return true;\n      if (node === baseNode) return false;\n      node = node.parentNode;\n    } while (node);\n\n    return false;\n  }\n\n  function addEvent(el\n  /*: ?Node*/\n  , event\n  /*: string*/\n  , handler\n  /*: Function*/\n  , inputOptions\n  /*: Object*/\n  )\n  /*: void*/\n  {\n    if (!el) return;\n\n    var options = _objectSpread({\n      capture: true\n    }, inputOptions);\n\n    if (el.addEventListener) {\n      el.addEventListener(event, handler, options);\n    } else if (el.attachEvent) {\n      el.attachEvent('on' + event, handler);\n    } else {\n      // $FlowIgnore: Doesn't think elements are indexable\n      el['on' + event] = handler;\n    }\n  }\n\n  function removeEvent(el\n  /*: ?Node*/\n  , event\n  /*: string*/\n  , handler\n  /*: Function*/\n  , inputOptions\n  /*: Object*/\n  )\n  /*: void*/\n  {\n    if (!el) return;\n\n    var options = _objectSpread({\n      capture: true\n    }, inputOptions);\n\n    if (el.removeEventListener) {\n      el.removeEventListener(event, handler, options);\n    } else if (el.detachEvent) {\n      el.detachEvent('on' + event, handler);\n    } else {\n      // $FlowIgnore: Doesn't think elements are indexable\n      el['on' + event] = null;\n    }\n  }\n\n  function outerHeight(node\n  /*: HTMLElement*/\n  )\n  /*: number*/\n  {\n    // This is deliberately excluding margin for our calculations, since we are using\n    // offsetTop which is including margin. See getBoundPosition\n    var height = node.clientHeight;\n    var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n    height += (0, shims.int)(computedStyle.borderTopWidth);\n    height += (0, shims.int)(computedStyle.borderBottomWidth);\n    return height;\n  }\n\n  function outerWidth(node\n  /*: HTMLElement*/\n  )\n  /*: number*/\n  {\n    // This is deliberately excluding margin for our calculations, since we are using\n    // offsetLeft which is including margin. See getBoundPosition\n    var width = node.clientWidth;\n    var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n    width += (0, shims.int)(computedStyle.borderLeftWidth);\n    width += (0, shims.int)(computedStyle.borderRightWidth);\n    return width;\n  }\n\n  function innerHeight(node\n  /*: HTMLElement*/\n  )\n  /*: number*/\n  {\n    var height = node.clientHeight;\n    var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n    height -= (0, shims.int)(computedStyle.paddingTop);\n    height -= (0, shims.int)(computedStyle.paddingBottom);\n    return height;\n  }\n\n  function innerWidth(node\n  /*: HTMLElement*/\n  )\n  /*: number*/\n  {\n    var width = node.clientWidth;\n    var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n    width -= (0, shims.int)(computedStyle.paddingLeft);\n    width -= (0, shims.int)(computedStyle.paddingRight);\n    return width;\n  } // Get from offsetParent\n\n\n  function offsetXYFromParent(evt\n  /*: {clientX: number, clientY: number}*/\n  , offsetParent\n  /*: HTMLElement*/\n  , scale\n  /*: number*/\n  )\n  /*: ControlPosition*/\n  {\n    var isBody = offsetParent === offsetParent.ownerDocument.body;\n    var offsetParentRect = isBody ? {\n      left: 0,\n      top: 0\n    } : offsetParent.getBoundingClientRect();\n    var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n    var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  function createCSSTransform(controlPos\n  /*: ControlPosition*/\n  , positionOffset\n  /*: PositionOffsetControlPosition*/\n  )\n  /*: Object*/\n  {\n    var translation = getTranslation(controlPos, positionOffset, 'px');\n    return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n  }\n\n  function createSVGTransform(controlPos\n  /*: ControlPosition*/\n  , positionOffset\n  /*: PositionOffsetControlPosition*/\n  )\n  /*: string*/\n  {\n    var translation = getTranslation(controlPos, positionOffset, '');\n    return translation;\n  }\n\n  function getTranslation(_ref2, positionOffset\n  /*: PositionOffsetControlPosition*/\n  , unitSuffix\n  /*: string*/\n  )\n  /*: string*/\n  {\n    var x = _ref2.x,\n        y = _ref2.y;\n    var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n    if (positionOffset) {\n      var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n      var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n      translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n    }\n\n    return translation;\n  }\n\n  function getTouch(e\n  /*: MouseTouchEvent*/\n  , identifier\n  /*: number*/\n  )\n  /*: ?{clientX: number, clientY: number}*/\n  {\n    return e.targetTouches && (0, shims.findInArray)(e.targetTouches, function (t) {\n      return identifier === t.identifier;\n    }) || e.changedTouches && (0, shims.findInArray)(e.changedTouches, function (t) {\n      return identifier === t.identifier;\n    });\n  }\n\n  function getTouchIdentifier(e\n  /*: MouseTouchEvent*/\n  )\n  /*: ?number*/\n  {\n    if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n    if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n  } // User-select Hacks:\n  //\n  // Useful for preventing blue highlights all over everything when dragging.\n  // Note we're passing `document` b/c we could be iframed\n\n\n  function addUserSelectStyles(doc\n  /*: ?Document*/\n  ) {\n    if (!doc) return;\n    var styleEl = doc.getElementById('react-draggable-style-el');\n\n    if (!styleEl) {\n      styleEl = doc.createElement('style');\n      styleEl.type = 'text/css';\n      styleEl.id = 'react-draggable-style-el';\n      styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n      styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n      doc.getElementsByTagName('head')[0].appendChild(styleEl);\n    }\n\n    if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n  }\n\n  function removeUserSelectStyles(doc\n  /*: ?Document*/\n  ) {\n    if (!doc) return;\n\n    try {\n      if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n      if (doc.selection) {\n        // $FlowIgnore: IE\n        doc.selection.empty();\n      } else {\n        // Remove selection caused by scroll, unless it's a focused input\n        // (we use doc.defaultView in case we're in an iframe)\n        var selection = (doc.defaultView || window).getSelection();\n\n        if (selection && selection.type !== 'Caret') {\n          selection.removeAllRanges();\n        }\n      }\n    } catch (e) {// probably IE\n    }\n  }\n\n  function addClassName(el\n  /*: HTMLElement*/\n  , className\n  /*: string*/\n  ) {\n    if (el.classList) {\n      el.classList.add(className);\n    } else {\n      if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n        el.className += \" \".concat(className);\n      }\n    }\n  }\n\n  function removeClassName(el\n  /*: HTMLElement*/\n  , className\n  /*: string*/\n  ) {\n    if (el.classList) {\n      el.classList.remove(className);\n    } else {\n      el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n    }\n  }\n});\nunwrapExports(domFns);\nvar domFns_1 = domFns.matchesSelector;\nvar domFns_2 = domFns.matchesSelectorAndParentsTo;\nvar domFns_3 = domFns.addEvent;\nvar domFns_4 = domFns.removeEvent;\nvar domFns_5 = domFns.outerHeight;\nvar domFns_6 = domFns.outerWidth;\nvar domFns_7 = domFns.innerHeight;\nvar domFns_8 = domFns.innerWidth;\nvar domFns_9 = domFns.offsetXYFromParent;\nvar domFns_10 = domFns.createCSSTransform;\nvar domFns_11 = domFns.createSVGTransform;\nvar domFns_12 = domFns.getTranslation;\nvar domFns_13 = domFns.getTouch;\nvar domFns_14 = domFns.getTouchIdentifier;\nvar domFns_15 = domFns.addUserSelectStyles;\nvar domFns_16 = domFns.removeUserSelectStyles;\nvar domFns_17 = domFns.addClassName;\nvar domFns_18 = domFns.removeClassName;\nvar positionFns = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getBoundPosition = getBoundPosition;\n  exports.snapToGrid = snapToGrid;\n  exports.canDragX = canDragX;\n  exports.canDragY = canDragY;\n  exports.getControlPosition = getControlPosition;\n  exports.createCoreData = createCoreData;\n  exports.createDraggableData = createDraggableData;\n\n  function getBoundPosition(draggable\n  /*: Draggable*/\n  , x\n  /*: number*/\n  , y\n  /*: number*/\n  )\n  /*: [number, number]*/\n  {\n    // If no bounds, short-circuit and move on\n    if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n    var bounds = draggable.props.bounds;\n    bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n    var node = findDOMNode(draggable);\n\n    if (typeof bounds === 'string') {\n      var ownerDocument = node.ownerDocument;\n      var ownerWindow = ownerDocument.defaultView;\n      var boundNode;\n\n      if (bounds === 'parent') {\n        boundNode = node.parentNode;\n      } else {\n        boundNode = ownerDocument.querySelector(bounds);\n      }\n\n      if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n        throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n      }\n\n      var nodeStyle = ownerWindow.getComputedStyle(node);\n      var boundNodeStyle = ownerWindow.getComputedStyle(boundNode); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n      bounds = {\n        left: -node.offsetLeft + (0, shims.int)(boundNodeStyle.paddingLeft) + (0, shims.int)(nodeStyle.marginLeft),\n        top: -node.offsetTop + (0, shims.int)(boundNodeStyle.paddingTop) + (0, shims.int)(nodeStyle.marginTop),\n        right: (0, domFns.innerWidth)(boundNode) - (0, domFns.outerWidth)(node) - node.offsetLeft + (0, shims.int)(boundNodeStyle.paddingRight) - (0, shims.int)(nodeStyle.marginRight),\n        bottom: (0, domFns.innerHeight)(boundNode) - (0, domFns.outerHeight)(node) - node.offsetTop + (0, shims.int)(boundNodeStyle.paddingBottom) - (0, shims.int)(nodeStyle.marginBottom)\n      };\n    } // Keep x and y below right and bottom limits...\n\n\n    if ((0, shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n    if ((0, shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n    if ((0, shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n    if ((0, shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n    return [x, y];\n  }\n\n  function snapToGrid(grid\n  /*: [number, number]*/\n  , pendingX\n  /*: number*/\n  , pendingY\n  /*: number*/\n  )\n  /*: [number, number]*/\n  {\n    var x = Math.round(pendingX / grid[0]) * grid[0];\n    var y = Math.round(pendingY / grid[1]) * grid[1];\n    return [x, y];\n  }\n\n  function canDragX(draggable\n  /*: Draggable*/\n  )\n  /*: boolean*/\n  {\n    return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n  }\n\n  function canDragY(draggable\n  /*: Draggable*/\n  )\n  /*: boolean*/\n  {\n    return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n  } // Get {x, y} positions from event.\n\n\n  function getControlPosition(e\n  /*: MouseTouchEvent*/\n  , touchIdentifier\n  /*: ?number*/\n  , draggableCore\n  /*: DraggableCore*/\n  )\n  /*: ?ControlPosition*/\n  {\n    var touchObj = typeof touchIdentifier === 'number' ? (0, domFns.getTouch)(e, touchIdentifier) : null;\n    if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n    var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n    var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n    return (0, domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n  } // Create an data object exposed by <DraggableCore>'s events\n\n\n  function createCoreData(draggable\n  /*: DraggableCore*/\n  , x\n  /*: number*/\n  , y\n  /*: number*/\n  )\n  /*: DraggableData*/\n  {\n    var state = draggable.state;\n    var isStart = !(0, shims.isNum)(state.lastX);\n    var node = findDOMNode(draggable);\n\n    if (isStart) {\n      // If this is our first move, use the x and y as last coords.\n      return {\n        node: node,\n        deltaX: 0,\n        deltaY: 0,\n        lastX: x,\n        lastY: y,\n        x: x,\n        y: y\n      };\n    } else {\n      // Otherwise calculate proper values.\n      return {\n        node: node,\n        deltaX: x - state.lastX,\n        deltaY: y - state.lastY,\n        lastX: state.lastX,\n        lastY: state.lastY,\n        x: x,\n        y: y\n      };\n    }\n  } // Create an data exposed by <Draggable>'s events\n\n\n  function createDraggableData(draggable\n  /*: Draggable*/\n  , coreData\n  /*: DraggableData*/\n  )\n  /*: DraggableData*/\n  {\n    var scale = draggable.props.scale;\n    return {\n      node: coreData.node,\n      x: draggable.state.x + coreData.deltaX / scale,\n      y: draggable.state.y + coreData.deltaY / scale,\n      deltaX: coreData.deltaX / scale,\n      deltaY: coreData.deltaY / scale,\n      lastX: draggable.state.x,\n      lastY: draggable.state.y\n    };\n  } // A lot faster than stringify/parse\n\n\n  function cloneBounds(bounds\n  /*: Bounds*/\n  )\n  /*: Bounds*/\n  {\n    return {\n      left: bounds.left,\n      top: bounds.top,\n      right: bounds.right,\n      bottom: bounds.bottom\n    };\n  }\n\n  function findDOMNode(draggable\n  /*: Draggable | DraggableCore*/\n  )\n  /*: HTMLElement*/\n  {\n    var node = draggable.findDOMNode();\n\n    if (!node) {\n      throw new Error('<DraggableCore>: Unmounted during event!');\n    } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n    return node;\n  }\n});\nunwrapExports(positionFns);\nvar positionFns_1 = positionFns.getBoundPosition;\nvar positionFns_2 = positionFns.snapToGrid;\nvar positionFns_3 = positionFns.canDragX;\nvar positionFns_4 = positionFns.canDragY;\nvar positionFns_5 = positionFns.getControlPosition;\nvar positionFns_6 = positionFns.createCoreData;\nvar positionFns_7 = positionFns.createDraggableData;\nvar log_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = log;\n  /*eslint no-console:0*/\n\n  function log() {}\n});\nunwrapExports(log_1);\nvar DraggableCore_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var React$1 = _interopRequireWildcard(React);\n\n  var _propTypes = _interopRequireDefault(propTypes);\n\n  var _reactDom = _interopRequireDefault(reactDom);\n\n  var _log = _interopRequireDefault(log_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== \"function\") return null;\n    var cache = new WeakMap();\n\n    _getRequireWildcardCache = function _getRequireWildcardCache() {\n      return cache;\n    };\n\n    return cache;\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n      return {\n        default: obj\n      };\n    }\n\n    var cache = _getRequireWildcardCache();\n\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n\n    newObj.default = obj;\n\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n\n    return newObj;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function () {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  } // Simple abstraction for dragging events names.\n\n\n  var eventsFor = {\n    touch: {\n      start: 'touchstart',\n      move: 'touchmove',\n      stop: 'touchend'\n    },\n    mouse: {\n      start: 'mousedown',\n      move: 'mousemove',\n      stop: 'mouseup'\n    }\n  }; // Default to mouse events.\n\n  var dragEventFor = eventsFor.mouse;\n  /*:: type DraggableCoreState = {\n    dragging: boolean,\n    lastX: number,\n    lastY: number,\n    touchIdentifier: ?number\n  };*/\n\n  /*:: export type DraggableData = {\n    node: HTMLElement,\n    x: number, y: number,\n    deltaX: number, deltaY: number,\n    lastX: number, lastY: number,\n  };*/\n\n  /*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void;*/\n\n  /*:: export type ControlPosition = {x: number, y: number};*/\n\n  /*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n  /*:: export type DraggableCoreProps = {\n    allowAnyClick: boolean,\n    cancel: string,\n    children: ReactElement<any>,\n    disabled: boolean,\n    enableUserSelectHack: boolean,\n    offsetParent: HTMLElement,\n    grid: [number, number],\n    handle: string,\n    nodeRef?: ?React.ElementRef<any>,\n    onStart: DraggableEventHandler,\n    onDrag: DraggableEventHandler,\n    onStop: DraggableEventHandler,\n    onMouseDown: (e: MouseEvent) => void,\n    scale: number,\n  };*/\n  //\n  // Define <DraggableCore>.\n  //\n  // <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n  // work well with libraries that require more control over the element.\n  //\n\n  var DraggableCore = /*#__PURE__*/function (_React$Component) {\n    _inherits(DraggableCore, _React$Component);\n\n    var _super = _createSuper(DraggableCore);\n\n    function DraggableCore() {\n      var _this;\n\n      _classCallCheck(this, DraggableCore);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _defineProperty(_assertThisInitialized(_this), \"state\", {\n        dragging: false,\n        // Used while dragging to determine deltas.\n        lastX: NaN,\n        lastY: NaN,\n        touchIdentifier: null\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n        // Make it possible to attach event handlers on top of this one.\n        _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n        if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n        var thisNode = _this.findDOMNode();\n\n        if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n          throw new Error('<DraggableCore> not mounted on DragStart!');\n        }\n\n        var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n        if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n          return;\n        } // Prevent scrolling on mobile devices, like ipad/iphone.\n        // Important that this is after handle/cancel.\n\n\n        if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n        // distinguish between individual touches on multitouch screens by identifying which\n        // touchpoint was set to this element.\n\n        var touchIdentifier = (0, domFns.getTouchIdentifier)(e);\n\n        _this.setState({\n          touchIdentifier: touchIdentifier\n        }); // Get the current drag point from the event. This is used as the offset.\n\n\n        var position = (0, positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n        if (position == null) return; // not possible but satisfies flow\n\n        var x = position.x,\n            y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n        var coreEvent = (0, positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n        (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n        (0, _log.default)('calling', _this.props.onStart);\n\n        var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n        if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n        // being selected all over the page.\n\n        if (_this.props.enableUserSelectHack) (0, domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n        // so we know how much we've moved during the drag. This allows us\n        // to drag elements around even if they have been moved, without issue.\n\n        _this.setState({\n          dragging: true,\n          lastX: x,\n          lastY: y\n        }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n        // this element. We use different events depending on whether or not we have detected that this\n        // is a touch-capable device.\n\n\n        (0, domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n        // Get the current drag point from the event. This is used as the offset.\n        var position = (0, positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n        if (position == null) return;\n        var x = position.x,\n            y = position.y; // Snap to grid if prop has been provided\n\n        if (Array.isArray(_this.props.grid)) {\n          var deltaX = x - _this.state.lastX,\n              deltaY = y - _this.state.lastY;\n\n          var _snapToGrid = (0, positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n          var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n          deltaX = _snapToGrid2[0];\n          deltaY = _snapToGrid2[1];\n          if (!deltaX && !deltaY) return; // skip useless drag\n\n          x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n        }\n\n        var coreEvent = (0, positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n        (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n        var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n        if (shouldUpdate === false || _this.mounted === false) {\n          try {\n            // $FlowIgnore\n            _this.handleDragStop(new MouseEvent('mouseup'));\n          } catch (err) {\n            // Old browsers\n            var event = document.createEvent('MouseEvents')\n            /*: any*/\n            ; // I see why this insanity was deprecated\n            // $FlowIgnore\n\n            event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n            _this.handleDragStop(event);\n          }\n\n          return;\n        }\n\n        _this.setState({\n          lastX: x,\n          lastY: y\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n        if (!_this.state.dragging) return;\n        var position = (0, positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n        if (position == null) return;\n        var x = position.x,\n            y = position.y;\n        var coreEvent = (0, positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n        var shouldContinue = _this.props.onStop(e, coreEvent);\n\n        if (shouldContinue === false || _this.mounted === false) return false;\n\n        var thisNode = _this.findDOMNode();\n\n        if (thisNode) {\n          // Remove user-select hack\n          if (_this.props.enableUserSelectHack) (0, domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n        }\n\n        (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n        _this.setState({\n          dragging: false,\n          lastX: NaN,\n          lastY: NaN\n        });\n\n        if (thisNode) {\n          // Remove event handlers\n          (0, _log.default)('DraggableCore: Removing handlers');\n          (0, domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n          (0, domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n        dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n        return _this.handleDragStart(e);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n        dragEventFor = eventsFor.mouse;\n        return _this.handleDragStop(e);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n        // We're on a touch device now, so change the event handlers\n        dragEventFor = eventsFor.touch;\n        return _this.handleDragStart(e);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n        // We're on a touch device now, so change the event handlers\n        dragEventFor = eventsFor.touch;\n        return _this.handleDragStop(e);\n      });\n\n      return _this;\n    }\n\n    _createClass(DraggableCore, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n        var thisNode = this.findDOMNode();\n\n        if (thisNode) {\n          (0, domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n            passive: false\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n        // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n        var thisNode = this.findDOMNode();\n\n        if (thisNode) {\n          var ownerDocument = thisNode.ownerDocument;\n          (0, domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n          (0, domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n          (0, domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n          (0, domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n          (0, domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n            passive: false\n          });\n          if (this.props.enableUserSelectHack) (0, domFns.removeUserSelectStyles)(ownerDocument);\n        }\n      } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n      // the underlying DOM node ourselves. See the README for more information.\n\n    }, {\n      key: \"findDOMNode\",\n      value: function findDOMNode()\n      /*: ?HTMLElement*/\n      {\n        return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        // Reuse the child provided\n        // This makes it flexible to use whatever element is wanted (div, ul, etc)\n        return React$1.cloneElement(React$1.Children.only(this.props.children), {\n          // Note: mouseMove handler is attached to document so it will still function\n          // when the user drags quickly and leaves the bounds of the element.\n          onMouseDown: this.onMouseDown,\n          onMouseUp: this.onMouseUp,\n          // onTouchStart is added on `componentDidMount` so they can be added with\n          // {passive: false}, which allows it to cancel. See \n          // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n          onTouchEnd: this.onTouchEnd\n        });\n      }\n    }]);\n\n    return DraggableCore;\n  }(React$1.Component);\n\n  exports.default = DraggableCore;\n\n  _defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n  _defineProperty(DraggableCore, \"propTypes\", {\n    /**\n     * `allowAnyClick` allows dragging using any mouse button.\n     * By default, we only accept the left button.\n     *\n     * Defaults to `false`.\n     */\n    allowAnyClick: _propTypes.default.bool,\n\n    /**\n     * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n     * with the exception of `onMouseDown`, will not fire.\n     */\n    disabled: _propTypes.default.bool,\n\n    /**\n     * By default, we add 'user-select:none' attributes to the document body\n     * to prevent ugly text selection during drag. If this is causing problems\n     * for your app, set this to `false`.\n     */\n    enableUserSelectHack: _propTypes.default.bool,\n\n    /**\n     * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n     * instead of using the parent node.\n     */\n    offsetParent: function offsetParent(props\n    /*: DraggableCoreProps*/\n    , propName\n    /*: $Keys<DraggableCoreProps>*/\n    ) {\n      if (props[propName] && props[propName].nodeType !== 1) {\n        throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n      }\n    },\n\n    /**\n     * `grid` specifies the x and y that dragging should snap to.\n     */\n    grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n    /**\n     * `handle` specifies a selector to be used as the handle that initiates drag.\n     *\n     * Example:\n     *\n     * ```jsx\n     *   let App = React.createClass({\n     *       render: function () {\n     *         return (\n     *            <Draggable handle=\".handle\">\n     *              <div>\n     *                  <div className=\"handle\">Click me to drag</div>\n     *                  <div>This is some other content</div>\n     *              </div>\n     *           </Draggable>\n     *         );\n     *       }\n     *   });\n     * ```\n     */\n    handle: _propTypes.default.string,\n\n    /**\n     * `cancel` specifies a selector to be used to prevent drag initialization.\n     *\n     * Example:\n     *\n     * ```jsx\n     *   let App = React.createClass({\n     *       render: function () {\n     *           return(\n     *               <Draggable cancel=\".cancel\">\n     *                   <div>\n     *                     <div className=\"cancel\">You can't drag from here</div>\n     *                     <div>Dragging here works fine</div>\n     *                   </div>\n     *               </Draggable>\n     *           );\n     *       }\n     *   });\n     * ```\n     */\n    cancel: _propTypes.default.string,\n\n    /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n     * Unfortunately, in order for <Draggable> to work properly, we need raw access\n     * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n     * as in this example:\n     *\n     * function MyComponent() {\n     *   const nodeRef = React.useRef(null);\n     *   return (\n     *     <Draggable nodeRef={nodeRef}>\n     *       <div ref={nodeRef}>Example Target</div>\n     *     </Draggable>\n     *   );\n     * }\n     *\n     * This can be used for arbitrarily nested components, so long as the ref ends up\n     * pointing to the actual child DOM node and not a custom component.\n     */\n    nodeRef: _propTypes.default.object,\n\n    /**\n     * Called when dragging starts.\n     * If this function returns the boolean false, dragging will be canceled.\n     */\n    onStart: _propTypes.default.func,\n\n    /**\n     * Called while dragging.\n     * If this function returns the boolean false, dragging will be canceled.\n     */\n    onDrag: _propTypes.default.func,\n\n    /**\n     * Called when dragging stops.\n     * If this function returns the boolean false, the drag will remain active.\n     */\n    onStop: _propTypes.default.func,\n\n    /**\n     * A workaround option which can be passed if onMouseDown needs to be accessed,\n     * since it'll always be blocked (as there is internal use of onMouseDown)\n     */\n    onMouseDown: _propTypes.default.func,\n\n    /**\n     * `scale`, if set, applies scaling while dragging an element\n     */\n    scale: _propTypes.default.number,\n\n    /**\n     * These properties should be defined on the child, not here.\n     */\n    className: shims.dontSetMe,\n    style: shims.dontSetMe,\n    transform: shims.dontSetMe\n  });\n\n  _defineProperty(DraggableCore, \"defaultProps\", {\n    allowAnyClick: false,\n    // by default only accept left click\n    cancel: null,\n    disabled: false,\n    enableUserSelectHack: true,\n    offsetParent: null,\n    handle: null,\n    grid: null,\n    transform: null,\n    onStart: function onStart() {},\n    onDrag: function onDrag() {},\n    onStop: function onStop() {},\n    onMouseDown: function onMouseDown() {},\n    scale: 1\n  });\n});\nunwrapExports(DraggableCore_1);\nvar Draggable_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  Object.defineProperty(exports, \"DraggableCore\", {\n    enumerable: true,\n    get: function get() {\n      return _DraggableCore.default;\n    }\n  });\n  exports.default = void 0;\n\n  var React$1 = _interopRequireWildcard(React);\n\n  var _propTypes = _interopRequireDefault(propTypes);\n\n  var _reactDom = _interopRequireDefault(reactDom);\n\n  var _classnames = _interopRequireDefault(classnames);\n\n  var _DraggableCore = _interopRequireDefault(DraggableCore_1);\n\n  var _log = _interopRequireDefault(log_1);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== \"function\") return null;\n    var cache = new WeakMap();\n\n    _getRequireWildcardCache = function _getRequireWildcardCache() {\n      return cache;\n    };\n\n    return cache;\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n      return {\n        default: obj\n      };\n    }\n\n    var cache = _getRequireWildcardCache();\n\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n\n    newObj.default = obj;\n\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n\n    return newObj;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function () {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  } //\n  // Define <Draggable>\n  //\n\n\n  var Draggable = /*#__PURE__*/function (_React$Component) {\n    _inherits(Draggable, _React$Component);\n\n    var _super = _createSuper(Draggable);\n\n    _createClass(Draggable, null, [{\n      key: \"getDerivedStateFromProps\",\n      // React 16.3+\n      // Arity (props, state)\n      value: function getDerivedStateFromProps(_ref, _ref2) {\n        var position = _ref.position;\n        var prevPropsPosition = _ref2.prevPropsPosition; // Set x/y if a new position is provided in props that is different than the previous.\n\n        if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n          (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n            position: position,\n            prevPropsPosition: prevPropsPosition\n          });\n          return {\n            x: position.x,\n            y: position.y,\n            prevPropsPosition: _objectSpread({}, position)\n          };\n        }\n\n        return null;\n      }\n    }]);\n\n    function Draggable(props\n    /*: DraggableProps*/\n    ) {\n      var _this;\n\n      _classCallCheck(this, Draggable);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n        (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n        var shouldStart = _this.props.onStart(e, (0, positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n        if (shouldStart === false) return false;\n\n        _this.setState({\n          dragging: true,\n          dragged: true\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n        if (!_this.state.dragging) return false;\n        (0, _log.default)('Draggable: onDrag: %j', coreData);\n        var uiData = (0, positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n        var newState\n        /*: $Shape<DraggableState>*/\n        = {\n          x: uiData.x,\n          y: uiData.y\n        }; // Keep within bounds.\n\n        if (_this.props.bounds) {\n          // Save original x and y.\n          var x = newState.x,\n              y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n          // we start removing slack, the element won't react to it right away until it's been\n          // completely removed.\n\n          newState.x += _this.state.slackX;\n          newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n          var _getBoundPosition = (0, positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n              _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n              newStateX = _getBoundPosition2[0],\n              newStateY = _getBoundPosition2[1];\n\n          newState.x = newStateX;\n          newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n          newState.slackX = _this.state.slackX + (x - newState.x);\n          newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n          uiData.x = newState.x;\n          uiData.y = newState.y;\n          uiData.deltaX = newState.x - _this.state.x;\n          uiData.deltaY = newState.y - _this.state.y;\n        } // Short-circuit if user's callback killed it.\n\n\n        var shouldUpdate = _this.props.onDrag(e, uiData);\n\n        if (shouldUpdate === false) return false;\n\n        _this.setState(newState);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n        if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n        var shouldContinue = _this.props.onStop(e, (0, positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n        if (shouldContinue === false) return false;\n        (0, _log.default)('Draggable: onDragStop: %j', coreData);\n        var newState\n        /*: $Shape<DraggableState>*/\n        = {\n          dragging: false,\n          slackX: 0,\n          slackY: 0\n        }; // If this is a controlled component, the result of this operation will be to\n        // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n        var controlled = Boolean(_this.props.position);\n\n        if (controlled) {\n          var _this$props$position = _this.props.position,\n              x = _this$props$position.x,\n              y = _this$props$position.y;\n          newState.x = x;\n          newState.y = y;\n        }\n\n        _this.setState(newState);\n      });\n\n      _this.state = {\n        // Whether or not we are currently dragging.\n        dragging: false,\n        // Whether or not we have been dragged before.\n        dragged: false,\n        // Current transform x and y.\n        x: props.position ? props.position.x : props.defaultPosition.x,\n        y: props.position ? props.position.y : props.defaultPosition.y,\n        prevPropsPosition: _objectSpread({}, props.position),\n        // Used for compensating for out-of-bounds drags\n        slackX: 0,\n        slackY: 0,\n        // Can only determine if SVG after mounting\n        isElementSVG: false\n      };\n\n      if (props.position && !(props.onDrag || props.onStop)) {\n        // eslint-disable-next-line no-console\n        console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n      }\n\n      return _this;\n    }\n\n    _createClass(Draggable, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // Check to see if the element passed is an instanceof SVGElement\n        if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n          this.setState({\n            isElementSVG: true\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.setState({\n          dragging: false\n        }); // prevents invariant if unmounted while dragging\n      } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n      // the underlying DOM node ourselves. See the README for more information.\n\n    }, {\n      key: \"findDOMNode\",\n      value: function findDOMNode()\n      /*: ?HTMLElement*/\n      {\n        return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n      }\n    }, {\n      key: \"render\",\n      value: function render()\n      /*: ReactElement<any>*/\n      {\n        var _classNames;\n\n        var _this$props = this.props,\n            axis = _this$props.axis,\n            bounds = _this$props.bounds,\n            children = _this$props.children,\n            defaultPosition = _this$props.defaultPosition,\n            defaultClassName = _this$props.defaultClassName,\n            defaultClassNameDragging = _this$props.defaultClassNameDragging,\n            defaultClassNameDragged = _this$props.defaultClassNameDragged,\n            position = _this$props.position,\n            positionOffset = _this$props.positionOffset,\n            scale = _this$props.scale,\n            draggableCoreProps = _objectWithoutProperties(_this$props, [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"]);\n\n        var style = {};\n        var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n        var controlled = Boolean(position);\n        var draggable = !controlled || this.state.dragging;\n        var validPosition = position || defaultPosition;\n        var transformOpts = {\n          // Set left if horizontal drag is enabled\n          x: (0, positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n          // Set top if vertical drag is enabled\n          y: (0, positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n        }; // If this element was SVG, we use the `transform` attribute.\n\n        if (this.state.isElementSVG) {\n          svgTransform = (0, domFns.createSVGTransform)(transformOpts, positionOffset);\n        } else {\n          // Add a CSS transform to move the element around. This allows us to move the element around\n          // without worrying about whether or not it is relatively or absolutely positioned.\n          // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n          // has a clean slate.\n          style = (0, domFns.createCSSTransform)(transformOpts, positionOffset);\n        } // Mark with class while dragging\n\n\n        var className = (0, _classnames.default)(children.props.className || '', defaultClassName, (_classNames = {}, _defineProperty(_classNames, defaultClassNameDragging, this.state.dragging), _defineProperty(_classNames, defaultClassNameDragged, this.state.dragged), _classNames)); // Reuse the child provided\n        // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n        return /*#__PURE__*/React$1.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n          onStart: this.onDragStart,\n          onDrag: this.onDrag,\n          onStop: this.onDragStop\n        }), React$1.cloneElement(React$1.Children.only(children), {\n          className: className,\n          style: _objectSpread(_objectSpread({}, children.props.style), style),\n          transform: svgTransform\n        }));\n      }\n    }]);\n\n    return Draggable;\n  }(React$1.Component);\n\n  exports.default = Draggable;\n\n  _defineProperty(Draggable, \"displayName\", 'Draggable');\n\n  _defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n    /**\n     * `axis` determines which axis the draggable can move.\n     *\n     *  Note that all callbacks will still return data as normal. This only\n     *  controls flushing to the DOM.\n     *\n     * 'both' allows movement horizontally and vertically.\n     * 'x' limits movement to horizontal axis.\n     * 'y' limits movement to vertical axis.\n     * 'none' limits all movement.\n     *\n     * Defaults to 'both'.\n     */\n    axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n    /**\n     * `bounds` determines the range of movement available to the element.\n     * Available values are:\n     *\n     * 'parent' restricts movement within the Draggable's parent node.\n     *\n     * Alternatively, pass an object with the following properties, all of which are optional:\n     *\n     * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n     *\n     * All values are in px.\n     *\n     * Example:\n     *\n     * ```jsx\n     *   let App = React.createClass({\n     *       render: function () {\n     *         return (\n     *            <Draggable bounds={{right: 300, bottom: 300}}>\n     *              <div>Content</div>\n     *           </Draggable>\n     *         );\n     *       }\n     *   });\n     * ```\n     */\n    bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n      left: _propTypes.default.number,\n      right: _propTypes.default.number,\n      top: _propTypes.default.number,\n      bottom: _propTypes.default.number\n    }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n    defaultClassName: _propTypes.default.string,\n    defaultClassNameDragging: _propTypes.default.string,\n    defaultClassNameDragged: _propTypes.default.string,\n\n    /**\n     * `defaultPosition` specifies the x and y that the dragged item should start at\n     *\n     * Example:\n     *\n     * ```jsx\n     *      let App = React.createClass({\n     *          render: function () {\n     *              return (\n     *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n     *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n     *                  </Draggable>\n     *              );\n     *          }\n     *      });\n     * ```\n     */\n    defaultPosition: _propTypes.default.shape({\n      x: _propTypes.default.number,\n      y: _propTypes.default.number\n    }),\n    positionOffset: _propTypes.default.shape({\n      x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n      y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n    }),\n\n    /**\n     * `position`, if present, defines the current position of the element.\n     *\n     *  This is similar to how form elements in React work - if no `position` is supplied, the component\n     *  is uncontrolled.\n     *\n     * Example:\n     *\n     * ```jsx\n     *      let App = React.createClass({\n     *          render: function () {\n     *              return (\n     *                  <Draggable position={{x: 25, y: 25}}>\n     *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n     *                  </Draggable>\n     *              );\n     *          }\n     *      });\n     * ```\n     */\n    position: _propTypes.default.shape({\n      x: _propTypes.default.number,\n      y: _propTypes.default.number\n    }),\n\n    /**\n     * These properties should be defined on the child, not here.\n     */\n    className: shims.dontSetMe,\n    style: shims.dontSetMe,\n    transform: shims.dontSetMe\n  }));\n\n  _defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n    axis: 'both',\n    bounds: false,\n    defaultClassName: 'react-draggable',\n    defaultClassNameDragging: 'react-draggable-dragging',\n    defaultClassNameDragged: 'react-draggable-dragged',\n    defaultPosition: {\n      x: 0,\n      y: 0\n    },\n    position: null,\n    scale: 1\n  }));\n});\nunwrapExports(Draggable_1);\nvar Draggable = Draggable_1.default,\n    DraggableCore = Draggable_1.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\nvar cjs = Draggable;\nvar default_1 = Draggable;\nvar DraggableCore_1$1 = DraggableCore;\ncjs.default = default_1;\ncjs.DraggableCore = DraggableCore_1$1;\n/**\r\n * The nodes selection rectangle gets displayed when a user\r\n * made a selectio  with on or several nodes\r\n */\n\nvar NodesSelection = function NodesSelection(_a) {\n  var onSelectionDragStart = _a.onSelectionDragStart,\n      onSelectionDrag = _a.onSelectionDrag,\n      onSelectionDragStop = _a.onSelectionDragStop,\n      onSelectionContextMenu = _a.onSelectionContextMenu;\n\n  var _b = useStoreState$1(function (state) {\n    return state.transform;\n  }),\n      tX = _b[0],\n      tY = _b[1],\n      tScale = _b[2];\n\n  var selectedNodesBbox = useStoreState$1(function (state) {\n    return state.selectedNodesBbox;\n  });\n  var selectionActive = useStoreState$1(function (state) {\n    return state.selectionActive;\n  });\n  var selectedElements = useStoreState$1(function (state) {\n    return state.selectedElements;\n  });\n  var snapToGrid = useStoreState$1(function (state) {\n    return state.snapToGrid;\n  });\n  var snapGrid = useStoreState$1(function (state) {\n    return state.snapGrid;\n  });\n  var nodes = useStoreState$1(function (state) {\n    return state.nodes;\n  });\n  var updateNodePosDiff = useStoreActions$1(function (actions) {\n    return actions.updateNodePosDiff;\n  });\n  var nodeRef = useRef(null);\n  var grid = useMemo(function () {\n    return snapToGrid ? snapGrid : [1, 1];\n  }, [snapToGrid, snapGrid]);\n  var selectedNodes = useMemo(function () {\n    return selectedElements ? selectedElements.filter(isNode).map(function (selectedNode) {\n      return nodes.find(function (node) {\n        return node.id === selectedNode.id;\n      });\n    }) : [];\n  }, [selectedElements]);\n  var style = useMemo(function () {\n    return {\n      transform: \"translate(\" + tX + \"px,\" + tY + \"px) scale(\" + tScale + \")\"\n    };\n  }, [tX, tY, tScale]);\n  var innerStyle = useMemo(function () {\n    return {\n      width: selectedNodesBbox.width,\n      height: selectedNodesBbox.height,\n      top: selectedNodesBbox.y,\n      left: selectedNodesBbox.x\n    };\n  }, [selectedNodesBbox]);\n\n  var _onStart = useCallback(function (event) {\n    onSelectionDragStart === null || onSelectionDragStart === void 0 ? void 0 : onSelectionDragStart(event, selectedNodes);\n  }, [onSelectionDragStart, selectedNodes]);\n\n  var _onDrag = useCallback(function (event, data) {\n    if (onSelectionDrag) {\n      onSelectionDrag(event, selectedNodes);\n    }\n\n    selectedNodes === null || selectedNodes === void 0 ? void 0 : selectedNodes.forEach(function (node) {\n      updateNodePosDiff({\n        id: node.id,\n        diff: {\n          x: data.deltaX,\n          y: data.deltaY\n        }\n      });\n    });\n  }, [onSelectionDrag, selectedNodes, updateNodePosDiff]);\n\n  var _onStop = useCallback(function (event) {\n    selectedNodes === null || selectedNodes === void 0 ? void 0 : selectedNodes.forEach(function (node) {\n      updateNodePosDiff({\n        id: node.id,\n        isDragging: false\n      });\n    });\n    onSelectionDragStop === null || onSelectionDragStop === void 0 ? void 0 : onSelectionDragStop(event, selectedNodes);\n  }, [selectedNodes, onSelectionDragStop]);\n\n  var onContextMenu = useCallback(function (event) {\n    var selectedNodes = selectedElements ? selectedElements.filter(isNode).map(function (selectedNode) {\n      return nodes.find(function (node) {\n        return node.id === selectedNode.id;\n      });\n    }) : [];\n    onSelectionContextMenu === null || onSelectionContextMenu === void 0 ? void 0 : onSelectionContextMenu(event, selectedNodes);\n  }, [onSelectionContextMenu]);\n\n  if (!selectedElements || selectionActive) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"react-flow__nodesselection\",\n    style: style\n  }, React.createElement(cjs, {\n    scale: tScale,\n    grid: grid,\n    onStart: function onStart(event) {\n      return _onStart(event);\n    },\n    onDrag: function onDrag(event, data) {\n      return _onDrag(event, data);\n    },\n    onStop: function onStop(event) {\n      return _onStop(event);\n    },\n    nodeRef: nodeRef\n  }, React.createElement(\"div\", {\n    ref: nodeRef,\n    className: \"react-flow__nodesselection-rect\",\n    onContextMenu: onContextMenu,\n    style: innerStyle\n  })));\n};\n\nvar useKeyPress = function useKeyPress(keyCode) {\n  var _a = useState(false),\n      keyPressed = _a[0],\n      setKeyPressed = _a[1];\n\n  function downHandler(event) {\n    if (event.keyCode === keyCode && !isInputDOMNode(event)) {\n      setKeyPressed(true);\n    }\n  }\n\n  var upHandler = function upHandler(event) {\n    if (event.keyCode === keyCode && !isInputDOMNode(event)) {\n      setKeyPressed(false);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('keydown', downHandler);\n    window.addEventListener('keyup', upHandler);\n    return function () {\n      window.removeEventListener('keydown', downHandler);\n      window.removeEventListener('keyup', upHandler);\n    };\n  }, []);\n  return keyPressed;\n};\n\nvar viewChanged = function viewChanged(prevTransform, eventTransform) {\n  return prevTransform.x !== eventTransform.x || prevTransform.y !== eventTransform.y || prevTransform.zoom !== eventTransform.k;\n};\n\nvar eventToFlowTransform = function eventToFlowTransform(eventTransform) {\n  return {\n    x: eventTransform.x,\n    y: eventTransform.y,\n    zoom: eventTransform.k\n  };\n};\n\nvar useD3Zoom = function useD3Zoom(_a) {\n  var zoomPane = _a.zoomPane,\n      onMove = _a.onMove,\n      onMoveStart = _a.onMoveStart,\n      onMoveEnd = _a.onMoveEnd,\n      _b = _a.zoomOnScroll,\n      zoomOnScroll = _b === void 0 ? true : _b,\n      _c = _a.zoomOnDoubleClick,\n      zoomOnDoubleClick = _c === void 0 ? true : _c,\n      selectionKeyPressed = _a.selectionKeyPressed,\n      _d = _a.paneMoveable,\n      paneMoveable = _d === void 0 ? true : _d,\n      _e = _a.defaultPosition,\n      defaultPosition = _e === void 0 ? [0, 0] : _e,\n      _f = _a.defaultZoom,\n      defaultZoom = _f === void 0 ? 1 : _f,\n      translateExtent = _a.translateExtent;\n  var prevTransform = useRef({\n    x: 0,\n    y: 0,\n    zoom: 0\n  });\n  var d3Zoom = useStoreState$1(function (s) {\n    return s.d3Zoom;\n  });\n  var initD3 = useStoreActions$1(function (actions) {\n    return actions.initD3;\n  });\n  var updateTransform = useStoreActions$1(function (actions) {\n    return actions.updateTransform;\n  });\n  useEffect(function () {\n    if (zoomPane.current) {\n      initD3({\n        zoomPane: zoomPane.current,\n        defaultPosition: defaultPosition,\n        defaultZoom: defaultZoom,\n        translateExtent: translateExtent\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (selectionKeyPressed) {\n        d3Zoom.on('zoom', null);\n      } else {\n        d3Zoom.on('zoom', function (event) {\n          updateTransform(event.transform);\n\n          if (onMove) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            onMove(flowTransform);\n          }\n        });\n      }\n    }\n  }, [selectionKeyPressed, d3Zoom, updateTransform, onMove]);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (onMoveStart) {\n        d3Zoom.on('start', function (event) {\n          if (viewChanged(prevTransform.current, event.transform)) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            prevTransform.current = flowTransform;\n            onMoveStart(flowTransform);\n          }\n        });\n      } else {\n        d3Zoom.on('start', null);\n      }\n    }\n  }, [d3Zoom, onMoveStart]);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (onMoveEnd) {\n        d3Zoom.on('end', function (event) {\n          if (viewChanged(prevTransform.current, event.transform)) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            prevTransform.current = flowTransform;\n            onMoveEnd(flowTransform);\n          }\n        });\n      } else {\n        d3Zoom.on('end', null);\n      }\n    }\n  }, [d3Zoom, onMoveEnd]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.filter(function (event) {\n        if (!paneMoveable) {\n          return false;\n        }\n\n        if (!zoomOnScroll && event.type === 'wheel') {\n          return false;\n        }\n\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\n          return false;\n        }\n\n        return !event.ctrlKey && !event.button;\n      });\n    }\n  }, [d3Zoom, zoomOnScroll, zoomOnDoubleClick, paneMoveable]);\n};\n\nvar useGlobalKeyHandler = function useGlobalKeyHandler(_a) {\n  var deleteKeyCode = _a.deleteKeyCode,\n      onElementsRemove = _a.onElementsRemove;\n  var selectedElements = useStoreState$1(function (state) {\n    return state.selectedElements;\n  });\n  var edges = useStoreState$1(function (state) {\n    return state.edges;\n  });\n  var unsetNodesSelection = useStoreActions$1(function (actions) {\n    return actions.unsetNodesSelection;\n  });\n  var deleteKeyPressed = useKeyPress(deleteKeyCode);\n  useEffect(function () {\n    if (onElementsRemove && deleteKeyPressed && selectedElements) {\n      var elementsToRemove = selectedElements; // we also want to remove the edges if only one node is selected\n\n      if (selectedElements.length === 1 && isNode(selectedElements[0])) {\n        var node = selectedElements[0];\n        var connectedEdges = getConnectedEdges([node], edges);\n        elementsToRemove = __spreadArrays(selectedElements, connectedEdges);\n      }\n\n      onElementsRemove(elementsToRemove);\n      unsetNodesSelection();\n    }\n  }, [deleteKeyPressed]);\n};\n\nvar useElementUpdater = function useElementUpdater(propElements) {\n  var stateElements = useStoreState$1(function (state) {\n    return state.elements;\n  });\n  var setElements = useStoreActions$1(function (actions) {\n    return actions.setElements;\n  });\n  useEffect(function () {\n    var nextElements = propElements.map(function (propElement) {\n      var existingElement = stateElements.find(function (el) {\n        var _a;\n\n        return el.id === ((_a = propElement.id) === null || _a === void 0 ? void 0 : _a.toString());\n      });\n\n      if (existingElement) {\n        var data = !fastDeepEqual(existingElement.data, propElement.data) ? _assign(_assign({}, existingElement.data), propElement.data) : existingElement.data;\n        var style = !fastDeepEqual(existingElement.style, propElement.style) ? _assign(_assign({}, existingElement.style), propElement.style) : existingElement.style;\n\n        var elementProps = _assign({}, existingElement);\n\n        if (typeof data !== 'undefined') {\n          elementProps.data = data;\n        }\n\n        if (typeof style !== 'undefined') {\n          elementProps.style = style;\n        }\n\n        if (typeof propElement.className !== 'undefined') {\n          elementProps.className = propElement.className;\n        }\n\n        if (typeof propElement.isHidden !== 'undefined') {\n          elementProps.isHidden = propElement.isHidden;\n        }\n\n        if (typeof propElement.type !== 'undefined') {\n          elementProps.type = propElement.type; // we reset the elements dimensions here in order to force a re-calculation of the bounds.\n          // When the type of a node changes it is possible that the number or positions of handles changes too.\n\n          if (isNode(existingElement) && propElement.type !== existingElement.type) {\n            existingElement.__rf.width = null;\n            existingElement.__rf.height = null;\n          }\n        }\n\n        if (isNode(existingElement)) {\n          var propNode = propElement;\n          var nodeProps = elementProps;\n          var positionChanged = existingElement.position.x !== propNode.position.x || existingElement.position.y !== propNode.position.y;\n\n          if (positionChanged) {\n            nodeProps.__rf = _assign(_assign({}, existingElement.__rf), {\n              position: propNode.position\n            });\n            nodeProps.position = propNode.position;\n          }\n\n          if (typeof propNode.draggable !== 'undefined') {\n            nodeProps.draggable = propNode.draggable;\n          }\n\n          if (typeof propNode.selectable !== 'undefined') {\n            nodeProps.selectable = propNode.selectable;\n          }\n\n          if (typeof propNode.connectable !== 'undefined') {\n            nodeProps.connectable = propNode.connectable;\n          }\n\n          return nodeProps;\n        } else if (isEdge(existingElement)) {\n          var propEdge = propElement;\n          var edgeProps = elementProps;\n          var labelStyle = !fastDeepEqual(existingElement.labelStyle, propEdge.labelStyle) ? _assign(_assign({}, existingElement.labelStyle), propEdge.labelStyle) : existingElement.labelStyle;\n          var labelBgStyle = !fastDeepEqual(existingElement.labelBgStyle, propEdge.labelBgStyle) ? _assign(_assign({}, existingElement.labelBgStyle), propEdge.labelBgStyle) : existingElement.labelBgStyle;\n\n          if (typeof propEdge.label !== 'undefined') {\n            edgeProps.label = propEdge.label;\n          }\n\n          if (typeof labelStyle !== 'undefined') {\n            edgeProps.labelStyle = labelStyle;\n          }\n\n          if (typeof propEdge.labelShowBg !== 'undefined') {\n            edgeProps.labelShowBg = propEdge.labelShowBg;\n          }\n\n          if (typeof propEdge.labelBgPadding !== 'undefined') {\n            edgeProps.labelBgPadding = propEdge.labelBgPadding;\n          }\n\n          if (typeof propEdge.labelBgBorderRadius !== 'undefined') {\n            edgeProps.labelBgBorderRadius = propEdge.labelBgBorderRadius;\n          }\n\n          if (typeof labelBgStyle !== 'undefined') {\n            edgeProps.labelBgStyle = labelBgStyle;\n          }\n\n          if (typeof propEdge.animated !== 'undefined') {\n            edgeProps.animated = propEdge.animated;\n          }\n\n          if (typeof propEdge.arrowHeadType !== 'undefined') {\n            edgeProps.arrowHeadType = propEdge.arrowHeadType;\n          }\n\n          return edgeProps;\n        }\n      }\n\n      return parseElement(propElement);\n    });\n    var elementsChanged = !fastDeepEqual(stateElements, nextElements);\n\n    if (elementsChanged) {\n      setElements(nextElements);\n    }\n  }, [propElements, stateElements]);\n};\n\nvar ContentRect_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ContentRect = function ContentRect(target) {\n    if ('getBBox' in target) {\n      var box = target.getBBox();\n      return Object.freeze({\n        height: box.height,\n        left: 0,\n        top: 0,\n        width: box.width\n      });\n    } else {\n      // if (target instanceof HTMLElement) { // also includes all other non-SVGGraphicsElements\n      var styles = window.getComputedStyle(target);\n      return Object.freeze({\n        height: parseFloat(styles.height || '0'),\n        left: parseFloat(styles.paddingLeft || '0'),\n        top: parseFloat(styles.paddingTop || '0'),\n        width: parseFloat(styles.width || '0')\n      });\n    }\n  };\n\n  exports.ContentRect = ContentRect;\n});\nunwrapExports(ContentRect_1);\nvar ContentRect_2 = ContentRect_1.ContentRect;\nvar ResizeObservation_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ResizeObservation =\n  /** @class */\n  function () {\n    function ResizeObservation(target) {\n      this.target = target;\n      this.$$broadcastWidth = this.$$broadcastHeight = 0;\n    }\n\n    Object.defineProperty(ResizeObservation.prototype, \"broadcastWidth\", {\n      get: function get() {\n        return this.$$broadcastWidth;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(ResizeObservation.prototype, \"broadcastHeight\", {\n      get: function get() {\n        return this.$$broadcastHeight;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    ResizeObservation.prototype.isActive = function () {\n      var cr = ContentRect_1.ContentRect(this.target);\n      return !!cr && (cr.width !== this.broadcastWidth || cr.height !== this.broadcastHeight);\n    };\n\n    return ResizeObservation;\n  }();\n\n  exports.ResizeObservation = ResizeObservation;\n});\nunwrapExports(ResizeObservation_1);\nvar ResizeObservation_2 = ResizeObservation_1.ResizeObservation;\nvar ResizeObserverEntry_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ResizeObserverEntry =\n  /** @class */\n  function () {\n    function ResizeObserverEntry(target) {\n      this.target = target;\n      this.contentRect = ContentRect_1.ContentRect(target);\n    }\n\n    return ResizeObserverEntry;\n  }();\n\n  exports.ResizeObserverEntry = ResizeObserverEntry;\n});\nunwrapExports(ResizeObserverEntry_1);\nvar ResizeObserverEntry_2 = ResizeObserverEntry_1.ResizeObserverEntry;\nvar ResizeObserver_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var resizeObservers = [];\n\n  var ResizeObserver =\n  /** @class */\n  function () {\n    function ResizeObserver(callback) {\n      /** @internal */\n      this.$$observationTargets = [];\n      /** @internal */\n\n      this.$$activeTargets = [];\n      /** @internal */\n\n      this.$$skippedTargets = [];\n      var message = callbackGuard(callback);\n\n      if (message) {\n        throw TypeError(message);\n      }\n\n      this.$$callback = callback;\n      resizeObservers.push(this);\n    }\n\n    ResizeObserver.prototype.observe = function (target) {\n      var message = targetGuard('observe', target);\n\n      if (message) {\n        throw TypeError(message);\n      }\n\n      var index = findTargetIndex(this.$$observationTargets, target);\n\n      if (index > 0) {\n        return;\n      }\n\n      this.$$observationTargets.push(new ResizeObservation_1.ResizeObservation(target));\n      startLoop();\n    };\n\n    ResizeObserver.prototype.unobserve = function (target) {\n      var message = targetGuard('unobserve', target);\n\n      if (message) {\n        throw TypeError(message);\n      }\n\n      var index = findTargetIndex(this.$$observationTargets, target);\n\n      if (index < 0) {\n        return;\n      }\n\n      this.$$observationTargets.splice(index, 1);\n      checkStopLoop();\n    };\n\n    ResizeObserver.prototype.disconnect = function () {\n      this.$$observationTargets = [];\n      this.$$activeTargets = [];\n    };\n\n    return ResizeObserver;\n  }();\n\n  exports.ResizeObserver = ResizeObserver;\n\n  function callbackGuard(callback) {\n    if (typeof callback === 'undefined') {\n      return \"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\";\n    }\n\n    if (typeof callback !== 'function') {\n      return \"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\";\n    }\n  }\n\n  function targetGuard(functionName, target) {\n    if (typeof target === 'undefined') {\n      return \"Failed to execute '\" + functionName + \"' on 'ResizeObserver': 1 argument required, but only 0 present.\";\n    }\n\n    if (!(target instanceof window.Element)) {\n      return \"Failed to execute '\" + functionName + \"' on 'ResizeObserver': parameter 1 is not of type 'Element'.\";\n    }\n  }\n\n  function findTargetIndex(collection, target) {\n    for (var index = 0; index < collection.length; index += 1) {\n      if (collection[index].target === target) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  var gatherActiveObservationsAtDepth = function gatherActiveObservationsAtDepth(depth) {\n    resizeObservers.forEach(function (ro) {\n      ro.$$activeTargets = [];\n      ro.$$skippedTargets = [];\n      ro.$$observationTargets.forEach(function (ot) {\n        if (ot.isActive()) {\n          var targetDepth = calculateDepthForNode(ot.target);\n\n          if (targetDepth > depth) {\n            ro.$$activeTargets.push(ot);\n          } else {\n            ro.$$skippedTargets.push(ot);\n          }\n        }\n      });\n    });\n  };\n\n  var hasActiveObservations = function hasActiveObservations() {\n    return resizeObservers.some(function (ro) {\n      return !!ro.$$activeTargets.length;\n    });\n  };\n\n  var hasSkippedObservations = function hasSkippedObservations() {\n    return resizeObservers.some(function (ro) {\n      return !!ro.$$skippedTargets.length;\n    });\n  };\n\n  var broadcastActiveObservations = function broadcastActiveObservations() {\n    var shallowestTargetDepth = Infinity;\n    resizeObservers.forEach(function (ro) {\n      if (!ro.$$activeTargets.length) {\n        return;\n      }\n\n      var entries = [];\n      ro.$$activeTargets.forEach(function (obs) {\n        var entry = new ResizeObserverEntry_1.ResizeObserverEntry(obs.target);\n        entries.push(entry);\n        obs.$$broadcastWidth = entry.contentRect.width;\n        obs.$$broadcastHeight = entry.contentRect.height;\n        var targetDepth = calculateDepthForNode(obs.target);\n\n        if (targetDepth < shallowestTargetDepth) {\n          shallowestTargetDepth = targetDepth;\n        }\n      });\n      ro.$$callback(entries, ro);\n      ro.$$activeTargets = [];\n    });\n    return shallowestTargetDepth;\n  };\n\n  var deliverResizeLoopErrorNotification = function deliverResizeLoopErrorNotification() {\n    var errorEvent = new window.ErrorEvent('ResizeLoopError', {\n      message: 'ResizeObserver loop completed with undelivered notifications.'\n    });\n    window.dispatchEvent(errorEvent);\n  };\n\n  var calculateDepthForNode = function calculateDepthForNode(target) {\n    var depth = 0;\n\n    while (target.parentNode) {\n      target = target.parentNode;\n      depth += 1;\n    }\n\n    return depth;\n  };\n\n  var notificationIteration = function notificationIteration() {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n\n    while (hasActiveObservations()) {\n      depth = broadcastActiveObservations();\n      gatherActiveObservationsAtDepth(depth);\n    }\n\n    if (hasSkippedObservations()) {\n      deliverResizeLoopErrorNotification();\n    }\n  };\n\n  var animationFrameCancelToken;\n\n  var startLoop = function startLoop() {\n    if (animationFrameCancelToken) return;\n    runLoop();\n  };\n\n  var runLoop = function runLoop() {\n    animationFrameCancelToken = window.requestAnimationFrame(function () {\n      notificationIteration();\n      runLoop();\n    });\n  };\n\n  var checkStopLoop = function checkStopLoop() {\n    if (animationFrameCancelToken && !resizeObservers.some(function (ro) {\n      return !!ro.$$observationTargets.length;\n    })) {\n      window.cancelAnimationFrame(animationFrameCancelToken);\n      animationFrameCancelToken = undefined;\n    }\n  };\n\n  var install = function install() {\n    return window.ResizeObserver = ResizeObserver;\n  };\n\n  exports.install = install;\n});\nunwrapExports(ResizeObserver_1);\nvar ResizeObserver_2 = ResizeObserver_1.ResizeObserver;\nvar ResizeObserver_3 = ResizeObserver_1.install;\n\nvar useResizeHandler = function useResizeHandler(rendererNode) {\n  var updateSize = useStoreActions$1(function (actions) {\n    return actions.updateSize;\n  });\n  useEffect(function () {\n    var resizeObserver;\n\n    var updateDimensions = function updateDimensions() {\n      if (!rendererNode.current) {\n        return;\n      }\n\n      var size = getDimensions(rendererNode.current);\n\n      if (size.height === 0 || size.width === 0) {\n        console.warn('The React Flow parent container needs a width and a height to render the graph.');\n      }\n\n      updateSize(size);\n    };\n\n    updateDimensions();\n    window.onresize = updateDimensions;\n\n    if (rendererNode.current) {\n      resizeObserver = new ResizeObserver_2(function () {\n        return updateDimensions();\n      });\n      resizeObserver.observe(rendererNode.current);\n    }\n\n    return function () {\n      window.onresize = null;\n\n      if (resizeObserver && rendererNode.current) {\n        resizeObserver.unobserve(rendererNode.current);\n      }\n    };\n  }, []);\n};\n\nvar GraphView = function GraphView(_a) {\n  var nodeTypes = _a.nodeTypes,\n      edgeTypes = _a.edgeTypes,\n      onMove = _a.onMove,\n      onMoveStart = _a.onMoveStart,\n      onMoveEnd = _a.onMoveEnd,\n      onLoad = _a.onLoad,\n      onElementClick = _a.onElementClick,\n      onNodeMouseEnter = _a.onNodeMouseEnter,\n      onNodeMouseMove = _a.onNodeMouseMove,\n      onNodeMouseLeave = _a.onNodeMouseLeave,\n      onNodeContextMenu = _a.onNodeContextMenu,\n      onNodeDragStart = _a.onNodeDragStart,\n      onNodeDragStop = _a.onNodeDragStop,\n      onSelectionDragStart = _a.onSelectionDragStart,\n      onSelectionDrag = _a.onSelectionDrag,\n      onSelectionDragStop = _a.onSelectionDragStop,\n      onSelectionContextMenu = _a.onSelectionContextMenu,\n      connectionLineType = _a.connectionLineType,\n      connectionLineStyle = _a.connectionLineStyle,\n      connectionLineComponent = _a.connectionLineComponent,\n      selectionKeyCode = _a.selectionKeyCode,\n      onElementsRemove = _a.onElementsRemove,\n      deleteKeyCode = _a.deleteKeyCode,\n      elements = _a.elements,\n      onConnect = _a.onConnect,\n      onConnectStart = _a.onConnectStart,\n      onConnectStop = _a.onConnectStop,\n      onConnectEnd = _a.onConnectEnd,\n      snapToGrid = _a.snapToGrid,\n      snapGrid = _a.snapGrid,\n      onlyRenderVisibleNodes = _a.onlyRenderVisibleNodes,\n      nodesDraggable = _a.nodesDraggable,\n      nodesConnectable = _a.nodesConnectable,\n      elementsSelectable = _a.elementsSelectable,\n      _b = _a.selectNodesOnDrag,\n      selectNodesOnDrag = _b === void 0 ? true : _b,\n      minZoom = _a.minZoom,\n      maxZoom = _a.maxZoom,\n      defaultZoom = _a.defaultZoom,\n      defaultPosition = _a.defaultPosition,\n      translateExtent = _a.translateExtent,\n      arrowHeadColor = _a.arrowHeadColor,\n      markerEndId = _a.markerEndId,\n      zoomOnScroll = _a.zoomOnScroll,\n      zoomOnDoubleClick = _a.zoomOnDoubleClick,\n      paneMoveable = _a.paneMoveable,\n      onPaneClick = _a.onPaneClick,\n      onPaneScroll = _a.onPaneScroll,\n      onPaneContextMenu = _a.onPaneContextMenu;\n  var isInitialised = useRef(false);\n  var zoomPane = useRef(null);\n  var rendererNode = useRef(null);\n  var d3Initialised = useStoreState$1(function (state) {\n    return state.d3Initialised;\n  });\n  var nodesSelectionActive = useStoreState$1(function (state) {\n    return state.nodesSelectionActive;\n  });\n  var unsetNodesSelection = useStoreActions$1(function (actions) {\n    return actions.unsetNodesSelection;\n  });\n  var setOnConnect = useStoreActions$1(function (actions) {\n    return actions.setOnConnect;\n  });\n  var setOnConnectStart = useStoreActions$1(function (actions) {\n    return actions.setOnConnectStart;\n  });\n  var setOnConnectStop = useStoreActions$1(function (actions) {\n    return actions.setOnConnectStop;\n  });\n  var setOnConnectEnd = useStoreActions$1(function (actions) {\n    return actions.setOnConnectEnd;\n  });\n  var setSnapGrid = useStoreActions$1(function (actions) {\n    return actions.setSnapGrid;\n  });\n  var setSnapToGrid = useStoreActions$1(function (actions) {\n    return actions.setSnapToGrid;\n  });\n  var setNodesDraggable = useStoreActions$1(function (actions) {\n    return actions.setNodesDraggable;\n  });\n  var setNodesConnectable = useStoreActions$1(function (actions) {\n    return actions.setNodesConnectable;\n  });\n  var setElementsSelectable = useStoreActions$1(function (actions) {\n    return actions.setElementsSelectable;\n  });\n  var setInitTransform = useStoreActions$1(function (actions) {\n    return actions.setInitTransform;\n  });\n  var setMinZoom = useStoreActions$1(function (actions) {\n    return actions.setMinZoom;\n  });\n  var setMaxZoom = useStoreActions$1(function (actions) {\n    return actions.setMaxZoom;\n  });\n  var setTranslateExtent = useStoreActions$1(function (actions) {\n    return actions.setTranslateExtent;\n  });\n\n  var _fitView = useStoreActions$1(function (actions) {\n    return actions.fitView;\n  });\n\n  var zoom = useStoreActions$1(function (actions) {\n    return actions.zoom;\n  });\n\n  var _zoomTo = useStoreActions$1(function (actions) {\n    return actions.zoomTo;\n  });\n\n  var currentStore = useStore$1();\n  useResizeHandler(rendererNode);\n  useGlobalKeyHandler({\n    onElementsRemove: onElementsRemove,\n    deleteKeyCode: deleteKeyCode\n  });\n  useElementUpdater(elements);\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\n  useD3Zoom({\n    zoomPane: zoomPane,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    selectionKeyPressed: selectionKeyPressed,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    paneMoveable: paneMoveable,\n    defaultPosition: defaultPosition,\n    defaultZoom: defaultZoom,\n    translateExtent: translateExtent\n  });\n  useEffect(function () {\n    if (!isInitialised.current && d3Initialised) {\n      if (onLoad) {\n        onLoad({\n          fitView: function fitView(params) {\n            if (params === void 0) {\n              params = {\n                padding: 0.1\n              };\n            }\n\n            return _fitView(params);\n          },\n          zoomIn: function zoomIn() {\n            return zoom(0.2);\n          },\n          zoomOut: function zoomOut() {\n            return zoom(-0.2);\n          },\n          zoomTo: function zoomTo(zoomLevel) {\n            return _zoomTo(zoomLevel);\n          },\n          project: onLoadProject(currentStore),\n          getElements: onLoadGetElements(currentStore),\n          setTransform: function setTransform(transform) {\n            return setInitTransform({\n              x: transform.x,\n              y: transform.y,\n              k: transform.zoom\n            });\n          }\n        });\n      }\n\n      isInitialised.current = true;\n    }\n  }, [d3Initialised, onLoad]);\n  var onZoomPaneClick = useCallback(function (event) {\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\n    unsetNodesSelection();\n  }, [onPaneClick]);\n  var onZoomPaneContextMenu = useCallback(function (event) {\n    onPaneContextMenu === null || onPaneContextMenu === void 0 ? void 0 : onPaneContextMenu(event);\n  }, [onPaneContextMenu]);\n  var onZoomPaneScroll = useCallback(function (event) {\n    onPaneScroll === null || onPaneScroll === void 0 ? void 0 : onPaneScroll(event);\n  }, [onPaneScroll]);\n  useEffect(function () {\n    if (onConnect) {\n      setOnConnect(onConnect);\n    }\n  }, [onConnect]);\n  useEffect(function () {\n    if (onConnectStart) {\n      setOnConnectStart(onConnectStart);\n    }\n  }, [onConnectStart]);\n  useEffect(function () {\n    if (onConnectStop) {\n      setOnConnectStop(onConnectStop);\n    }\n  }, [onConnectStop]);\n  useEffect(function () {\n    if (onConnectEnd) {\n      setOnConnectEnd(onConnectEnd);\n    }\n  }, [onConnectEnd]);\n  useEffect(function () {\n    if (typeof snapToGrid !== 'undefined') {\n      setSnapToGrid(snapToGrid);\n    }\n  }, [snapToGrid]);\n  useEffect(function () {\n    if (typeof snapGrid !== 'undefined') {\n      setSnapGrid(snapGrid);\n    }\n  }, [snapGrid]);\n  useEffect(function () {\n    if (typeof nodesDraggable !== 'undefined') {\n      setNodesDraggable(nodesDraggable);\n    }\n  }, [nodesDraggable]);\n  useEffect(function () {\n    if (typeof nodesConnectable !== 'undefined') {\n      setNodesConnectable(nodesConnectable);\n    }\n  }, [nodesConnectable]);\n  useEffect(function () {\n    if (typeof elementsSelectable !== 'undefined') {\n      setElementsSelectable(elementsSelectable);\n    }\n  }, [elementsSelectable]);\n  useEffect(function () {\n    if (typeof minZoom !== 'undefined') {\n      setMinZoom(minZoom);\n    }\n  }, [minZoom]);\n  useEffect(function () {\n    if (typeof maxZoom !== 'undefined') {\n      setMaxZoom(maxZoom);\n    }\n  }, [maxZoom]);\n  useEffect(function () {\n    if (typeof translateExtent !== 'undefined') {\n      setTranslateExtent(translateExtent);\n    }\n  }, [translateExtent]);\n  return React.createElement(\"div\", {\n    className: \"react-flow__renderer\",\n    ref: rendererNode\n  }, React.createElement(NodeRenderer$1, {\n    nodeTypes: nodeTypes,\n    onElementClick: onElementClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDragStop: onNodeDragStop,\n    onNodeDragStart: onNodeDragStart,\n    onlyRenderVisibleNodes: onlyRenderVisibleNodes,\n    selectNodesOnDrag: selectNodesOnDrag,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid\n  }), React.createElement(EdgeRenderer$1, {\n    edgeTypes: edgeTypes,\n    onElementClick: onElementClick,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    arrowHeadColor: arrowHeadColor,\n    markerEndId: markerEndId,\n    connectionLineComponent: connectionLineComponent\n  }), React.createElement(UserSelection, {\n    selectionKeyPressed: selectionKeyPressed\n  }), nodesSelectionActive && React.createElement(NodesSelection, {\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStop: onSelectionDragStop,\n    onSelectionContextMenu: onSelectionContextMenu\n  }), React.createElement(\"div\", {\n    className: \"react-flow__zoompane\",\n    onClick: onZoomPaneClick,\n    onContextMenu: onZoomPaneContextMenu,\n    onWheel: onZoomPaneScroll,\n    ref: zoomPane\n  }));\n};\n\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nfunction _onMouseDown(event, nodeId, setConnectionNodeId, setPosition, onConnect, isTarget, isValidConnection, onConnectStart, onConnectStop, onConnectEnd) {\n  var reactFlowNode = event.target.closest('.react-flow');\n\n  if (!reactFlowNode) {\n    return;\n  }\n\n  var handleType = isTarget ? 'target' : 'source';\n  var containerBounds = reactFlowNode.getBoundingClientRect();\n  var recentHoveredHandle;\n  setPosition({\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  });\n  setConnectionNodeId({\n    connectionNodeId: nodeId,\n    connectionHandleType: handleType\n  });\n\n  if (onConnectStart) {\n    onConnectStart(event, {\n      nodeId: nodeId,\n      handleType: handleType\n    });\n  }\n\n  function resetRecentHandle() {\n    if (!recentHoveredHandle) {\n      return;\n    }\n\n    recentHoveredHandle.classList.remove('react-flow__handle-valid');\n    recentHoveredHandle.classList.remove('react-flow__handle-connecting');\n  } // checks if element below mouse is a handle and returns connection in form of an object { source: 123, target: 312 }\n\n\n  function checkElementBelowIsValid(event) {\n    var elementBelow = document.elementFromPoint(event.clientX, event.clientY);\n    var result = {\n      elementBelow: elementBelow,\n      isValid: false,\n      connection: {\n        source: null,\n        target: null\n      },\n      isHoveringHandle: false\n    };\n\n    if (elementBelow && (elementBelow.classList.contains('target') || elementBelow.classList.contains('source'))) {\n      var connection = {\n        source: null,\n        target: null\n      };\n\n      if (isTarget) {\n        var sourceId = elementBelow.getAttribute('data-nodeid');\n        connection = {\n          source: sourceId,\n          target: nodeId\n        };\n      } else {\n        var targetId = elementBelow.getAttribute('data-nodeid');\n        connection = {\n          source: nodeId,\n          target: targetId\n        };\n      }\n\n      var isValid = isValidConnection(connection);\n      result.connection = connection;\n      result.isValid = isValid;\n      result.isHoveringHandle = true;\n    }\n\n    return result;\n  }\n\n  function onMouseMove(event) {\n    setPosition({\n      x: event.clientX - containerBounds.left,\n      y: event.clientY - containerBounds.top\n    });\n\n    var _a = checkElementBelowIsValid(event),\n        connection = _a.connection,\n        elementBelow = _a.elementBelow,\n        isValid = _a.isValid,\n        isHoveringHandle = _a.isHoveringHandle;\n\n    if (!isHoveringHandle) {\n      return resetRecentHandle();\n    }\n\n    var isOwnHandle = connection.source === connection.target;\n\n    if (!isOwnHandle && elementBelow) {\n      recentHoveredHandle = elementBelow;\n      elementBelow.classList.add('react-flow__handle-connecting');\n      elementBelow.classList.toggle('react-flow__handle-valid', isValid);\n    }\n  }\n\n  function onMouseUp(event) {\n    var _a = checkElementBelowIsValid(event),\n        connection = _a.connection,\n        isValid = _a.isValid;\n\n    if (onConnectStop) {\n      onConnectStop(event);\n    }\n\n    if (isValid && onConnect) {\n      onConnect(connection);\n    }\n\n    if (onConnectEnd) {\n      onConnectEnd(event);\n    }\n\n    resetRecentHandle();\n    setConnectionNodeId({\n      connectionNodeId: null,\n      connectionHandleType: null\n    });\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n  }\n\n  document.addEventListener('mousemove', onMouseMove);\n  document.addEventListener('mouseup', onMouseUp);\n}\n\nvar BaseHandle = function BaseHandle(_a) {\n  var type = _a.type,\n      nodeId = _a.nodeId,\n      onConnect = _a.onConnect,\n      onConnectStart = _a.onConnectStart,\n      onConnectStop = _a.onConnectStop,\n      onConnectEnd = _a.onConnectEnd,\n      position = _a.position,\n      setConnectionNodeId = _a.setConnectionNodeId,\n      setPosition = _a.setPosition,\n      className = _a.className,\n      _b = _a.id,\n      id = _b === void 0 ? false : _b,\n      isValidConnection = _a.isValidConnection,\n      rest = __rest(_a, [\"type\", \"nodeId\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"position\", \"setConnectionNodeId\", \"setPosition\", \"className\", \"id\", \"isValidConnection\"]);\n\n  var isTarget = type === 'target';\n  var handleClasses = cc(['react-flow__handle', \"react-flow__handle-\" + position, 'nodrag', className, {\n    source: !isTarget,\n    target: isTarget\n  }]);\n  var nodeIdWithHandleId = id ? nodeId + \"__\" + id : nodeId;\n  return React.createElement(\"div\", _assign({\n    \"data-nodeid\": nodeIdWithHandleId,\n    \"data-handlepos\": position,\n    className: handleClasses,\n    onMouseDown: function onMouseDown(event) {\n      return _onMouseDown(event, nodeIdWithHandleId, setConnectionNodeId, setPosition, onConnect, isTarget, isValidConnection, onConnectStart, onConnectStop, onConnectEnd);\n    }\n  }, rest));\n};\n\nBaseHandle.displayName = 'BaseHandle';\nvar BaseHandle$1 = memo(BaseHandle);\nvar NodeIdContext = createContext(null);\nvar Provider = NodeIdContext.Provider;\nvar Consumer = NodeIdContext.Consumer;\n\nvar Handle = function Handle(_a) {\n  var _b = _a.type,\n      type = _b === void 0 ? 'source' : _b,\n      _c = _a.position,\n      position = _c === void 0 ? Position.Top : _c,\n      _d = _a.isValidConnection,\n      isValidConnection = _d === void 0 ? function () {\n    return true;\n  } : _d,\n      _e = _a.isConnectable,\n      isConnectable = _e === void 0 ? true : _e,\n      style = _a.style,\n      className = _a.className,\n      id = _a.id,\n      onConnect = _a.onConnect;\n  var nodeId = useContext(NodeIdContext);\n  var setPosition = useStoreActions$1(function (actions) {\n    return actions.setConnectionPosition;\n  });\n  var setConnectionNodeId = useStoreActions$1(function (actions) {\n    return actions.setConnectionNodeId;\n  });\n  var onConnectAction = useStoreState$1(function (state) {\n    return state.onConnect;\n  });\n  var onConnectStart = useStoreState$1(function (state) {\n    return state.onConnectStart;\n  });\n  var onConnectStop = useStoreState$1(function (state) {\n    return state.onConnectStop;\n  });\n  var onConnectEnd = useStoreState$1(function (state) {\n    return state.onConnectEnd;\n  });\n\n  var onConnectExtended = function onConnectExtended(params) {\n    if (onConnectAction) {\n      onConnectAction(params);\n    }\n\n    if (onConnect) {\n      onConnect(params);\n    }\n  };\n\n  var handleClasses = cc([className, {\n    connectable: isConnectable\n  }]);\n  return React.createElement(BaseHandle$1, {\n    className: handleClasses,\n    id: id,\n    nodeId: nodeId,\n    setPosition: setPosition,\n    setConnectionNodeId: setConnectionNodeId,\n    onConnect: onConnectExtended,\n    onConnectStart: onConnectStart,\n    onConnectStop: onConnectStop,\n    onConnectEnd: onConnectEnd,\n    type: type,\n    position: position,\n    isValidConnection: isValidConnection,\n    style: style\n  });\n};\n\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nvar DefaultNode = function DefaultNode(_a) {\n  var data = _a.data,\n      isConnectable = _a.isConnectable,\n      _b = _a.targetPosition,\n      targetPosition = _b === void 0 ? Position.Top : _b,\n      _c = _a.sourcePosition,\n      sourcePosition = _c === void 0 ? Position.Bottom : _c;\n  return React.createElement(React.Fragment, null, React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data.label, React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nvar InputNode = function InputNode(_a) {\n  var data = _a.data,\n      isConnectable = _a.isConnectable,\n      _b = _a.sourcePosition,\n      sourcePosition = _b === void 0 ? Position.Bottom : _b;\n  return React.createElement(React.Fragment, null, data.label, React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nvar OutputNode = function OutputNode(_a) {\n  var data = _a.data,\n      isConnectable = _a.isConnectable,\n      _b = _a.targetPosition,\n      targetPosition = _b === void 0 ? Position.Top : _b;\n  return React.createElement(React.Fragment, null, React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data.label);\n};\n\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nvar wrapNode = function wrapNode(NodeComponent) {\n  var NodeWrapper = function NodeWrapper(_a) {\n    var id = _a.id,\n        type = _a.type,\n        data = _a.data,\n        transform = _a.transform,\n        xPos = _a.xPos,\n        yPos = _a.yPos,\n        selected = _a.selected,\n        onClick = _a.onClick,\n        onMouseEnter = _a.onMouseEnter,\n        onMouseMove = _a.onMouseMove,\n        onMouseLeave = _a.onMouseLeave,\n        onContextMenu = _a.onContextMenu,\n        onNodeDragStart = _a.onNodeDragStart,\n        onNodeDragStop = _a.onNodeDragStop,\n        style = _a.style,\n        className = _a.className,\n        isDraggable = _a.isDraggable,\n        isSelectable = _a.isSelectable,\n        isConnectable = _a.isConnectable,\n        selectNodesOnDrag = _a.selectNodesOnDrag,\n        sourcePosition = _a.sourcePosition,\n        targetPosition = _a.targetPosition,\n        isHidden = _a.isHidden,\n        isInitialized = _a.isInitialized,\n        snapToGrid = _a.snapToGrid,\n        snapGrid = _a.snapGrid,\n        isDragging = _a.isDragging;\n    var updateNodeDimensions = useStoreActions$1(function (actions) {\n      return actions.updateNodeDimensions;\n    });\n    var setSelectedElements = useStoreActions$1(function (actions) {\n      return actions.setSelectedElements;\n    });\n    var updateNodePosDiff = useStoreActions$1(function (actions) {\n      return actions.updateNodePosDiff;\n    });\n    var unsetNodesSelection = useStoreActions$1(function (actions) {\n      return actions.unsetNodesSelection;\n    });\n    var nodeElement = useRef(null);\n    var node = useMemo(function () {\n      return {\n        id: id,\n        type: type,\n        position: {\n          x: xPos,\n          y: yPos\n        },\n        data: data\n      };\n    }, [id, type, xPos, yPos, data]);\n    var grid = useMemo(function () {\n      return snapToGrid ? snapGrid : [1, 1];\n    }, [snapToGrid, snapGrid]);\n    var nodeStyle = useMemo(function () {\n      return _assign({\n        zIndex: selected ? 10 : 3,\n        transform: \"translate(\" + xPos + \"px,\" + yPos + \"px)\",\n        pointerEvents: isSelectable || isDraggable || onClick ? 'all' : 'none',\n        opacity: isInitialized ? 1 : 0\n      }, style);\n    }, [selected, xPos, yPos, isSelectable, isDraggable, onClick, isInitialized, style]);\n    var onMouseEnterHandler = useMemo(function () {\n      if (!onMouseEnter || isDragging) {\n        return;\n      }\n\n      return function (event) {\n        return onMouseEnter(event, node);\n      };\n    }, [onMouseEnter, isDragging, node]);\n    var onMouseMoveHandler = useMemo(function () {\n      if (!onMouseMove || isDragging) {\n        return;\n      }\n\n      return function (event) {\n        return onMouseMove(event, node);\n      };\n    }, [onMouseMove, isDragging, node]);\n    var onMouseLeaveHandler = useMemo(function () {\n      if (!onMouseLeave || isDragging) {\n        return;\n      }\n\n      return function (event) {\n        return onMouseLeave(event, node);\n      };\n    }, [onMouseLeave, isDragging, node]);\n    var onContextMenuHandler = useMemo(function () {\n      if (!onContextMenu) {\n        return;\n      }\n\n      return function (event) {\n        return onContextMenu(event, node);\n      };\n    }, [onContextMenu, node]);\n    var onSelectNodeHandler = useCallback(function (event) {\n      if (!isDraggable) {\n        if (isSelectable) {\n          unsetNodesSelection();\n          setSelectedElements({\n            id: node.id,\n            type: node.type\n          });\n        }\n\n        onClick === null || onClick === void 0 ? void 0 : onClick(event, node);\n      }\n    }, [isSelectable, isDraggable, onClick, node]);\n    var onDragStart = useCallback(function (event) {\n      onNodeDragStart === null || onNodeDragStart === void 0 ? void 0 : onNodeDragStart(event, node);\n\n      if (selectNodesOnDrag && isSelectable) {\n        unsetNodesSelection();\n        setSelectedElements({\n          id: node.id,\n          type: node.type\n        });\n      }\n    }, [node, selectNodesOnDrag, isSelectable, onNodeDragStart]);\n    var onDrag = useCallback(function (_, data) {\n      updateNodePosDiff({\n        id: id,\n        diff: {\n          x: data.deltaX,\n          y: data.deltaY\n        }\n      });\n    }, [id]);\n    var onDragStop = useCallback(function (event) {\n      // onDragStop also gets called when user just clicks on a node.\n      // Because of that we set dragging to true inside the onDrag handler and handle the click here\n      if (!isDragging) {\n        if (isSelectable && !selectNodesOnDrag) {\n          setSelectedElements({\n            id: node.id,\n            type: node.type\n          });\n        }\n\n        onClick === null || onClick === void 0 ? void 0 : onClick(event, node);\n        return;\n      }\n\n      updateNodePosDiff({\n        id: id,\n        isDragging: false\n      });\n      onNodeDragStop === null || onNodeDragStop === void 0 ? void 0 : onNodeDragStop(event, node);\n    }, [node, isSelectable, selectNodesOnDrag, onClick, onNodeDragStop, isDragging]);\n    useEffect(function () {\n      if (nodeElement.current && !isHidden) {\n        updateNodeDimensions({\n          id: id,\n          nodeElement: nodeElement.current\n        });\n        var resizeObserver_1 = new ResizeObserver_2(function () {\n          if (nodeElement.current) {\n            updateNodeDimensions({\n              id: id,\n              nodeElement: nodeElement.current\n            });\n          }\n        });\n        resizeObserver_1.observe(nodeElement.current);\n        return function () {\n          if (resizeObserver_1 && nodeElement.current) {\n            resizeObserver_1.unobserve(nodeElement.current);\n          }\n        };\n      }\n\n      return;\n    }, [id, isHidden]);\n\n    if (isHidden) {\n      return null;\n    }\n\n    var nodeClasses = cc(['react-flow__node', \"react-flow__node-\" + type, className, {\n      selected: selected,\n      selectable: isSelectable\n    }]);\n    return React.createElement(DraggableCore_1$1, {\n      onStart: onDragStart,\n      onDrag: onDrag,\n      onStop: onDragStop,\n      scale: transform[2],\n      disabled: !isDraggable,\n      cancel: \".nodrag\",\n      nodeRef: nodeElement,\n      grid: grid\n    }, React.createElement(\"div\", {\n      className: nodeClasses,\n      ref: nodeElement,\n      style: nodeStyle,\n      onMouseEnter: onMouseEnterHandler,\n      onMouseMove: onMouseMoveHandler,\n      onMouseLeave: onMouseLeaveHandler,\n      onContextMenu: onContextMenuHandler,\n      onClick: onSelectNodeHandler\n    }, React.createElement(Provider, {\n      value: id\n    }, React.createElement(NodeComponent, {\n      id: id,\n      data: data,\n      type: type,\n      selected: selected,\n      isConnectable: isConnectable,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition\n    }))));\n  };\n\n  NodeWrapper.displayName = 'NodeWrapper';\n  return memo(NodeWrapper);\n};\n\nfunction createNodeTypes(nodeTypes) {\n  var standardTypes = {\n    input: wrapNode(nodeTypes.input || InputNode$1),\n    default: wrapNode(nodeTypes.default || DefaultNode$1),\n    output: wrapNode(nodeTypes.output || OutputNode$1)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\n    return !['input', 'default', 'output'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\n    return res;\n  }, wrappedTypes);\n  return _assign(_assign({}, standardTypes), specialTypes);\n} // This is just a helper component for calling the onSelectionChange listener.\n// As soon as easy-peasy has implemented the effectOn hook, we can remove this component\n// and use the hook instead. https://github.com/ctrlplusb/easy-peasy/pull/459\n\n\nvar SelectionListener = function SelectionListener(_a) {\n  var onSelectionChange = _a.onSelectionChange;\n  var selectedElements = useStoreState$1(function (s) {\n    return s.selectedElements;\n  });\n  useEffect(function () {\n    onSelectionChange(selectedElements);\n  }, [selectedElements]);\n  return null;\n};\n\nvar StepEdge = memo(function (props) {\n  return React.createElement(SmoothStepEdge, _assign({}, props, {\n    borderRadius: 0\n  }));\n});\nvar StraightEdge = memo(function (_a) {\n  var sourceX = _a.sourceX,\n      sourceY = _a.sourceY,\n      targetX = _a.targetX,\n      targetY = _a.targetY,\n      label = _a.label,\n      labelStyle = _a.labelStyle,\n      labelShowBg = _a.labelShowBg,\n      labelBgStyle = _a.labelBgStyle,\n      labelBgPadding = _a.labelBgPadding,\n      labelBgBorderRadius = _a.labelBgBorderRadius,\n      style = _a.style,\n      arrowHeadType = _a.arrowHeadType,\n      markerEndId = _a.markerEndId;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\n  var text = label ? React.createElement(EdgeText, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  return React.createElement(React.Fragment, null, React.createElement(\"path\", {\n    style: style,\n    className: \"react-flow__edge-path\",\n    d: \"M \" + sourceX + \",\" + sourceY + \"L \" + targetX + \",\" + targetY,\n    markerEnd: markerEnd\n  }), text);\n});\n\nvar wrapEdge = function wrapEdge(EdgeComponent) {\n  var EdgeWrapper = function EdgeWrapper(_a) {\n    var id = _a.id,\n        className = _a.className,\n        type = _a.type,\n        data = _a.data,\n        onClick = _a.onClick,\n        selected = _a.selected,\n        animated = _a.animated,\n        label = _a.label,\n        labelStyle = _a.labelStyle,\n        labelShowBg = _a.labelShowBg,\n        labelBgStyle = _a.labelBgStyle,\n        labelBgPadding = _a.labelBgPadding,\n        labelBgBorderRadius = _a.labelBgBorderRadius,\n        style = _a.style,\n        arrowHeadType = _a.arrowHeadType,\n        source = _a.source,\n        target = _a.target,\n        sourceX = _a.sourceX,\n        sourceY = _a.sourceY,\n        targetX = _a.targetX,\n        targetY = _a.targetY,\n        sourcePosition = _a.sourcePosition,\n        targetPosition = _a.targetPosition,\n        elementsSelectable = _a.elementsSelectable,\n        markerEndId = _a.markerEndId,\n        isHidden = _a.isHidden;\n    var setSelectedElements = useStoreActions$1(function (actions) {\n      return actions.setSelectedElements;\n    });\n    var edgeClasses = cc(['react-flow__edge', \"react-flow__edge-\" + type, className, {\n      selected: selected,\n      animated: animated\n    }]);\n    var edgeGroupStyle = useMemo(function () {\n      return {\n        pointerEvents: elementsSelectable || onClick ? 'all' : 'none'\n      };\n    }, [elementsSelectable, onClick]);\n    var onEdgeClick = useCallback(function (event) {\n      if (elementsSelectable) {\n        setSelectedElements({\n          id: id,\n          source: source,\n          target: target\n        });\n      }\n\n      if (onClick) {\n        var edgeElement = {\n          id: id,\n          source: source,\n          target: target,\n          type: type\n        };\n\n        if (typeof data !== 'undefined') {\n          edgeElement.data = data;\n        }\n\n        onClick(event, edgeElement);\n      }\n    }, [elementsSelectable, id, source, target, type, data, onClick]);\n\n    if (isHidden) {\n      return null;\n    }\n\n    return React.createElement(\"g\", {\n      className: edgeClasses,\n      onClick: onEdgeClick,\n      style: edgeGroupStyle\n    }, React.createElement(EdgeComponent, {\n      id: id,\n      source: source,\n      target: target,\n      selected: selected,\n      animated: animated,\n      label: label,\n      labelStyle: labelStyle,\n      labelShowBg: labelShowBg,\n      labelBgStyle: labelBgStyle,\n      labelBgPadding: labelBgPadding,\n      labelBgBorderRadius: labelBgBorderRadius,\n      data: data,\n      style: style,\n      arrowHeadType: arrowHeadType,\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      markerEndId: markerEndId\n    }));\n  };\n\n  EdgeWrapper.displayName = 'EdgeWrapper';\n  return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n  var standardTypes = {\n    default: wrapEdge(edgeTypes.default || BezierEdge),\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\n    step: wrapEdge(edgeTypes.step || StepEdge),\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\n    return !['default', 'bezier'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\n    return res;\n  }, wrappedTypes);\n  return _assign(_assign({}, standardTypes), specialTypes);\n}\n\nvar Wrapper = function Wrapper(_a) {\n  var _b;\n\n  var children = _a.children;\n  var easyPeasyStore = useStore();\n  var isWrapepdWithReactFlowProvider = (_b = easyPeasyStore === null || easyPeasyStore === void 0 ? void 0 : easyPeasyStore.getState()) === null || _b === void 0 ? void 0 : _b.reactFlowVersion;\n\n  if (isWrapepdWithReactFlowProvider) {\n    // we need to wrap it with a fragment because t's not allowed for children to be a ReactNode\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return React.createElement(React.Fragment, null, children);\n  }\n\n  return React.createElement(StoreProvider, {\n    store: store\n  }, children);\n};\n\nWrapper.displayName = 'ReactFlowWrapper';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".react-flow{width:100%;height:100%;position:relative;overflow:hidden}.react-flow__renderer,.react-flow__selectionpane,.react-flow__zoompane{width:100%;height:100%;position:absolute;top:0;left:0}.react-flow__zoompane{z-index:1}.react-flow__selectionpane{z-index:2}.react-flow__selection{position:absolute;top:0;left:0;background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__edges{position:absolute;top:0;left:0;pointer-events:none;z-index:2}.react-flow__edge{pointer-events:all}.react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none;stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__edge-textbg{fill:#fff}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none;stroke:#b1b1b7;stroke-width:1}.react-flow__nodes{width:100%;height:100%;pointer-events:none;z-index:3}.react-flow__node,.react-flow__nodes{position:absolute;transform-origin:0 0}.react-flow__node{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-input{background:#fff;border-color:#0041d0}.react-flow__node-input.selected,.react-flow__node-input.selected:hover{box-shadow:0 0 0 .5px #0041d0}.react-flow__node-input .react-flow__handle{background:#0041d0}.react-flow__node-default{background:#fff;border-color:#1a192b}.react-flow__node-default.selected,.react-flow__node-default.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle{background:#1a192b}.react-flow__node-output{background:#fff;border-color:#ff0072}.react-flow__node-output.selected,.react-flow__node-output.selected:hover{box-shadow:0 0 0 .5px #ff0072}.react-flow__node-output .react-flow__handle{background:#ff0072}.react-flow__nodesselection{z-index:3;position:absolute;width:100%;height:100%;top:0;left:0;transform-origin:left top;pointer-events:none}.react-flow__nodesselection-rect{position:absolute;background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8);pointer-events:all}.react-flow__handle{position:absolute;width:6px;height:6px;background:#555;border:1px solid #fff;pointer-events:none;border-radius:100%}.react-flow__handle.connectable{pointer-events:all;cursor:crosshair}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}\";\nstyleInject(css_248z);\nvar defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1\n};\nvar defaultEdgeTypes = {\n  default: BezierEdge,\n  straight: StraightEdge,\n  step: StepEdge,\n  smoothstep: SmoothStepEdge\n};\n\nvar ReactFlow = function ReactFlow(_a) {\n  var _b = _a.elements,\n      elements = _b === void 0 ? [] : _b,\n      className = _a.className,\n      _c = _a.nodeTypes,\n      nodeTypes = _c === void 0 ? defaultNodeTypes : _c,\n      _d = _a.edgeTypes,\n      edgeTypes = _d === void 0 ? defaultEdgeTypes : _d,\n      onElementClick = _a.onElementClick,\n      onLoad = _a.onLoad,\n      onMove = _a.onMove,\n      onMoveStart = _a.onMoveStart,\n      onMoveEnd = _a.onMoveEnd,\n      onElementsRemove = _a.onElementsRemove,\n      onConnect = _a.onConnect,\n      onConnectStart = _a.onConnectStart,\n      onConnectStop = _a.onConnectStop,\n      onConnectEnd = _a.onConnectEnd,\n      onNodeMouseEnter = _a.onNodeMouseEnter,\n      onNodeMouseMove = _a.onNodeMouseMove,\n      onNodeMouseLeave = _a.onNodeMouseLeave,\n      onNodeContextMenu = _a.onNodeContextMenu,\n      onNodeDragStart = _a.onNodeDragStart,\n      onNodeDragStop = _a.onNodeDragStop,\n      onSelectionChange = _a.onSelectionChange,\n      onSelectionDragStart = _a.onSelectionDragStart,\n      onSelectionDrag = _a.onSelectionDrag,\n      onSelectionDragStop = _a.onSelectionDragStop,\n      onSelectionContextMenu = _a.onSelectionContextMenu,\n      _e = _a.connectionLineType,\n      connectionLineType = _e === void 0 ? ConnectionLineType.Bezier : _e,\n      connectionLineStyle = _a.connectionLineStyle,\n      connectionLineComponent = _a.connectionLineComponent,\n      _f = _a.deleteKeyCode,\n      deleteKeyCode = _f === void 0 ? 8 : _f,\n      _g = _a.selectionKeyCode,\n      selectionKeyCode = _g === void 0 ? 16 : _g,\n      _h = _a.snapToGrid,\n      snapToGrid = _h === void 0 ? false : _h,\n      _j = _a.snapGrid,\n      snapGrid = _j === void 0 ? [15, 15] : _j,\n      _k = _a.onlyRenderVisibleNodes,\n      onlyRenderVisibleNodes = _k === void 0 ? true : _k,\n      _l = _a.selectNodesOnDrag,\n      selectNodesOnDrag = _l === void 0 ? true : _l,\n      nodesDraggable = _a.nodesDraggable,\n      nodesConnectable = _a.nodesConnectable,\n      elementsSelectable = _a.elementsSelectable,\n      minZoom = _a.minZoom,\n      maxZoom = _a.maxZoom,\n      _m = _a.defaultZoom,\n      defaultZoom = _m === void 0 ? 1 : _m,\n      _o = _a.defaultPosition,\n      defaultPosition = _o === void 0 ? [0, 0] : _o,\n      translateExtent = _a.translateExtent,\n      _p = _a.arrowHeadColor,\n      arrowHeadColor = _p === void 0 ? '#b1b1b7' : _p,\n      markerEndId = _a.markerEndId,\n      _q = _a.zoomOnScroll,\n      zoomOnScroll = _q === void 0 ? true : _q,\n      _r = _a.zoomOnDoubleClick,\n      zoomOnDoubleClick = _r === void 0 ? true : _r,\n      _s = _a.paneMoveable,\n      paneMoveable = _s === void 0 ? true : _s,\n      onPaneClick = _a.onPaneClick,\n      onPaneScroll = _a.onPaneScroll,\n      onPaneContextMenu = _a.onPaneContextMenu,\n      children = _a.children,\n      rest = __rest(_a, [\"elements\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onElementClick\", \"onLoad\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onElementsRemove\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDragStart\", \"onNodeDragStop\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"deleteKeyCode\", \"selectionKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleNodes\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"elementsSelectable\", \"minZoom\", \"maxZoom\", \"defaultZoom\", \"defaultPosition\", \"translateExtent\", \"arrowHeadColor\", \"markerEndId\", \"zoomOnScroll\", \"zoomOnDoubleClick\", \"paneMoveable\", \"onPaneClick\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\"]);\n\n  var nodeTypesParsed = useMemo(function () {\n    return createNodeTypes(nodeTypes);\n  }, []);\n  var edgeTypesParsed = useMemo(function () {\n    return createEdgeTypes(edgeTypes);\n  }, []);\n  var reactFlowClasses = cc(['react-flow', className]);\n  return React.createElement(\"div\", _assign({}, rest, {\n    className: reactFlowClasses\n  }), React.createElement(Wrapper, null, React.createElement(GraphView$1, {\n    onLoad: onLoad,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onElementClick: onElementClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDragStart: onNodeDragStart,\n    onNodeDragStop: onNodeDragStop,\n    nodeTypes: nodeTypesParsed,\n    edgeTypes: edgeTypesParsed,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    selectionKeyCode: selectionKeyCode,\n    onElementsRemove: onElementsRemove,\n    deleteKeyCode: deleteKeyCode,\n    elements: elements,\n    onConnect: onConnect,\n    onConnectStart: onConnectStart,\n    onConnectStop: onConnectStop,\n    onConnectEnd: onConnectEnd,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid,\n    onlyRenderVisibleNodes: onlyRenderVisibleNodes,\n    nodesDraggable: nodesDraggable,\n    nodesConnectable: nodesConnectable,\n    elementsSelectable: elementsSelectable,\n    selectNodesOnDrag: selectNodesOnDrag,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    translateExtent: translateExtent,\n    arrowHeadColor: arrowHeadColor,\n    markerEndId: markerEndId,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    paneMoveable: paneMoveable,\n    onPaneClick: onPaneClick,\n    onPaneScroll: onPaneScroll,\n    onPaneContextMenu: onPaneContextMenu,\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStop: onSelectionDragStop,\n    onSelectionContextMenu: onSelectionContextMenu\n  }), onSelectionChange && React.createElement(SelectionListener, {\n    onSelectionChange: onSelectionChange\n  }), children));\n};\n\nReactFlow.displayName = 'ReactFlow';\n\nvar MiniMapNode = function MiniMapNode(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height,\n      style = _a.style,\n      color = _a.color,\n      strokeColor = _a.strokeColor,\n      className = _a.className,\n      borderRadius = _a.borderRadius;\n\n  var _b = style || {},\n      background = _b.background,\n      backgroundColor = _b.backgroundColor;\n\n  var fill = color || background || backgroundColor;\n  return React.createElement(\"rect\", {\n    className: cc(['react-flow__minimap-node', className]),\n    x: x,\n    y: y,\n    rx: borderRadius,\n    ry: borderRadius,\n    width: width,\n    height: height,\n    fill: fill,\n    stroke: strokeColor,\n    strokeWidth: 2\n  });\n};\n\nMiniMapNode.displayName = 'MiniMapNode';\nvar MiniMapNode$1 = memo(MiniMapNode);\nvar css_248z$1 = \".react-flow__minimap{position:absolute;z-index:5;bottom:10px;right:10px}\";\nstyleInject(css_248z$1);\nvar defaultWidth = 200;\nvar defaultHeight = 150;\n\nvar MiniMap = function MiniMap(_a) {\n  var _b = _a.style,\n      style = _b === void 0 ? {\n    backgroundColor: '#fff'\n  } : _b,\n      className = _a.className,\n      _c = _a.nodeStrokeColor,\n      nodeStrokeColor = _c === void 0 ? '#555' : _c,\n      _d = _a.nodeColor,\n      nodeColor = _d === void 0 ? '#fff' : _d,\n      _e = _a.nodeClassName,\n      nodeClassName = _e === void 0 ? '' : _e,\n      _f = _a.nodeBorderRadius,\n      nodeBorderRadius = _f === void 0 ? 5 : _f,\n      _g = _a.maskColor,\n      maskColor = _g === void 0 ? '#F0F2F3' : _g;\n  var containerWidth = useStoreState$1(function (s) {\n    return s.width;\n  });\n  var containerHeight = useStoreState$1(function (s) {\n    return s.height;\n  });\n\n  var _h = useStoreState$1(function (s) {\n    return s.transform;\n  }),\n      tX = _h[0],\n      tY = _h[1],\n      tScale = _h[2];\n\n  var nodes = useStoreState$1(function (s) {\n    return s.nodes;\n  });\n  var mapClasses = cc(['react-flow__minimap', className]);\n  var elementWidth = style.width || defaultWidth;\n  var elementHeight = style.height || defaultHeight;\n  var nodeColorFunc = nodeColor instanceof Function ? nodeColor : function () {\n    return nodeColor;\n  };\n  var nodeStrokeColorFunc = nodeStrokeColor instanceof Function ? nodeStrokeColor : function () {\n    return nodeStrokeColor;\n  };\n  var nodeClassNameFunc = nodeClassName instanceof Function ? nodeClassName : function () {\n    return nodeClassName;\n  };\n  var hasNodes = nodes && nodes.length;\n  var bb = getRectOfNodes(nodes);\n  var viewBB = {\n    x: -tX / tScale,\n    y: -tY / tScale,\n    width: containerWidth / tScale,\n    height: containerHeight / tScale\n  };\n  var boundingRect = hasNodes ? getBoundsofRects(bb, viewBB) : viewBB;\n  var scaledWidth = boundingRect.width / elementWidth;\n  var scaledHeight = boundingRect.height / elementHeight;\n  var viewScale = Math.max(scaledWidth, scaledHeight);\n  var viewWidth = viewScale * elementWidth;\n  var viewHeight = viewScale * elementHeight;\n  var offset = 5 * viewScale;\n  var x = boundingRect.x - (viewWidth - boundingRect.width) / 2 - offset;\n  var y = boundingRect.y - (viewHeight - boundingRect.height) / 2 - offset;\n  var width = viewWidth + offset * 2;\n  var height = viewHeight + offset * 2;\n  return React.createElement(\"svg\", {\n    width: elementWidth,\n    height: elementHeight,\n    viewBox: x + \" \" + y + \" \" + width + \" \" + height,\n    style: style,\n    className: mapClasses\n  }, nodes.filter(function (node) {\n    return !node.isHidden;\n  }).map(function (node) {\n    return React.createElement(MiniMapNode$1, {\n      key: node.id,\n      x: node.__rf.position.x,\n      y: node.__rf.position.y,\n      width: node.__rf.width,\n      height: node.__rf.height,\n      style: node.style,\n      className: nodeClassNameFunc(node),\n      color: nodeColorFunc(node),\n      borderRadius: nodeBorderRadius,\n      strokeColor: nodeStrokeColorFunc(node)\n    });\n  }), React.createElement(\"path\", {\n    className: \"react-flow__minimap-mask\",\n    d: \"M\" + (x - offset) + \",\" + (y - offset) + \"h\" + (width + offset * 2) + \"v\" + (height + offset * 2) + \"h\" + (-width - offset * 2) + \"z\\n        M\" + viewBB.x + \",\" + viewBB.y + \"h\" + viewBB.width + \"v\" + viewBB.height + \"h\" + -viewBB.width + \"z\",\n    fill: maskColor,\n    fillRule: \"evenodd\"\n  }));\n};\n\nMiniMap.displayName = 'MiniMap';\nvar index = memo(MiniMap);\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nvar _ref = /*#__PURE__*/createElement(\"path\", {\n  d: \"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z\"\n});\n\nfunction SvgPlus(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$1({\n    viewBox: \"0 0 512 512\"\n  }, props), _ref);\n}\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar _ref$1 = /*#__PURE__*/createElement(\"path\", {\n  d: \"M96 235h320v42H96z\"\n});\n\nfunction SvgMinus(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$2({\n    viewBox: \"0 0 512 512\"\n  }, props), _ref$1);\n}\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nvar _ref$2 = /*#__PURE__*/createElement(\"path\", {\n  d: \"M96 124.2c0-6.9 5.2-12.2 12.2-12.2H176V64h-66.8C75.7 64 48 90.7 48 124.2V192h48v-67.8zM403.6 64H336v48h67.2c6.9 0 12.8 5.2 12.8 12.2V192h48v-67.8c0-33.5-27-60.2-60.4-60.2zM416 386.8c0 6.9-5.2 12.2-12.2 12.2H336v49h67.8c33.5 0 60.2-27.7 60.2-61.2V320h-48v66.8zM108.2 399c-6.9 0-12.2-5.2-12.2-12.2V320H48v66.8c0 33.5 27.7 61.2 61.2 61.2H176v-49h-67.8z\"\n});\n\nfunction SvgFitview(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$3({\n    viewBox: \"0 0 512 512\"\n  }, props), _ref$2);\n}\n\nfunction _extends$4() {\n  _extends$4 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$4.apply(this, arguments);\n}\n\nvar _ref$3 = /*#__PURE__*/createElement(\"path\", {\n  d: \"M376 186h-20v-40c0-55-45-100-100-100S156 91 156 146v40h-20c-22.002 0-40 17.998-40 40v200c0 22.002 17.998 40 40 40h240c22.002 0 40-17.998 40-40V226c0-22.002-17.998-40-40-40zM256 368c-22.002 0-40-17.998-40-40s17.998-40 40-40 40 17.998 40 40-17.998 40-40 40zm62.002-182H193.998v-40c0-34.004 28.003-62.002 62.002-62.002 34.004 0 62.002 27.998 62.002 62.002v40z\"\n});\n\nfunction SvgLock(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$4({\n    viewBox: \"0 0 512 512\"\n  }, props), _ref$3);\n}\n\nfunction _extends$5() {\n  _extends$5 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$5.apply(this, arguments);\n}\n\nvar _ref$4 = /*#__PURE__*/createElement(\"path\", {\n  d: \"M376 187h-20v-40c0-55-45-100-100-100-54.002 23.996-17.999 27.998 4 31.998s58.002 33.998 58.002 68.002H318v40H136c-22.002 0-40 17.998-40 40v200c0 22.002 17.998 40 40 40h240c22.002 0 40-17.998 40-40V227c0-22.002-17.998-40-40-40zM256 369c-22.002 0-40-17.998-40-40s17.998-40 40-40 40 17.998 40 40-17.998 40-40 40z\"\n});\n\nfunction SvgUnlock(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$5({\n    viewBox: \"0 0 512 512\"\n  }, props), _ref$4);\n}\n\nvar css_248z$2 = \".react-flow__controls{position:absolute;z-index:5;bottom:10px;left:10px;box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{background:#fefefe;border-bottom:1px solid #eee;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:5px}.react-flow__controls-button svg{width:100%}.react-flow__controls-button:hover{background:#f4f4f4}\";\nstyleInject(css_248z$2);\n\nvar Controls = function Controls(_a) {\n  var style = _a.style,\n      _b = _a.showZoom,\n      showZoom = _b === void 0 ? true : _b,\n      _c = _a.showFitView,\n      showFitView = _c === void 0 ? true : _c,\n      _d = _a.showInteractive,\n      showInteractive = _d === void 0 ? true : _d,\n      onZoomIn = _a.onZoomIn,\n      onZoomOut = _a.onZoomOut,\n      onFitView = _a.onFitView,\n      onInteractiveChange = _a.onInteractiveChange,\n      className = _a.className;\n  var setInteractive = useStoreActions$1(function (actions) {\n    return actions.setInteractive;\n  });\n  var fitView = useStoreActions$1(function (actions) {\n    return actions.fitView;\n  });\n  var zoomIn = useStoreActions$1(function (actions) {\n    return actions.zoomIn;\n  });\n  var zoomOut = useStoreActions$1(function (actions) {\n    return actions.zoomOut;\n  });\n  var isInteractive = useStoreState$1(function (s) {\n    return s.nodesDraggable && s.nodesConnectable && s.elementsSelectable;\n  });\n  var mapClasses = cc(['react-flow__controls', className]);\n  return React.createElement(\"div\", {\n    className: mapClasses,\n    style: style\n  }, showZoom && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"react-flow__controls-button react-flow__controls-zoomin\",\n    onClick: function onClick() {\n      zoomIn();\n\n      if (onZoomIn) {\n        onZoomIn();\n      }\n    }\n  }, React.createElement(SvgPlus, null)), React.createElement(\"div\", {\n    className: \"react-flow__controls-button react-flow__controls-zoomout\",\n    onClick: function onClick() {\n      zoomOut();\n\n      if (onZoomOut) {\n        onZoomOut();\n      }\n    }\n  }, React.createElement(SvgMinus, null))), showFitView && React.createElement(\"div\", {\n    className: \"react-flow__controls-button react-flow__controls-fitview\",\n    onClick: function onClick() {\n      fitView({\n        padding: 0.1\n      });\n\n      if (onFitView) {\n        onFitView();\n      }\n    }\n  }, React.createElement(SvgFitview, null)), showInteractive && React.createElement(\"div\", {\n    className: \"react-flow__controls-button react-flow__controls-interactive\",\n    onClick: function onClick() {\n      setInteractive(!isInteractive);\n\n      if (onInteractiveChange) {\n        onInteractiveChange(!isInteractive);\n      }\n    }\n  }, isInteractive ? React.createElement(SvgUnlock, null) : React.createElement(SvgLock, null)));\n};\n\nControls.displayName = 'Controls';\nvar index$1 = memo(Controls);\n\nvar createGridLinesPath = function createGridLinesPath(scaledGap, strokeWidth, stroke) {\n  return \"<path stroke=\\\"\" + stroke + \"\\\" strokeWidth=\\\"\" + strokeWidth + \"\\\" d=\\\"M0 0 V\" + scaledGap + \" M0 0 H\" + scaledGap + \"\\\" />\";\n};\n\nvar createGridDotsPath = function createGridDotsPath(size, fill) {\n  return \"<circle cx=\\\"\" + size + \"\\\" cy=\\\"\" + size + \"\\\" r=\\\"\" + size + \"\\\" fill=\\\"\" + fill + \"\\\" />\";\n};\n\nvar css_248z$3 = \".react-flow__background{position:absolute;top:0;left:0;width:100%;height:100%}\";\nstyleInject(css_248z$3);\n\nvar _a;\n\nvar defaultColors = (_a = {}, _a[BackgroundVariant.Dots] = '#81818a', _a[BackgroundVariant.Lines] = '#eee', _a);\n\nvar Background = function Background(_a) {\n  var _b = _a.variant,\n      variant = _b === void 0 ? BackgroundVariant.Dots : _b,\n      _c = _a.gap,\n      gap = _c === void 0 ? 15 : _c,\n      _d = _a.size,\n      size = _d === void 0 ? 0.5 : _d,\n      color = _a.color,\n      style = _a.style,\n      className = _a.className;\n\n  var _e = useStoreState$1(function (s) {\n    return s.transform;\n  }),\n      x = _e[0],\n      y = _e[1],\n      scale = _e[2];\n\n  var bgClasses = cc(['react-flow__background', className]);\n  var scaledGap = gap * scale;\n  var xOffset = x % scaledGap;\n  var yOffset = y % scaledGap;\n  var bgSvgTile = useMemo(function () {\n    var isLines = variant === BackgroundVariant.Lines;\n    var bgColor = color ? color : defaultColors[variant];\n    var path = isLines ? createGridLinesPath(scaledGap, size, bgColor) : createGridDotsPath(size, bgColor);\n    return encodeURIComponent(\"<svg width=\\\"\" + scaledGap + \"\\\" height=\\\"\" + scaledGap + \"\\\" xmlns='http://www.w3.org/2000/svg'>\" + path + \"</svg>\");\n  }, [variant, scaledGap, size, color]);\n  return React.createElement(\"div\", {\n    className: bgClasses,\n    style: _assign(_assign({}, style), {\n      backgroundImage: \"url(\\\"data:image/svg+xml;utf8,\" + bgSvgTile + \"\\\")\",\n      backgroundPosition: xOffset + \"px \" + yOffset + \"px\"\n    })\n  });\n};\n\nBackground.displayName = 'Background';\nvar index$2 = memo(Background);\n\nvar ReactFlowProvider = function ReactFlowProvider(_a) {\n  var children = _a.children;\n  var store = useMemo(function () {\n    return createStore$1(storeModel);\n  }, []);\n  return React.createElement(StoreProvider, {\n    store: store\n  }, children);\n};\n\nReactFlowProvider.displayName = 'ReactFlowProvider';\nexport default ReactFlow;\nexport { ArrowHeadType, index$2 as Background, BackgroundVariant, ConnectionLineType, index$1 as Controls, EdgeText, Handle$1 as Handle, index as MiniMap, Position, ReactFlowProvider, addEdge, getBezierPath, getConnectedEdges, getCenter as getEdgeCenter, getIncomers, getMarkerEnd, getOutgoers, getSmoothStepPath, isEdge, isNode, removeElements, useStore$1 as useStore, useStoreActions$1 as useStoreActions, useStoreDispatch$1 as useStoreDispatch, useStoreState$1 as useStoreState };"],"sourceRoot":""}